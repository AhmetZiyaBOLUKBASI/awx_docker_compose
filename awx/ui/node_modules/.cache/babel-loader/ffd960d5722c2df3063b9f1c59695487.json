{"ast":null,"code":"import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import{i18n}from\"@lingui/core\";import React,{useCallback,useEffect}from'react';import{Link,useHistory,useParams}from'react-router-dom';import{Button,Chip,TextList,TextListItem,TextListItemVariants,TextListVariants,Label}from'@patternfly/react-core';import AlertModal from'components/AlertModal';import{CardBody,CardActionsRow}from'components/Card';import ChipGroup from'components/ChipGroup';import ContentError from'components/ContentError';import ContentLoading from'components/ContentLoading';import CredentialChip from'components/CredentialChip';import{Detail,DetailList,DeletedDetail,UserDateDetail}from'components/DetailList';import DeleteButton from'components/DeleteButton';import ErrorDetail from'components/ErrorDetail';import{LaunchButton}from'components/LaunchButton';import{VariablesDetail}from'components/CodeEditor';import{VERBOSITY}from'components/VerbositySelectField';import{JobTemplatesAPI}from'api';import useRequest,{useDismissableError}from'hooks/useRequest';import useBrandName from'hooks/useBrandName';import ExecutionEnvironmentDetail from'components/ExecutionEnvironmentDetail';import{relatedResourceDeleteRequests}from'util/getRelatedResourceDeleteDetails';import helpText from'../shared/JobTemplate.helptext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function JobTemplateDetail(_ref){var template=_ref.template;var ask_inventory_on_launch=template.ask_inventory_on_launch,allow_simultaneous=template.allow_simultaneous,become_enabled=template.become_enabled,created=template.created,description=template.description,diff_mode=template.diff_mode,extra_vars=template.extra_vars,forks=template.forks,host_config_key=template.host_config_key,job_slice_count=template.job_slice_count,job_tags=template.job_tags,job_type=template.job_type,name=template.name,limit=template.limit,modified=template.modified,playbook=template.playbook,skip_tags=template.skip_tags,timeout=template.timeout,summary_fields=template.summary_fields,use_fact_cache=template.use_fact_cache,url=template.url,verbosity=template.verbosity,webhook_service=template.webhook_service,webhook_receiver=template.related.webhook_receiver,webhook_key=template.webhook_key,custom_virtualenv=template.custom_virtualenv;var _useParams=useParams(),templateId=_useParams.id;var history=useHistory();var brandName=useBrandName();var _useRequest=useRequest(useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$JobTemplatesAP,results;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return JobTemplatesAPI.readInstanceGroups(templateId);case 2:_yield$JobTemplatesAP=_context.sent;results=_yield$JobTemplatesAP.data.results;return _context.abrupt(\"return\",{instanceGroups:results});case 5:case\"end\":return _context.stop();}}},_callee);})),[templateId]),{instanceGroups:[]}),isLoadingInstanceGroups=_useRequest.isLoading,fetchInstanceGroups=_useRequest.request,instanceGroupsError=_useRequest.error,instanceGroups=_useRequest.result.instanceGroups;useEffect(function(){fetchInstanceGroups();},[fetchInstanceGroups]);var _useRequest2=useRequest(useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return JobTemplatesAPI.destroy(templateId);case 2:history.push(\"/templates\");case 3:case\"end\":return _context2.stop();}}},_callee2);})),[templateId,history])),deleteJobTemplate=_useRequest2.request,isDeleteLoading=_useRequest2.isLoading,deleteError=_useRequest2.error;var _useDismissableError=useDismissableError(deleteError),error=_useDismissableError.error,dismissError=_useDismissableError.dismissError;var deleteDetailsRequests=relatedResourceDeleteRequests.template(template);var canLaunch=summary_fields.user_capabilities&&summary_fields.user_capabilities.start;var generateCallBackUrl=\"\".concat(window.location.origin+url,\"callback/\");var renderOptionsField=become_enabled||host_config_key||allow_simultaneous||use_fact_cache||webhook_service;var renderOptions=/*#__PURE__*/_jsxs(TextList,{component:TextListVariants.ul,children:[become_enabled&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Privilege Escalation\")}),host_config_key&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Provisioning Callbacks\")}),allow_simultaneous&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Concurrent Jobs\")}),use_fact_cache&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Fact Storage\")}),webhook_service&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Webhooks\")})]});var inventoryValue=function inventoryValue(kind,id){var inventorykind=kind==='smart'?'smart_inventory':'inventory';return ask_inventory_on_launch?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/inventories/\".concat(inventorykind,\"/\").concat(id,\"/details\"),children:summary_fields.inventory.name}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",/*i18n*/i18n._(\"(Prompt on launch)\")]})]}):/*#__PURE__*/_jsx(Link,{to:\"/inventories/\".concat(inventorykind,\"/\").concat(id,\"/details\"),children:summary_fields.inventory.name});};var buildLinkURL=function buildLinkURL(instance){return instance.is_container_group?'/instance_groups/container_group/':'/instance_groups/';};if(instanceGroupsError){return/*#__PURE__*/_jsx(ContentError,{error:instanceGroupsError});}if(isLoadingInstanceGroups||isDeleteLoading){return/*#__PURE__*/_jsx(ContentLoading,{});}return/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(DetailList,{gutter:\"sm\",children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Name\"),value:name,dataCy:\"jt-detail-name\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Description\"),value:description,dataCy:\"jt-detail-description\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Job Type\"),value:job_type,dataCy:\"jt-detail-job-type\",helpText:helpText.jobType}),summary_fields.organization?/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Organization\"),dataCy:\"jt-detail-organization\",value:/*#__PURE__*/_jsx(Link,{to:\"/organizations/\".concat(summary_fields.organization.id,\"/details\"),children:summary_fields.organization.name})}):/*#__PURE__*/_jsx(DeletedDetail,{label:/*i18n*/i18n._(\"Organization\")}),summary_fields.inventory?/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Inventory\"),dataCy:\"jt-detail-inventory\",value:inventoryValue(summary_fields.inventory.kind,summary_fields.inventory.id),helpText:helpText.inventory}):!ask_inventory_on_launch&&/*#__PURE__*/_jsx(DeletedDetail,{label:/*i18n*/i18n._(\"Inventory\"),dataCy:\"jt-detail-inventory\"}),summary_fields.project?/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Project\"),dataCy:\"jt-detail-project\",value:/*#__PURE__*/_jsx(Link,{to:\"/projects/\".concat(summary_fields.project.id,\"/details\"),children:summary_fields.project.name}),helpText:helpText.project}):/*#__PURE__*/_jsx(DeletedDetail,{label:/*i18n*/i18n._(\"Project\")}),/*#__PURE__*/_jsx(ExecutionEnvironmentDetail,{virtualEnvironment:custom_virtualenv,executionEnvironment:summary_fields===null||summary_fields===void 0?void 0:summary_fields.resolved_environment,helpText:helpText.executionEnvironmentDetail,dataCy:\"jt-detail-execution-environment\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Source Control Branch\"),value:template.scm_branch,dataCy:\"jt-detail-scm-branch\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Playbook\"),value:playbook,dataCy:\"jt-detail-playbook\",helpText:helpText.playbook}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Forks\"),value:forks||'0',dataCy:\"jt-detail-forks\",helpText:helpText.forks}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Limit\"),value:limit,dataCy:\"jt-detail-limit\",helpText:helpText.limit}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Verbosity\"),value:VERBOSITY()[verbosity],dataCy:\"jt-detail-verbosity\",helpText:helpText.verbosity}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Timeout\"),value:timeout||'0',dataCy:\"jt-detail-timeout\",helpText:helpText.timeout}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Show Changes\"),value:diff_mode?/*i18n*/i18n._(\"On\"):/*i18n*/i18n._(\"Off\"),dataCy:\"jt-detail-show-changes\",helpText:helpText.showChanges}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Job Slicing\"),value:job_slice_count,dataCy:\"jt-detail-job-slice-count\",helpText:helpText.jobSlicing}),host_config_key&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Host Config Key\"),value:host_config_key,dataCy:\"jt-detail-host-config-key\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Provisioning Callback URL\"),value:generateCallBackUrl,dataCy:\"jt-detail-provisioning-callback-url\",helpText:helpText.provisioningCallbacks(brandName)})]}),webhook_service&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Webhook Service\"),value:webhook_service==='github'?/*i18n*/i18n._(\"GitHub\"):/*i18n*/i18n._(\"GitLab\"),dataCy:\"jt-detail-webhook-service\",helpText:helpText.webhookService}),webhook_receiver&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Webhook URL\"),value:\"\".concat(document.location.origin).concat(webhook_receiver),dataCy:\"jt-detail-webhook-url\",helpText:helpText.webhookURL}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Webhook Key\"),value:webhook_key,dataCy:\"jt-detail-webhook-key\",helpText:helpText.webhookKey}),summary_fields.webhook_credential&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Webhook Credential\"),dataCy:\"jt-detail-webhook-credential\",helpText:helpText.webhookCredential,value:/*#__PURE__*/_jsx(Link,{to:\"/credentials/\".concat(summary_fields.webhook_credential.id,\"/details\"),children:/*#__PURE__*/_jsx(Label,{children:summary_fields.webhook_credential.name})})}),/*#__PURE__*/_jsx(UserDateDetail,{label:/*i18n*/i18n._(\"Created\"),date:created,user:summary_fields.created_by}),/*#__PURE__*/_jsx(UserDateDetail,{label:/*i18n*/i18n._(\"Last Modified\"),date:modified,user:summary_fields.modified_by}),renderOptionsField&&/*#__PURE__*/_jsx(Detail,{fullWidth:true,label:/*i18n*/i18n._(\"Enabled Options\"),value:renderOptions,dataCy:\"jt-detail-enabled-options\",helpText:helpText.enabledOptions}),summary_fields.credentials&&/*#__PURE__*/_jsx(Detail,{fullWidth:true,label:/*i18n*/i18n._(\"Credentials\"),dataCy:\"jt-detail-credentials\",helpText:helpText.credentials,value:/*#__PURE__*/_jsx(ChipGroup,{numChips:5,totalChips:summary_fields.credentials.length,ouiaId:\"jt-detail-credential-chips\",children:summary_fields.credentials.map(function(c){return/*#__PURE__*/_jsx(Link,{to:\"/credentials/\".concat(c.id,\"/details\"),children:/*#__PURE__*/_jsx(CredentialChip,{credential:c,ouiaId:\"credential-\".concat(c.id,\"-chip\"),isReadOnly:true},c.id)},c.id);})}),isEmpty:summary_fields.credentials.length===0}),summary_fields.labels&&/*#__PURE__*/_jsx(Detail,{fullWidth:true,label:/*i18n*/i18n._(\"Labels\"),dataCy:\"jt-detail-labels\",helpText:helpText.labels,value:/*#__PURE__*/_jsx(ChipGroup,{numChips:5,totalChips:summary_fields.labels.results.length,ouiaId:\"label-chips\",children:summary_fields.labels.results.map(function(l){return/*#__PURE__*/_jsx(Chip,{ouiaId:\"label-\".concat(l.id,\"-chip\"),isReadOnly:true,children:l.name},l.id);})}),isEmpty:summary_fields.labels.results.length===0}),/*#__PURE__*/_jsx(Detail,{fullWidth:true,label:/*i18n*/i18n._(\"Instance Groups\"),dataCy:\"jt-detail-instance-groups\",helpText:helpText.instanceGroups,value:/*#__PURE__*/_jsx(ChipGroup,{numChips:5,totalChips:instanceGroups.length,ouiaId:\"instance-group-chips\",children:instanceGroups.map(function(ig){return/*#__PURE__*/_jsx(Link,{to:\"\".concat(buildLinkURL(ig)).concat(ig.id,\"/details\"),children:/*#__PURE__*/_jsx(Chip,{ouiaId:\"instance-group-\".concat(ig.id,\"-chip\"),isReadOnly:true,children:ig.name},ig.id)},ig.id);})}),isEmpty:instanceGroups.length===0}),job_tags&&/*#__PURE__*/_jsx(Detail,{fullWidth:true,label:/*i18n*/i18n._(\"Job Tags\"),dataCy:\"jt-detail-job-tags\",helpText:helpText.jobTags,value:/*#__PURE__*/_jsx(ChipGroup,{numChips:5,totalChips:job_tags.split(',').length,ouiaId:\"job-tag-chips\",children:job_tags.split(',').map(function(jobTag){return/*#__PURE__*/_jsx(Chip,{ouiaId:\"job-tag-\".concat(jobTag,\"-chip\"),isReadOnly:true,children:jobTag},jobTag);})}),isEmpty:job_tags.length===0}),skip_tags&&/*#__PURE__*/_jsx(Detail,{fullWidth:true,label:/*i18n*/i18n._(\"Skip Tags\"),dataCy:\"jt-detail-skip-tags\",helpText:helpText.skipTags,value:/*#__PURE__*/_jsx(ChipGroup,{numChips:5,totalChips:skip_tags.split(',').length,ouiaId:\"skip-tag-chips\",children:skip_tags.split(',').map(function(skipTag){return/*#__PURE__*/_jsx(Chip,{ouiaId:\"skip-tag-\".concat(skipTag,\"-chip\"),isReadOnly:true,children:skipTag},skipTag);})}),isEmpty:skip_tags.length===0}),/*#__PURE__*/_jsx(VariablesDetail,{value:extra_vars,rows:4,label:/*i18n*/i18n._(\"Variables\"),dataCy:\"jt-detail-\".concat(template.id),name:\"extra_vars\",helpText:helpText.variables})]}),/*#__PURE__*/_jsxs(CardActionsRow,{children:[summary_fields.user_capabilities&&summary_fields.user_capabilities.edit&&/*#__PURE__*/_jsx(Button,{ouiaId:\"job-template-detail-edit-button\",component:Link,to:\"/templates/job_template/\".concat(templateId,\"/edit\"),\"aria-label\":/*i18n*/i18n._(\"Edit\"),children:/*i18n*/i18n._(\"Edit\")}),canLaunch&&/*#__PURE__*/_jsx(LaunchButton,{resource:template,\"aria-label\":/*i18n*/i18n._(\"Launch\"),children:function children(_ref4){var handleLaunch=_ref4.handleLaunch,isLaunching=_ref4.isLaunching;return/*#__PURE__*/_jsx(Button,{ouiaId:\"job-template-detail-launch-button\",variant:\"secondary\",type:\"submit\",onClick:handleLaunch,isDisabled:isLaunching,children:/*i18n*/i18n._(\"Launch\")});}}),summary_fields.user_capabilities&&summary_fields.user_capabilities.delete&&/*#__PURE__*/_jsx(DeleteButton,{ouiaId:\"job-template-detail-delete-button\",name:name,modalTitle:/*i18n*/i18n._(\"Delete Job Template\"),onConfirm:deleteJobTemplate,isDisabled:isDeleteLoading,deleteDetailsRequests:deleteDetailsRequests,deleteMessage:/*i18n*/i18n._(\"This job template is currently being used by other resources. Are you sure you want to delete it?\"),children:/*i18n*/i18n._(\"Delete\")})]}),error&&/*#__PURE__*/_jsxs(AlertModal,{isOpen:error,variant:\"error\",title:/*i18n*/i18n._(\"Error!\"),onClose:dismissError,children:[/*i18n*/i18n._(\"Failed to delete job template.\"),/*#__PURE__*/_jsx(ErrorDetail,{error:error})]})]});}export{JobTemplateDetail as _JobTemplateDetail};export default JobTemplateDetail;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/Template/JobTemplateDetail/JobTemplateDetail.js"],"names":["React","useCallback","useEffect","Link","useHistory","useParams","Button","Chip","TextList","TextListItem","TextListItemVariants","TextListVariants","Label","AlertModal","CardBody","CardActionsRow","ChipGroup","ContentError","ContentLoading","CredentialChip","Detail","DetailList","DeletedDetail","UserDateDetail","DeleteButton","ErrorDetail","LaunchButton","VariablesDetail","VERBOSITY","JobTemplatesAPI","useRequest","useDismissableError","useBrandName","ExecutionEnvironmentDetail","relatedResourceDeleteRequests","helpText","JobTemplateDetail","template","ask_inventory_on_launch","allow_simultaneous","become_enabled","created","description","diff_mode","extra_vars","forks","host_config_key","job_slice_count","job_tags","job_type","name","limit","modified","playbook","skip_tags","timeout","summary_fields","use_fact_cache","url","verbosity","webhook_service","webhook_receiver","related","webhook_key","custom_virtualenv","templateId","id","history","brandName","readInstanceGroups","results","data","instanceGroups","isLoadingInstanceGroups","isLoading","fetchInstanceGroups","request","instanceGroupsError","error","result","destroy","push","deleteJobTemplate","isDeleteLoading","deleteError","dismissError","deleteDetailsRequests","canLaunch","user_capabilities","start","generateCallBackUrl","window","location","origin","renderOptionsField","renderOptions","ul","li","inventoryValue","kind","inventorykind","inventory","buildLinkURL","instance","is_container_group","jobType","organization","project","resolved_environment","executionEnvironmentDetail","scm_branch","showChanges","jobSlicing","provisioningCallbacks","webhookService","document","webhookURL","webhookKey","webhook_credential","webhookCredential","created_by","modified_by","enabledOptions","credentials","length","map","c","labels","l","ig","jobTags","split","jobTag","skipTags","skipTag","variables","edit","handleLaunch","isLaunching","delete","_JobTemplateDetail"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect } from 'react';\nimport { Link, useHistory, useParams } from 'react-router-dom';\n\nimport {\n  Button,\n  Chip,\n  TextList,\n  TextListItem,\n  TextListItemVariants,\n  TextListVariants,\n  Label,\n} from '@patternfly/react-core';\nimport { t } from '@lingui/macro';\n\nimport AlertModal from 'components/AlertModal';\nimport { CardBody, CardActionsRow } from 'components/Card';\nimport ChipGroup from 'components/ChipGroup';\nimport ContentError from 'components/ContentError';\nimport ContentLoading from 'components/ContentLoading';\nimport CredentialChip from 'components/CredentialChip';\nimport {\n  Detail,\n  DetailList,\n  DeletedDetail,\n  UserDateDetail,\n} from 'components/DetailList';\nimport DeleteButton from 'components/DeleteButton';\nimport ErrorDetail from 'components/ErrorDetail';\nimport { LaunchButton } from 'components/LaunchButton';\nimport { VariablesDetail } from 'components/CodeEditor';\nimport { VERBOSITY } from 'components/VerbositySelectField';\nimport { JobTemplatesAPI } from 'api';\nimport useRequest, { useDismissableError } from 'hooks/useRequest';\nimport useBrandName from 'hooks/useBrandName';\nimport ExecutionEnvironmentDetail from 'components/ExecutionEnvironmentDetail';\nimport { relatedResourceDeleteRequests } from 'util/getRelatedResourceDeleteDetails';\nimport helpText from '../shared/JobTemplate.helptext';\n\nfunction JobTemplateDetail({ template }) {\n  const {\n    ask_inventory_on_launch,\n    allow_simultaneous,\n    become_enabled,\n    created,\n    description,\n    diff_mode,\n    extra_vars,\n    forks,\n    host_config_key,\n    job_slice_count,\n    job_tags,\n    job_type,\n    name,\n    limit,\n    modified,\n    playbook,\n    skip_tags,\n    timeout,\n    summary_fields,\n    use_fact_cache,\n    url,\n    verbosity,\n    webhook_service,\n    related: { webhook_receiver },\n    webhook_key,\n    custom_virtualenv,\n  } = template;\n  const { id: templateId } = useParams();\n  const history = useHistory();\n  const brandName = useBrandName();\n\n  const {\n    isLoading: isLoadingInstanceGroups,\n    request: fetchInstanceGroups,\n    error: instanceGroupsError,\n    result: { instanceGroups },\n  } = useRequest(\n    useCallback(async () => {\n      const {\n        data: { results },\n      } = await JobTemplatesAPI.readInstanceGroups(templateId);\n      return { instanceGroups: results };\n    }, [templateId]),\n    { instanceGroups: [] }\n  );\n\n  useEffect(() => {\n    fetchInstanceGroups();\n  }, [fetchInstanceGroups]);\n\n  const {\n    request: deleteJobTemplate,\n    isLoading: isDeleteLoading,\n    error: deleteError,\n  } = useRequest(\n    useCallback(async () => {\n      await JobTemplatesAPI.destroy(templateId);\n      history.push(`/templates`);\n    }, [templateId, history])\n  );\n\n  const { error, dismissError } = useDismissableError(deleteError);\n\n  const deleteDetailsRequests =\n    relatedResourceDeleteRequests.template(template);\n  const canLaunch =\n    summary_fields.user_capabilities && summary_fields.user_capabilities.start;\n  const generateCallBackUrl = `${window.location.origin + url}callback/`;\n  const renderOptionsField =\n    become_enabled ||\n    host_config_key ||\n    allow_simultaneous ||\n    use_fact_cache ||\n    webhook_service;\n\n  const renderOptions = (\n    <TextList component={TextListVariants.ul}>\n      {become_enabled && (\n        <TextListItem component={TextListItemVariants.li}>\n          {t`Privilege Escalation`}\n        </TextListItem>\n      )}\n      {host_config_key && (\n        <TextListItem component={TextListItemVariants.li}>\n          {t`Provisioning Callbacks`}\n        </TextListItem>\n      )}\n      {allow_simultaneous && (\n        <TextListItem component={TextListItemVariants.li}>\n          {t`Concurrent Jobs`}\n        </TextListItem>\n      )}\n      {use_fact_cache && (\n        <TextListItem component={TextListItemVariants.li}>\n          {t`Fact Storage`}\n        </TextListItem>\n      )}\n      {webhook_service && (\n        <TextListItem component={TextListItemVariants.li}>\n          {t`Webhooks`}\n        </TextListItem>\n      )}\n    </TextList>\n  );\n\n  const inventoryValue = (kind, id) => {\n    const inventorykind = kind === 'smart' ? 'smart_inventory' : 'inventory';\n\n    return ask_inventory_on_launch ? (\n      <>\n        <Link to={`/inventories/${inventorykind}/${id}/details`}>\n          {summary_fields.inventory.name}\n        </Link>\n        <span> {t`(Prompt on launch)`}</span>\n      </>\n    ) : (\n      <Link to={`/inventories/${inventorykind}/${id}/details`}>\n        {summary_fields.inventory.name}\n      </Link>\n    );\n  };\n\n  const buildLinkURL = (instance) =>\n    instance.is_container_group\n      ? '/instance_groups/container_group/'\n      : '/instance_groups/';\n\n  if (instanceGroupsError) {\n    return <ContentError error={instanceGroupsError} />;\n  }\n\n  if (isLoadingInstanceGroups || isDeleteLoading) {\n    return <ContentLoading />;\n  }\n  return (\n    <CardBody>\n      <DetailList gutter=\"sm\">\n        <Detail label={t`Name`} value={name} dataCy=\"jt-detail-name\" />\n        <Detail\n          label={t`Description`}\n          value={description}\n          dataCy=\"jt-detail-description\"\n        />\n        <Detail\n          label={t`Job Type`}\n          value={job_type}\n          dataCy=\"jt-detail-job-type\"\n          helpText={helpText.jobType}\n        />\n        {summary_fields.organization ? (\n          <Detail\n            label={t`Organization`}\n            dataCy=\"jt-detail-organization\"\n            value={\n              <Link\n                to={`/organizations/${summary_fields.organization.id}/details`}\n              >\n                {summary_fields.organization.name}\n              </Link>\n            }\n          />\n        ) : (\n          <DeletedDetail label={t`Organization`} />\n        )}\n        {summary_fields.inventory ? (\n          <Detail\n            label={t`Inventory`}\n            dataCy=\"jt-detail-inventory\"\n            value={inventoryValue(\n              summary_fields.inventory.kind,\n              summary_fields.inventory.id\n            )}\n            helpText={helpText.inventory}\n          />\n        ) : (\n          !ask_inventory_on_launch && (\n            <DeletedDetail label={t`Inventory`} dataCy=\"jt-detail-inventory\" />\n          )\n        )}\n        {summary_fields.project ? (\n          <Detail\n            label={t`Project`}\n            dataCy=\"jt-detail-project\"\n            value={\n              <Link to={`/projects/${summary_fields.project.id}/details`}>\n                {summary_fields.project.name}\n              </Link>\n            }\n            helpText={helpText.project}\n          />\n        ) : (\n          <DeletedDetail label={t`Project`} />\n        )}\n        <ExecutionEnvironmentDetail\n          virtualEnvironment={custom_virtualenv}\n          executionEnvironment={summary_fields?.resolved_environment}\n          helpText={helpText.executionEnvironmentDetail}\n          dataCy=\"jt-detail-execution-environment\"\n        />\n        <Detail\n          label={t`Source Control Branch`}\n          value={template.scm_branch}\n          dataCy=\"jt-detail-scm-branch\"\n        />\n        <Detail\n          label={t`Playbook`}\n          value={playbook}\n          dataCy=\"jt-detail-playbook\"\n          helpText={helpText.playbook}\n        />\n        <Detail\n          label={t`Forks`}\n          value={forks || '0'}\n          dataCy=\"jt-detail-forks\"\n          helpText={helpText.forks}\n        />\n        <Detail\n          label={t`Limit`}\n          value={limit}\n          dataCy=\"jt-detail-limit\"\n          helpText={helpText.limit}\n        />\n        <Detail\n          label={t`Verbosity`}\n          value={VERBOSITY()[verbosity]}\n          dataCy=\"jt-detail-verbosity\"\n          helpText={helpText.verbosity}\n        />\n        <Detail\n          label={t`Timeout`}\n          value={timeout || '0'}\n          dataCy=\"jt-detail-timeout\"\n          helpText={helpText.timeout}\n        />\n        <Detail\n          label={t`Show Changes`}\n          value={diff_mode ? t`On` : t`Off`}\n          dataCy=\"jt-detail-show-changes\"\n          helpText={helpText.showChanges}\n        />\n        <Detail\n          label={t`Job Slicing`}\n          value={job_slice_count}\n          dataCy=\"jt-detail-job-slice-count\"\n          helpText={helpText.jobSlicing}\n        />\n        {host_config_key && (\n          <>\n            <Detail\n              label={t`Host Config Key`}\n              value={host_config_key}\n              dataCy=\"jt-detail-host-config-key\"\n            />\n            <Detail\n              label={t`Provisioning Callback URL`}\n              value={generateCallBackUrl}\n              dataCy=\"jt-detail-provisioning-callback-url\"\n              helpText={helpText.provisioningCallbacks(brandName)}\n            />\n          </>\n        )}\n        {webhook_service && (\n          <Detail\n            label={t`Webhook Service`}\n            value={webhook_service === 'github' ? t`GitHub` : t`GitLab`}\n            dataCy=\"jt-detail-webhook-service\"\n            helpText={helpText.webhookService}\n          />\n        )}\n        {webhook_receiver && (\n          <Detail\n            label={t`Webhook URL`}\n            value={`${document.location.origin}${webhook_receiver}`}\n            dataCy=\"jt-detail-webhook-url\"\n            helpText={helpText.webhookURL}\n          />\n        )}\n        <Detail\n          label={t`Webhook Key`}\n          value={webhook_key}\n          dataCy=\"jt-detail-webhook-key\"\n          helpText={helpText.webhookKey}\n        />\n        {summary_fields.webhook_credential && (\n          <Detail\n            label={t`Webhook Credential`}\n            dataCy=\"jt-detail-webhook-credential\"\n            helpText={helpText.webhookCredential}\n            value={\n              <Link\n                to={`/credentials/${summary_fields.webhook_credential.id}/details`}\n              >\n                <Label>{summary_fields.webhook_credential.name}</Label>\n              </Link>\n            }\n          />\n        )}\n        <UserDateDetail\n          label={t`Created`}\n          date={created}\n          user={summary_fields.created_by}\n        />\n        <UserDateDetail\n          label={t`Last Modified`}\n          date={modified}\n          user={summary_fields.modified_by}\n        />\n        {renderOptionsField && (\n          <Detail\n            fullWidth\n            label={t`Enabled Options`}\n            value={renderOptions}\n            dataCy=\"jt-detail-enabled-options\"\n            helpText={helpText.enabledOptions}\n          />\n        )}\n        {summary_fields.credentials && (\n          <Detail\n            fullWidth\n            label={t`Credentials`}\n            dataCy=\"jt-detail-credentials\"\n            helpText={helpText.credentials}\n            value={\n              <ChipGroup\n                numChips={5}\n                totalChips={summary_fields.credentials.length}\n                ouiaId=\"jt-detail-credential-chips\"\n              >\n                {summary_fields.credentials.map((c) => (\n                  <Link to={`/credentials/${c.id}/details`} key={c.id}>\n                    <CredentialChip\n                      key={c.id}\n                      credential={c}\n                      ouiaId={`credential-${c.id}-chip`}\n                      isReadOnly\n                    />\n                  </Link>\n                ))}\n              </ChipGroup>\n            }\n            isEmpty={summary_fields.credentials.length === 0}\n          />\n        )}\n        {summary_fields.labels && (\n          <Detail\n            fullWidth\n            label={t`Labels`}\n            dataCy=\"jt-detail-labels\"\n            helpText={helpText.labels}\n            value={\n              <ChipGroup\n                numChips={5}\n                totalChips={summary_fields.labels.results.length}\n                ouiaId=\"label-chips\"\n              >\n                {summary_fields.labels.results.map((l) => (\n                  <Chip key={l.id} ouiaId={`label-${l.id}-chip`} isReadOnly>\n                    {l.name}\n                  </Chip>\n                ))}\n              </ChipGroup>\n            }\n            isEmpty={summary_fields.labels.results.length === 0}\n          />\n        )}\n        <Detail\n          fullWidth\n          label={t`Instance Groups`}\n          dataCy=\"jt-detail-instance-groups\"\n          helpText={helpText.instanceGroups}\n          value={\n            <ChipGroup\n              numChips={5}\n              totalChips={instanceGroups.length}\n              ouiaId=\"instance-group-chips\"\n            >\n              {instanceGroups.map((ig) => (\n                <Link to={`${buildLinkURL(ig)}${ig.id}/details`} key={ig.id}>\n                  <Chip\n                    key={ig.id}\n                    ouiaId={`instance-group-${ig.id}-chip`}\n                    isReadOnly\n                  >\n                    {ig.name}\n                  </Chip>\n                </Link>\n              ))}\n            </ChipGroup>\n          }\n          isEmpty={instanceGroups.length === 0}\n        />\n        {job_tags && (\n          <Detail\n            fullWidth\n            label={t`Job Tags`}\n            dataCy=\"jt-detail-job-tags\"\n            helpText={helpText.jobTags}\n            value={\n              <ChipGroup\n                numChips={5}\n                totalChips={job_tags.split(',').length}\n                ouiaId=\"job-tag-chips\"\n              >\n                {job_tags.split(',').map((jobTag) => (\n                  <Chip\n                    key={jobTag}\n                    ouiaId={`job-tag-${jobTag}-chip`}\n                    isReadOnly\n                  >\n                    {jobTag}\n                  </Chip>\n                ))}\n              </ChipGroup>\n            }\n            isEmpty={job_tags.length === 0}\n          />\n        )}\n        {skip_tags && (\n          <Detail\n            fullWidth\n            label={t`Skip Tags`}\n            dataCy=\"jt-detail-skip-tags\"\n            helpText={helpText.skipTags}\n            value={\n              <ChipGroup\n                numChips={5}\n                totalChips={skip_tags.split(',').length}\n                ouiaId=\"skip-tag-chips\"\n              >\n                {skip_tags.split(',').map((skipTag) => (\n                  <Chip\n                    key={skipTag}\n                    ouiaId={`skip-tag-${skipTag}-chip`}\n                    isReadOnly\n                  >\n                    {skipTag}\n                  </Chip>\n                ))}\n              </ChipGroup>\n            }\n            isEmpty={skip_tags.length === 0}\n          />\n        )}\n        <VariablesDetail\n          value={extra_vars}\n          rows={4}\n          label={t`Variables`}\n          dataCy={`jt-detail-${template.id}`}\n          name=\"extra_vars\"\n          helpText={helpText.variables}\n        />\n      </DetailList>\n      <CardActionsRow>\n        {summary_fields.user_capabilities &&\n          summary_fields.user_capabilities.edit && (\n            <Button\n              ouiaId=\"job-template-detail-edit-button\"\n              component={Link}\n              to={`/templates/job_template/${templateId}/edit`}\n              aria-label={t`Edit`}\n            >\n              {t`Edit`}\n            </Button>\n          )}\n        {canLaunch && (\n          <LaunchButton resource={template} aria-label={t`Launch`}>\n            {({ handleLaunch, isLaunching }) => (\n              <Button\n                ouiaId=\"job-template-detail-launch-button\"\n                variant=\"secondary\"\n                type=\"submit\"\n                onClick={handleLaunch}\n                isDisabled={isLaunching}\n              >\n                {t`Launch`}\n              </Button>\n            )}\n          </LaunchButton>\n        )}\n        {summary_fields.user_capabilities &&\n          summary_fields.user_capabilities.delete && (\n            <DeleteButton\n              ouiaId=\"job-template-detail-delete-button\"\n              name={name}\n              modalTitle={t`Delete Job Template`}\n              onConfirm={deleteJobTemplate}\n              isDisabled={isDeleteLoading}\n              deleteDetailsRequests={deleteDetailsRequests}\n              deleteMessage={t`This job template is currently being used by other resources. Are you sure you want to delete it?`}\n            >\n              {t`Delete`}\n            </DeleteButton>\n          )}\n      </CardActionsRow>\n      {/* Update delete modal to show dependencies https://github.com/ansible/awx/issues/5546 */}\n      {error && (\n        <AlertModal\n          isOpen={error}\n          variant=\"error\"\n          title={t`Error!`}\n          onClose={dismissError}\n        >\n          {t`Failed to delete job template.`}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\n\nexport { JobTemplateDetail as _JobTemplateDetail };\nexport default JobTemplateDetail;\n"]},"metadata":{},"sourceType":"module"}