{"ast":null,"code":"import _toConsumableArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useCallback}from'react';export default function useExpanded(){var list=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),expanded=_useState2[0],setExpanded=_useState2[1];var isAllExpanded=expanded.length>0&&expanded.length===list.length;var handleExpand=function handleExpand(row){if(!row.id){throw new Error(\"Selected row does not have an id\");}if(expanded.some(function(s){return s.id===row.id;})){setExpanded(function(prevState){return _toConsumableArray(prevState.filter(function(i){return i.id!==row.id;}));});}else{setExpanded(function(prevState){return[].concat(_toConsumableArray(prevState),[row]);});}};var expandAll=useCallback(function(isExpanded){setExpanded(isExpanded?_toConsumableArray(list):[]);},[list]);return{expanded:expanded,isAllExpanded:isAllExpanded,handleExpand:handleExpand,setExpanded:setExpanded,expandAll:expandAll};}","map":{"version":3,"sources":["/awx_devel/awx/ui/src/hooks/useExpanded.js"],"names":["useState","useCallback","useExpanded","list","expanded","setExpanded","isAllExpanded","length","handleExpand","row","id","Error","some","s","prevState","filter","i","expandAll","isExpanded"],"mappings":"sNAAA,OAASA,QAAT,CAAmBC,WAAnB,KAAsC,OAAtC,CAEA,cAAe,SAASC,CAAAA,WAAT,EAAgC,IAAXC,CAAAA,IAAW,2DAAJ,EAAI,CAC7C,cAAgCH,QAAQ,CAAC,EAAD,CAAxC,wCAAOI,QAAP,eAAiBC,WAAjB,eACA,GAAMC,CAAAA,aAAa,CAAGF,QAAQ,CAACG,MAAT,CAAkB,CAAlB,EAAuBH,QAAQ,CAACG,MAAT,GAAoBJ,IAAI,CAACI,MAAtE,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,GAAD,CAAS,CAC5B,GAAI,CAACA,GAAG,CAACC,EAAT,CAAa,CACX,KAAM,IAAIC,CAAAA,KAAJ,oCAAN,CACD,CACD,GAAIP,QAAQ,CAACQ,IAAT,CAAc,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACH,EAAF,GAASD,GAAG,CAACC,EAApB,EAAd,CAAJ,CAA2C,CACzCL,WAAW,CAAC,SAACS,SAAD,4BAAmBA,SAAS,CAACC,MAAV,CAAiB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACN,EAAF,GAASD,GAAG,CAACC,EAApB,EAAjB,CAAnB,GAAD,CAAX,CACD,CAFD,IAEO,CACLL,WAAW,CAAC,SAACS,SAAD,qCAAmBA,SAAnB,GAA8BL,GAA9B,IAAD,CAAX,CACD,CACF,CATD,CAWA,GAAMQ,CAAAA,SAAS,CAAGhB,WAAW,CAC3B,SAACiB,UAAD,CAAgB,CACdb,WAAW,CAACa,UAAU,oBAAOf,IAAP,EAAe,EAA1B,CAAX,CACD,CAH0B,CAI3B,CAACA,IAAD,CAJ2B,CAA7B,CAOA,MAAO,CACLC,QAAQ,CAARA,QADK,CAELE,aAAa,CAAbA,aAFK,CAGLE,YAAY,CAAZA,YAHK,CAILH,WAAW,CAAXA,WAJK,CAKLY,SAAS,CAATA,SALK,CAAP,CAOD","sourcesContent":["import { useState, useCallback } from 'react';\n\nexport default function useExpanded(list = []) {\n  const [expanded, setExpanded] = useState([]);\n  const isAllExpanded = expanded.length > 0 && expanded.length === list.length;\n\n  const handleExpand = (row) => {\n    if (!row.id) {\n      throw new Error(`Selected row does not have an id`);\n    }\n    if (expanded.some((s) => s.id === row.id)) {\n      setExpanded((prevState) => [...prevState.filter((i) => i.id !== row.id)]);\n    } else {\n      setExpanded((prevState) => [...prevState, row]);\n    }\n  };\n\n  const expandAll = useCallback(\n    (isExpanded) => {\n      setExpanded(isExpanded ? [...list] : []);\n    },\n    [list]\n  );\n\n  return {\n    expanded,\n    isAllExpanded,\n    handleExpand,\n    setExpanded,\n    expandAll,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}