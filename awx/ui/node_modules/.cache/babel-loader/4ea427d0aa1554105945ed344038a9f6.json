{"ast":null,"code":"import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import{i18n}from\"@lingui/core\";import React,{useEffect,useCallback}from'react';import{Link,Redirect,Route,Switch,useRouteMatch}from'react-router-dom';import{CaretLeftIcon}from'@patternfly/react-icons';import ContentError from'components/ContentError';import ContentLoading from'components/ContentLoading';import RoutedTabs from'components/RoutedTabs';import useRequest from'hooks/useRequest';import{InventoriesAPI}from'api';import SmartInventoryHostDetail from'../SmartInventoryHostDetail';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SmartInventoryHost(_ref){var inventory=_ref.inventory,setBreadcrumb=_ref.setBreadcrumb;var _useRouteMatch=useRouteMatch('/inventories/smart_inventory/:id/hosts/:hostId'),params=_useRouteMatch.params,path=_useRouteMatch.path,url=_useRouteMatch.url;var _useRequest=useRequest(useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return InventoriesAPI.readHostDetail(inventory.id,params.hostId);case 2:response=_context.sent;return _context.abrupt(\"return\",response);case 4:case\"end\":return _context.stop();}}},_callee);})),[inventory.id,params.hostId]),null),host=_useRequest.result,error=_useRequest.error,isLoading=_useRequest.isLoading,fetchHost=_useRequest.request;useEffect(function(){fetchHost();},[fetchHost]);useEffect(function(){if(inventory&&host){setBreadcrumb(inventory,host);}},[inventory,host,setBreadcrumb]);if(error){return/*#__PURE__*/_jsx(ContentError,{error:error});}var tabsArray=[{name:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CaretLeftIcon,{}),/*i18n*/i18n._(\"Back to Hosts\")]}),link:\"/inventories/smart_inventory/\".concat(inventory.id,\"/hosts\"),id:0},{name:/*i18n*/i18n._(\"Details\"),link:\"\".concat(url,\"/details\"),id:1}];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(RoutedTabs,{tabsArray:tabsArray}),isLoading&&/*#__PURE__*/_jsx(ContentLoading,{}),!isLoading&&host&&/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Redirect,{from:\"/inventories/smart_inventory/:id/hosts/:hostId\",to:\"\".concat(path,\"/details\"),exact:true}),/*#__PURE__*/_jsx(Route,{path:\"\".concat(path,\"/details\"),children:/*#__PURE__*/_jsx(SmartInventoryHostDetail,{host:host})},\"details\"),/*#__PURE__*/_jsx(Route,{path:\"*\",children:/*#__PURE__*/_jsx(ContentError,{isNotFound:true,children:/*#__PURE__*/_jsx(Link,{to:\"\".concat(url,\"/details\"),children:/*i18n*/i18n._(\"View smart inventory host details\")})})},\"not-found\")]})]});}export default SmartInventoryHost;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/Inventory/SmartInventoryHost/SmartInventoryHost.js"],"names":["React","useEffect","useCallback","Link","Redirect","Route","Switch","useRouteMatch","CaretLeftIcon","ContentError","ContentLoading","RoutedTabs","useRequest","InventoriesAPI","SmartInventoryHostDetail","SmartInventoryHost","inventory","setBreadcrumb","params","path","url","readHostDetail","id","hostId","response","host","result","error","isLoading","fetchHost","request","tabsArray","name","link"],"mappings":"gPAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,WAA3B,KAA8C,OAA9C,CAGA,OAASC,IAAT,CAAeC,QAAf,CAAyBC,KAAzB,CAAgCC,MAAhC,CAAwCC,aAAxC,KAA6D,kBAA7D,CACA,OAASC,aAAT,KAA8B,yBAA9B,CACA,MAAOC,CAAAA,YAAP,KAAyB,yBAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,2BAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,uBAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,kBAAvB,CACA,OAASC,cAAT,KAA+B,KAA/B,CACA,MAAOC,CAAAA,wBAAP,KAAqC,6BAArC,C,6IAEA,QAASC,CAAAA,kBAAT,MAA0D,IAA5BC,CAAAA,SAA4B,MAA5BA,SAA4B,CAAjBC,aAAiB,MAAjBA,aAAiB,CACxD,mBAA8BV,aAAa,CACzC,gDADyC,CAA3C,CAAQW,MAAR,gBAAQA,MAAR,CAAgBC,IAAhB,gBAAgBA,IAAhB,CAAsBC,GAAtB,gBAAsBA,GAAtB,CAIA,gBAKIR,UAAU,CACZV,WAAW,sEAAC,sKACaW,CAAAA,cAAc,CAACQ,cAAf,CACrBL,SAAS,CAACM,EADW,CAErBJ,MAAM,CAACK,MAFc,CADb,QACJC,QADI,+CAKHA,QALG,wDAAD,GAMR,CAACR,SAAS,CAACM,EAAX,CAAeJ,MAAM,CAACK,MAAtB,CANQ,CADC,CAQZ,IARY,CALd,CACUE,IADV,aACEC,MADF,CAEEC,KAFF,aAEEA,KAFF,CAGEC,SAHF,aAGEA,SAHF,CAIWC,SAJX,aAIEC,OAJF,CAgBA7B,SAAS,CAAC,UAAM,CACd4B,SAAS,GACV,CAFQ,CAEN,CAACA,SAAD,CAFM,CAAT,CAIA5B,SAAS,CAAC,UAAM,CACd,GAAIe,SAAS,EAAIS,IAAjB,CAAuB,CACrBR,aAAa,CAACD,SAAD,CAAYS,IAAZ,CAAb,CACD,CACF,CAJQ,CAIN,CAACT,SAAD,CAAYS,IAAZ,CAAkBR,aAAlB,CAJM,CAAT,CAMA,GAAIU,KAAJ,CAAW,CACT,mBAAO,KAAC,YAAD,EAAc,KAAK,CAAEA,KAArB,EAAP,CACD,CAED,GAAMI,CAAAA,SAAS,CAAG,CAChB,CACEC,IAAI,cACF,wCACE,KAAC,aAAD,IADF,SAEG,uBAFH,GAFJ,CAOEC,IAAI,wCAAkCjB,SAAS,CAACM,EAA5C,UAPN,CAQEA,EAAE,CAAE,CARN,CADgB,CAWhB,CACEU,IAAI,SAAE,iBADR,CAEEC,IAAI,WAAKb,GAAL,YAFN,CAGEE,EAAE,CAAE,CAHN,CAXgB,CAAlB,CAkBA,mBACE,wCACE,KAAC,UAAD,EAAY,SAAS,CAAES,SAAvB,EADF,CAGGH,SAAS,eAAI,KAAC,cAAD,IAHhB,CAKG,CAACA,SAAD,EAAcH,IAAd,eACC,MAAC,MAAD,yBACE,KAAC,QAAD,EACE,IAAI,CAAC,gDADP,CAEE,EAAE,WAAKN,IAAL,YAFJ,CAGE,KAAK,KAHP,EADF,cAME,KAAC,KAAD,EAAqB,IAAI,WAAKA,IAAL,YAAzB,uBACE,KAAC,wBAAD,EAA0B,IAAI,CAAEM,IAAhC,EADF,EAAW,SAAX,CANF,cASE,KAAC,KAAD,EAAuB,IAAI,CAAC,GAA5B,uBACE,KAAC,YAAD,EAAc,UAAU,KAAxB,uBACE,KAAC,IAAD,EAAM,EAAE,WAAKL,GAAL,YAAR,kBACG,2CADH,EADF,EADF,EAAW,WAAX,CATF,GANJ,GADF,CA2BD,CAED,cAAeL,CAAAA,kBAAf","sourcesContent":["import React, { useEffect, useCallback } from 'react';\n\nimport { t } from '@lingui/macro';\nimport { Link, Redirect, Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport ContentError from 'components/ContentError';\nimport ContentLoading from 'components/ContentLoading';\nimport RoutedTabs from 'components/RoutedTabs';\nimport useRequest from 'hooks/useRequest';\nimport { InventoriesAPI } from 'api';\nimport SmartInventoryHostDetail from '../SmartInventoryHostDetail';\n\nfunction SmartInventoryHost({ inventory, setBreadcrumb }) {\n  const { params, path, url } = useRouteMatch(\n    '/inventories/smart_inventory/:id/hosts/:hostId'\n  );\n\n  const {\n    result: host,\n    error,\n    isLoading,\n    request: fetchHost,\n  } = useRequest(\n    useCallback(async () => {\n      const response = await InventoriesAPI.readHostDetail(\n        inventory.id,\n        params.hostId\n      );\n      return response;\n    }, [inventory.id, params.hostId]),\n    null\n  );\n\n  useEffect(() => {\n    fetchHost();\n  }, [fetchHost]);\n\n  useEffect(() => {\n    if (inventory && host) {\n      setBreadcrumb(inventory, host);\n    }\n  }, [inventory, host, setBreadcrumb]);\n\n  if (error) {\n    return <ContentError error={error} />;\n  }\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {t`Back to Hosts`}\n        </>\n      ),\n      link: `/inventories/smart_inventory/${inventory.id}/hosts`,\n      id: 0,\n    },\n    {\n      name: t`Details`,\n      link: `${url}/details`,\n      id: 1,\n    },\n  ];\n\n  return (\n    <>\n      <RoutedTabs tabsArray={tabsArray} />\n\n      {isLoading && <ContentLoading />}\n\n      {!isLoading && host && (\n        <Switch>\n          <Redirect\n            from=\"/inventories/smart_inventory/:id/hosts/:hostId\"\n            to={`${path}/details`}\n            exact\n          />\n          <Route key=\"details\" path={`${path}/details`}>\n            <SmartInventoryHostDetail host={host} />\n          </Route>\n          <Route key=\"not-found\" path=\"*\">\n            <ContentError isNotFound>\n              <Link to={`${url}/details`}>\n                {t`View smart inventory host details`}\n              </Link>\n            </ContentError>\n          </Route>\n        </Switch>\n      )}\n    </>\n  );\n}\n\nexport default SmartInventoryHost;\n"]},"metadata":{},"sourceType":"module"}