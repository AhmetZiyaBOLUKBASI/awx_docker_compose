{"ast":null,"code":"import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import{i18n}from\"@lingui/core\";import React,{useEffect,useCallback}from'react';import{Link}from'react-router-dom';import{Button}from'@patternfly/react-core';import{CaretLeftIcon}from'@patternfly/react-icons';import{CardBody,CardActionsRow}from'components/Card';import ContentLoading from'components/ContentLoading';import ContentError from'components/ContentError';import{DetailList}from'components/DetailList';import RoutedTabs from'components/RoutedTabs';import{useConfig}from'contexts/Config';import{useSettings}from'contexts/Settings';import useRequest from'hooks/useRequest';import{SettingsAPI}from'api';import{SettingDetail}from'../../shared';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AzureADDetail(){var _useConfig=useConfig(),me=_useConfig.me;var _useSettings=useSettings(),options=_useSettings.GET;var _useRequest=useRequest(useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$SettingsAPI$re,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return SettingsAPI.readCategory('azuread-oauth2');case 2:_yield$SettingsAPI$re=_context.sent;data=_yield$SettingsAPI$re.data;return _context.abrupt(\"return\",data);case 5:case\"end\":return _context.stop();}}},_callee);})),[]),null),isLoading=_useRequest.isLoading,error=_useRequest.error,request=_useRequest.request,azure=_useRequest.result;useEffect(function(){request();},[request]);var tabsArray=[{name:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CaretLeftIcon,{}),/*i18n*/i18n._(\"Back to Settings\")]}),link:\"/settings\",id:99},{name:/*i18n*/i18n._(\"Details\"),link:\"/settings/azure/details\",id:0}];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(RoutedTabs,{tabsArray:tabsArray}),/*#__PURE__*/_jsxs(CardBody,{children:[isLoading&&/*#__PURE__*/_jsx(ContentLoading,{}),!isLoading&&error&&/*#__PURE__*/_jsx(ContentError,{error:error}),!isLoading&&azure&&/*#__PURE__*/_jsx(DetailList,{children:Object.keys(azure).map(function(key){var record=options===null||options===void 0?void 0:options[key];return/*#__PURE__*/_jsx(SettingDetail,{id:key,helpText:record===null||record===void 0?void 0:record.help_text,label:record===null||record===void 0?void 0:record.label,type:record===null||record===void 0?void 0:record.type,unit:record===null||record===void 0?void 0:record.unit,value:azure===null||azure===void 0?void 0:azure[key]},key);})}),(me===null||me===void 0?void 0:me.is_superuser)&&/*#__PURE__*/_jsx(CardActionsRow,{children:/*#__PURE__*/_jsx(Button,{ouiaId:\"azure-detail-edit-button\",\"aria-label\":/*i18n*/i18n._(\"Edit\"),component:Link,to:\"/settings/azure/edit\",children:/*i18n*/i18n._(\"Edit\")})})]})]});}export default AzureADDetail;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/Setting/AzureAD/AzureADDetail/AzureADDetail.js"],"names":["React","useEffect","useCallback","Link","Button","CaretLeftIcon","CardBody","CardActionsRow","ContentLoading","ContentError","DetailList","RoutedTabs","useConfig","useSettings","useRequest","SettingsAPI","SettingDetail","AzureADDetail","me","options","GET","readCategory","data","isLoading","error","request","azure","result","tabsArray","name","link","id","Object","keys","map","key","record","help_text","label","type","unit","is_superuser"],"mappings":"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","sourcesContent":["import React, { useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { CardBody, CardActionsRow } from 'components/Card';\nimport ContentLoading from 'components/ContentLoading';\nimport ContentError from 'components/ContentError';\nimport { DetailList } from 'components/DetailList';\nimport RoutedTabs from 'components/RoutedTabs';\nimport { useConfig } from 'contexts/Config';\nimport { useSettings } from 'contexts/Settings';\nimport useRequest from 'hooks/useRequest';\nimport { SettingsAPI } from 'api';\nimport { SettingDetail } from '../../shared';\n\nfunction AzureADDetail() {\n  const { me } = useConfig();\n  const { GET: options } = useSettings();\n\n  const {\n    isLoading,\n    error,\n    request,\n    result: azure,\n  } = useRequest(\n    useCallback(async () => {\n      const { data } = await SettingsAPI.readCategory('azuread-oauth2');\n      return data;\n    }, []),\n    null\n  );\n\n  useEffect(() => {\n    request();\n  }, [request]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {t`Back to Settings`}\n        </>\n      ),\n      link: `/settings`,\n      id: 99,\n    },\n    {\n      name: t`Details`,\n      link: `/settings/azure/details`,\n      id: 0,\n    },\n  ];\n\n  return (\n    <>\n      <RoutedTabs tabsArray={tabsArray} />\n      <CardBody>\n        {isLoading && <ContentLoading />}\n        {!isLoading && error && <ContentError error={error} />}\n        {!isLoading && azure && (\n          <DetailList>\n            {Object.keys(azure).map((key) => {\n              const record = options?.[key];\n              return (\n                <SettingDetail\n                  key={key}\n                  id={key}\n                  helpText={record?.help_text}\n                  label={record?.label}\n                  type={record?.type}\n                  unit={record?.unit}\n                  value={azure?.[key]}\n                />\n              );\n            })}\n          </DetailList>\n        )}\n        {me?.is_superuser && (\n          <CardActionsRow>\n            <Button\n              ouiaId=\"azure-detail-edit-button\"\n              aria-label={t`Edit`}\n              component={Link}\n              to=\"/settings/azure/edit\"\n            >\n              {t`Edit`}\n            </Button>\n          </CardActionsRow>\n        )}\n      </CardBody>\n    </>\n  );\n}\n\nexport default AzureADDetail;\n"]},"metadata":{},"sourceType":"module"}