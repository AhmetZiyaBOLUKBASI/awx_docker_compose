{"ast":null,"code":"import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{Card,PageSection}from'@patternfly/react-core';import{useHistory}from'react-router-dom';import{CardBody}from'components/Card';import{InstanceGroupsAPI}from'api';import InstanceGroupForm from'../shared/InstanceGroupForm';import{jsx as _jsx}from\"react/jsx-runtime\";function InstanceGroupAdd(){var history=useHistory();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),submitError=_useState2[0],setSubmitError=_useState2[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var _yield$InstanceGroups,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return InstanceGroupsAPI.create(values);case 3:_yield$InstanceGroups=_context.sent;response=_yield$InstanceGroups.data;history.push(\"/instance_groups/\".concat(response.id,\"/details\"));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);setSubmitError(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleCancel=function handleCancel(){history.push(\"/instance_groups\");};return/*#__PURE__*/_jsx(PageSection,{children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(InstanceGroupForm,{onSubmit:handleSubmit,submitError:submitError,onCancel:handleCancel})})})});}export default InstanceGroupAdd;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/InstanceGroup/InstanceGroupAdd/InstanceGroupAdd.js"],"names":["React","useState","Card","PageSection","useHistory","CardBody","InstanceGroupsAPI","InstanceGroupForm","InstanceGroupAdd","history","submitError","setSubmitError","handleSubmit","values","create","response","data","push","id","handleCancel"],"mappings":"wTAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,CAAeC,WAAf,KAAkC,wBAAlC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,OAASC,QAAT,KAAyB,iBAAzB,CACA,OAASC,iBAAT,KAAkC,KAAlC,CACA,MAAOC,CAAAA,iBAAP,KAA8B,6BAA9B,C,2CAEA,QAASC,CAAAA,gBAAT,EAA4B,CAC1B,GAAMC,CAAAA,OAAO,CAAGL,UAAU,EAA1B,CACA,cAAsCH,QAAQ,CAAC,IAAD,CAA9C,wCAAOS,WAAP,eAAoBC,cAApB,eAEA,GAAMC,CAAAA,YAAY,0FAAG,iBAAOC,MAAP,2LAEgBP,CAAAA,iBAAiB,CAACQ,MAAlB,CAAyBD,MAAzB,CAFhB,4CAEHE,QAFG,uBAETC,IAFS,CAGjBP,OAAO,CAACQ,IAAR,4BAAiCF,QAAQ,CAACG,EAA1C,cAHiB,+EAKjBP,cAAc,aAAd,CALiB,oEAAH,kBAAZC,CAAAA,YAAY,4CAAlB,CASA,GAAMO,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBV,OAAO,CAACQ,IAAR,qBACD,CAFD,CAIA,mBACE,KAAC,WAAD,wBACE,KAAC,IAAD,wBACE,KAAC,QAAD,wBACE,KAAC,iBAAD,EACE,QAAQ,CAAEL,YADZ,CAEE,WAAW,CAAEF,WAFf,CAGE,QAAQ,CAAES,YAHZ,EADF,EADF,EADF,EADF,CAaD,CAED,cAAeX,CAAAA,gBAAf","sourcesContent":["import React, { useState } from 'react';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { useHistory } from 'react-router-dom';\n\nimport { CardBody } from 'components/Card';\nimport { InstanceGroupsAPI } from 'api';\nimport InstanceGroupForm from '../shared/InstanceGroupForm';\n\nfunction InstanceGroupAdd() {\n  const history = useHistory();\n  const [submitError, setSubmitError] = useState(null);\n\n  const handleSubmit = async (values) => {\n    try {\n      const { data: response } = await InstanceGroupsAPI.create(values);\n      history.push(`/instance_groups/${response.id}/details`);\n    } catch (error) {\n      setSubmitError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(`/instance_groups`);\n  };\n\n  return (\n    <PageSection>\n      <Card>\n        <CardBody>\n          <InstanceGroupForm\n            onSubmit={handleSubmit}\n            submitError={submitError}\n            onCancel={handleCancel}\n          />\n        </CardBody>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default InstanceGroupAdd;\n"]},"metadata":{},"sourceType":"module"}