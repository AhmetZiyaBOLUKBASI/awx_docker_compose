{"ast":null,"code":"import { freqIsDailyOrGreater } from '../types';\nimport dateutil from '../dateutil';\nimport Iterinfo from '../iterinfo/index';\nimport { RRule } from '../rrule';\nimport { buildTimeset } from '../parseoptions';\nimport { notEmpty, includes, isPresent } from '../helpers';\nimport { DateWithZone } from '../datewithzone';\nimport { buildPoslist } from './poslist';\nimport { DateTime } from '../datetime';\nexport function iter(iterResult, options) {\n  var dtstart = options.dtstart,\n      freq = options.freq,\n      interval = options.interval,\n      until = options.until,\n      bysetpos = options.bysetpos;\n  var count = options.count;\n\n  if (count === 0 || interval === 0) {\n    return emitResult(iterResult);\n  }\n\n  var counterDate = DateTime.fromDate(dtstart);\n  var ii = new Iterinfo(options);\n  ii.rebuild(counterDate.year, counterDate.month);\n  var timeset = makeTimeset(ii, counterDate, options);\n\n  for (;;) {\n    var _a = ii.getdayset(freq)(counterDate.year, counterDate.month, counterDate.day),\n        dayset = _a[0],\n        start = _a[1],\n        end = _a[2];\n\n    var filtered = removeFilteredDays(dayset, start, end, ii, options);\n\n    if (notEmpty(bysetpos)) {\n      var poslist = buildPoslist(bysetpos, timeset, start, end, ii, dayset);\n\n      for (var j = 0; j < poslist.length; j++) {\n        var res = poslist[j];\n\n        if (until && res > until) {\n          return emitResult(iterResult);\n        }\n\n        if (res >= dtstart) {\n          var rezonedDate = rezoneIfNeeded(res, options);\n\n          if (!iterResult.accept(rezonedDate)) {\n            return emitResult(iterResult);\n          }\n\n          if (count) {\n            --count;\n\n            if (!count) {\n              return emitResult(iterResult);\n            }\n          }\n        }\n      }\n    } else {\n      for (var j = start; j < end; j++) {\n        var currentDay = dayset[j];\n\n        if (!isPresent(currentDay)) {\n          continue;\n        }\n\n        var date = dateutil.fromOrdinal(ii.yearordinal + currentDay);\n\n        for (var k = 0; k < timeset.length; k++) {\n          var time = timeset[k];\n          var res = dateutil.combine(date, time);\n\n          if (until && res > until) {\n            return emitResult(iterResult);\n          }\n\n          if (res >= dtstart) {\n            var rezonedDate = rezoneIfNeeded(res, options);\n\n            if (!iterResult.accept(rezonedDate)) {\n              return emitResult(iterResult);\n            }\n\n            if (count) {\n              --count;\n\n              if (!count) {\n                return emitResult(iterResult);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    if (options.interval === 0) {\n      return emitResult(iterResult);\n    } // Handle frequency and interval\n\n\n    counterDate.add(options, filtered);\n\n    if (counterDate.year > dateutil.MAXYEAR) {\n      return emitResult(iterResult);\n    }\n\n    if (!freqIsDailyOrGreater(freq)) {\n      timeset = ii.gettimeset(freq)(counterDate.hour, counterDate.minute, counterDate.second, 0);\n    }\n\n    ii.rebuild(counterDate.year, counterDate.month);\n  }\n}\n\nfunction isFiltered(ii, currentDay, options) {\n  var bymonth = options.bymonth,\n      byweekno = options.byweekno,\n      byweekday = options.byweekday,\n      byeaster = options.byeaster,\n      bymonthday = options.bymonthday,\n      bynmonthday = options.bynmonthday,\n      byyearday = options.byyearday;\n  return notEmpty(bymonth) && !includes(bymonth, ii.mmask[currentDay]) || notEmpty(byweekno) && !ii.wnomask[currentDay] || notEmpty(byweekday) && !includes(byweekday, ii.wdaymask[currentDay]) || notEmpty(ii.nwdaymask) && !ii.nwdaymask[currentDay] || byeaster !== null && !includes(ii.eastermask, currentDay) || (notEmpty(bymonthday) || notEmpty(bynmonthday)) && !includes(bymonthday, ii.mdaymask[currentDay]) && !includes(bynmonthday, ii.nmdaymask[currentDay]) || notEmpty(byyearday) && (currentDay < ii.yearlen && !includes(byyearday, currentDay + 1) && !includes(byyearday, -ii.yearlen + currentDay) || currentDay >= ii.yearlen && !includes(byyearday, currentDay + 1 - ii.yearlen) && !includes(byyearday, -ii.nextyearlen + currentDay - ii.yearlen));\n}\n\nfunction rezoneIfNeeded(date, options) {\n  return new DateWithZone(date, options.tzid).rezonedDate();\n}\n\nfunction emitResult(iterResult) {\n  return iterResult.getValue();\n}\n\nfunction removeFilteredDays(dayset, start, end, ii, options) {\n  var filtered = false;\n\n  for (var dayCounter = start; dayCounter < end; dayCounter++) {\n    var currentDay = dayset[dayCounter];\n    filtered = isFiltered(ii, currentDay, options);\n    if (filtered) dayset[currentDay] = null;\n  }\n\n  return filtered;\n}\n\nfunction makeTimeset(ii, counterDate, options) {\n  var freq = options.freq,\n      byhour = options.byhour,\n      byminute = options.byminute,\n      bysecond = options.bysecond;\n\n  if (freqIsDailyOrGreater(freq)) {\n    return buildTimeset(options);\n  }\n\n  if (freq >= RRule.HOURLY && notEmpty(byhour) && !includes(byhour, counterDate.hour) || freq >= RRule.MINUTELY && notEmpty(byminute) && !includes(byminute, counterDate.minute) || freq >= RRule.SECONDLY && notEmpty(bysecond) && !includes(bysecond, counterDate.second)) {\n    return [];\n  }\n\n  return ii.gettimeset(freq)(counterDate.hour, counterDate.minute, counterDate.second, counterDate.millisecond);\n}","map":{"version":3,"sources":["../../../src/iter/index.ts"],"names":[],"mappings":"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","sourcesContent":["import { freqIsDailyOrGreater } from '../types';\nimport dateutil from '../dateutil';\nimport Iterinfo from '../iterinfo/index';\nimport { RRule } from '../rrule';\nimport { buildTimeset } from '../parseoptions';\nimport { notEmpty, includes, isPresent } from '../helpers';\nimport { DateWithZone } from '../datewithzone';\nimport { buildPoslist } from './poslist';\nimport { DateTime } from '../datetime';\nexport function iter(iterResult, options) {\n    var dtstart = options.dtstart, freq = options.freq, interval = options.interval, until = options.until, bysetpos = options.bysetpos;\n    var count = options.count;\n    if (count === 0 || interval === 0) {\n        return emitResult(iterResult);\n    }\n    var counterDate = DateTime.fromDate(dtstart);\n    var ii = new Iterinfo(options);\n    ii.rebuild(counterDate.year, counterDate.month);\n    var timeset = makeTimeset(ii, counterDate, options);\n    for (;;) {\n        var _a = ii.getdayset(freq)(counterDate.year, counterDate.month, counterDate.day), dayset = _a[0], start = _a[1], end = _a[2];\n        var filtered = removeFilteredDays(dayset, start, end, ii, options);\n        if (notEmpty(bysetpos)) {\n            var poslist = buildPoslist(bysetpos, timeset, start, end, ii, dayset);\n            for (var j = 0; j < poslist.length; j++) {\n                var res = poslist[j];\n                if (until && res > until) {\n                    return emitResult(iterResult);\n                }\n                if (res >= dtstart) {\n                    var rezonedDate = rezoneIfNeeded(res, options);\n                    if (!iterResult.accept(rezonedDate)) {\n                        return emitResult(iterResult);\n                    }\n                    if (count) {\n                        --count;\n                        if (!count) {\n                            return emitResult(iterResult);\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            for (var j = start; j < end; j++) {\n                var currentDay = dayset[j];\n                if (!isPresent(currentDay)) {\n                    continue;\n                }\n                var date = dateutil.fromOrdinal(ii.yearordinal + currentDay);\n                for (var k = 0; k < timeset.length; k++) {\n                    var time = timeset[k];\n                    var res = dateutil.combine(date, time);\n                    if (until && res > until) {\n                        return emitResult(iterResult);\n                    }\n                    if (res >= dtstart) {\n                        var rezonedDate = rezoneIfNeeded(res, options);\n                        if (!iterResult.accept(rezonedDate)) {\n                            return emitResult(iterResult);\n                        }\n                        if (count) {\n                            --count;\n                            if (!count) {\n                                return emitResult(iterResult);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        if (options.interval === 0) {\n            return emitResult(iterResult);\n        }\n        // Handle frequency and interval\n        counterDate.add(options, filtered);\n        if (counterDate.year > dateutil.MAXYEAR) {\n            return emitResult(iterResult);\n        }\n        if (!freqIsDailyOrGreater(freq)) {\n            timeset = ii.gettimeset(freq)(counterDate.hour, counterDate.minute, counterDate.second, 0);\n        }\n        ii.rebuild(counterDate.year, counterDate.month);\n    }\n}\nfunction isFiltered(ii, currentDay, options) {\n    var bymonth = options.bymonth, byweekno = options.byweekno, byweekday = options.byweekday, byeaster = options.byeaster, bymonthday = options.bymonthday, bynmonthday = options.bynmonthday, byyearday = options.byyearday;\n    return ((notEmpty(bymonth) && !includes(bymonth, ii.mmask[currentDay])) ||\n        (notEmpty(byweekno) && !ii.wnomask[currentDay]) ||\n        (notEmpty(byweekday) && !includes(byweekday, ii.wdaymask[currentDay])) ||\n        (notEmpty(ii.nwdaymask) && !ii.nwdaymask[currentDay]) ||\n        (byeaster !== null && !includes(ii.eastermask, currentDay)) ||\n        ((notEmpty(bymonthday) || notEmpty(bynmonthday)) &&\n            !includes(bymonthday, ii.mdaymask[currentDay]) &&\n            !includes(bynmonthday, ii.nmdaymask[currentDay])) ||\n        (notEmpty(byyearday) &&\n            ((currentDay < ii.yearlen &&\n                !includes(byyearday, currentDay + 1) &&\n                !includes(byyearday, -ii.yearlen + currentDay)) ||\n                (currentDay >= ii.yearlen &&\n                    !includes(byyearday, currentDay + 1 - ii.yearlen) &&\n                    !includes(byyearday, -ii.nextyearlen + currentDay - ii.yearlen)))));\n}\nfunction rezoneIfNeeded(date, options) {\n    return new DateWithZone(date, options.tzid).rezonedDate();\n}\nfunction emitResult(iterResult) {\n    return iterResult.getValue();\n}\nfunction removeFilteredDays(dayset, start, end, ii, options) {\n    var filtered = false;\n    for (var dayCounter = start; dayCounter < end; dayCounter++) {\n        var currentDay = dayset[dayCounter];\n        filtered = isFiltered(ii, currentDay, options);\n        if (filtered)\n            dayset[currentDay] = null;\n    }\n    return filtered;\n}\nfunction makeTimeset(ii, counterDate, options) {\n    var freq = options.freq, byhour = options.byhour, byminute = options.byminute, bysecond = options.bysecond;\n    if (freqIsDailyOrGreater(freq)) {\n        return buildTimeset(options);\n    }\n    if ((freq >= RRule.HOURLY &&\n        notEmpty(byhour) &&\n        !includes(byhour, counterDate.hour)) ||\n        (freq >= RRule.MINUTELY &&\n            notEmpty(byminute) &&\n            !includes(byminute, counterDate.minute)) ||\n        (freq >= RRule.SECONDLY &&\n            notEmpty(bysecond) &&\n            !includes(bysecond, counterDate.second))) {\n        return [];\n    }\n    return ii.gettimeset(freq)(counterDate.hour, counterDate.minute, counterDate.second, counterDate.millisecond);\n}\n"]},"metadata":{},"sourceType":"module"}