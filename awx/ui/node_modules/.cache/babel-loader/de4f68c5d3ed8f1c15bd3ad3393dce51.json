{"ast":null,"code":"import _taggedTemplateLiteral from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import React from'react';import styled from'styled-components';import{PauseIcon}from'@patternfly/react-icons';import{jsx as _jsx}from\"react/jsx-runtime\";var NodeTypeLetter=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  background-color: #393f43;\\n  border-radius: 50%;\\n  color: white;\\n  font-size: 10px;\\n  line-height: 20px;\\n  text-align: center;\\n  height: 20px;\\n  width: 20px;\\n\"])));var CenteredPauseIcon=styled(PauseIcon)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  vertical-align: middle !important;\\n\"])));function WorkflowNodeTypeLetter(_ref){var _node$originalNodeObj,_node$originalNodeObj2,_node$originalNodeObj3,_node$originalNodeObj4,_node$job;var node=_ref.node;if(!(node!==null&&node!==void 0&&node.fullUnifiedJobTemplate)&&!(node!==null&&node!==void 0&&(_node$originalNodeObj=node.originalNodeObject)!==null&&_node$originalNodeObj!==void 0&&(_node$originalNodeObj2=_node$originalNodeObj.summary_fields)!==null&&_node$originalNodeObj2!==void 0&&_node$originalNodeObj2.unified_job_template)){return null;}var unifiedJobTemplate=(node===null||node===void 0?void 0:node.fullUnifiedJobTemplate)||(node===null||node===void 0?void 0:(_node$originalNodeObj3=node.originalNodeObject)===null||_node$originalNodeObj3===void 0?void 0:(_node$originalNodeObj4=_node$originalNodeObj3.summary_fields)===null||_node$originalNodeObj4===void 0?void 0:_node$originalNodeObj4.unified_job_template);var nodeTypeLetter;if(unifiedJobTemplate.type||unifiedJobTemplate.unified_job_type||node!==null&&node!==void 0&&(_node$job=node.job)!==null&&_node$job!==void 0&&_node$job.type){var ujtType=unifiedJobTemplate.type||unifiedJobTemplate.unified_job_type||node.job.type;switch(ujtType){case'job_template':case'job':nodeTypeLetter='JT';break;case'project':case'project_update':nodeTypeLetter='P';break;case'inventory_source':case'inventory_update':nodeTypeLetter='I';break;case'system_job_template':case'system_job':nodeTypeLetter='M';break;case'workflow_job_template':case'workflow_job':nodeTypeLetter='W';break;case'workflow_approval_template':case'workflow_approval':nodeTypeLetter=/*#__PURE__*/_jsx(CenteredPauseIcon,{});break;default:nodeTypeLetter='';}}return/*#__PURE__*/_jsx(\"foreignObject\",{y:\"50\",x:\"-10\",height:\"20\",width:\"20\",children:/*#__PURE__*/_jsx(NodeTypeLetter,{id:\"node-\".concat(node.id,\"-type-letter\"),children:nodeTypeLetter})});}export default WorkflowNodeTypeLetter;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/components/Workflow/WorkflowNodeTypeLetter.js"],"names":["React","styled","PauseIcon","NodeTypeLetter","div","CenteredPauseIcon","WorkflowNodeTypeLetter","node","fullUnifiedJobTemplate","originalNodeObject","summary_fields","unified_job_template","unifiedJobTemplate","nodeTypeLetter","type","unified_job_type","job","ujtType","id"],"mappings":"4JAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CAEA,OAASC,SAAT,KAA0B,yBAA1B,C,2CAEA,GAAMC,CAAAA,cAAc,CAAGF,MAAM,CAACG,GAAV,2OAApB,CAWA,GAAMC,CAAAA,iBAAiB,CAAGJ,MAAM,CAACC,SAAD,CAAT,2GAAvB,CAIA,QAASI,CAAAA,sBAAT,MAA0C,6GAARC,CAAAA,IAAQ,MAARA,IAAQ,CACxC,GACE,EAACA,IAAD,SAACA,IAAD,WAACA,IAAI,CAAEC,sBAAP,GACA,EAACD,IAAD,SAACA,IAAD,kCAACA,IAAI,CAAEE,kBAAP,kEAAC,sBAA0BC,cAA3B,2CAAC,uBAA0CC,oBAA3C,CAFF,CAGE,CACA,MAAO,KAAP,CACD,CAED,GAAMC,CAAAA,kBAAkB,CACtB,CAAAL,IAAI,OAAJ,EAAAA,IAAI,SAAJ,QAAAA,IAAI,CAAEC,sBAAN,IACAD,IADA,SACAA,IADA,yCACAA,IAAI,CAAEE,kBADN,yEACA,uBAA0BC,cAD1B,iDACA,uBAA0CC,oBAD1C,CADF,CAIA,GAAIE,CAAAA,cAAJ,CACA,GACED,kBAAkB,CAACE,IAAnB,EACAF,kBAAkB,CAACG,gBADnB,EAEAR,IAFA,SAEAA,IAFA,sBAEAA,IAAI,CAAES,GAFN,8BAEA,UAAWF,IAHb,CAIE,CACA,GAAMG,CAAAA,OAAO,CACXL,kBAAkB,CAACE,IAAnB,EACAF,kBAAkB,CAACG,gBADnB,EAEAR,IAAI,CAACS,GAAL,CAASF,IAHX,CAIA,OAAQG,OAAR,EACE,IAAK,cAAL,CACA,IAAK,KAAL,CACEJ,cAAc,CAAG,IAAjB,CACA,MACF,IAAK,SAAL,CACA,IAAK,gBAAL,CACEA,cAAc,CAAG,GAAjB,CACA,MACF,IAAK,kBAAL,CACA,IAAK,kBAAL,CACEA,cAAc,CAAG,GAAjB,CACA,MACF,IAAK,qBAAL,CACA,IAAK,YAAL,CACEA,cAAc,CAAG,GAAjB,CACA,MACF,IAAK,uBAAL,CACA,IAAK,cAAL,CACEA,cAAc,CAAG,GAAjB,CACA,MACF,IAAK,4BAAL,CACA,IAAK,mBAAL,CACEA,cAAc,cAAG,KAAC,iBAAD,IAAjB,CACA,MACF,QACEA,cAAc,CAAG,EAAjB,CA1BJ,CA4BD,CAED,mBACE,sBAAe,CAAC,CAAC,IAAjB,CAAsB,CAAC,CAAC,KAAxB,CAA8B,MAAM,CAAC,IAArC,CAA0C,KAAK,CAAC,IAAhD,uBACE,KAAC,cAAD,EAAgB,EAAE,gBAAUN,IAAI,CAACW,EAAf,gBAAlB,UACGL,cADH,EADF,EADF,CAOD,CAMD,cAAeP,CAAAA,sBAAf","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport { shape } from 'prop-types';\nimport { PauseIcon } from '@patternfly/react-icons';\n\nconst NodeTypeLetter = styled.div`\n  background-color: #393f43;\n  border-radius: 50%;\n  color: white;\n  font-size: 10px;\n  line-height: 20px;\n  text-align: center;\n  height: 20px;\n  width: 20px;\n`;\n\nconst CenteredPauseIcon = styled(PauseIcon)`\n  vertical-align: middle !important;\n`;\n\nfunction WorkflowNodeTypeLetter({ node }) {\n  if (\n    !node?.fullUnifiedJobTemplate &&\n    !node?.originalNodeObject?.summary_fields?.unified_job_template\n  ) {\n    return null;\n  }\n\n  const unifiedJobTemplate =\n    node?.fullUnifiedJobTemplate ||\n    node?.originalNodeObject?.summary_fields?.unified_job_template;\n\n  let nodeTypeLetter;\n  if (\n    unifiedJobTemplate.type ||\n    unifiedJobTemplate.unified_job_type ||\n    node?.job?.type\n  ) {\n    const ujtType =\n      unifiedJobTemplate.type ||\n      unifiedJobTemplate.unified_job_type ||\n      node.job.type;\n    switch (ujtType) {\n      case 'job_template':\n      case 'job':\n        nodeTypeLetter = 'JT';\n        break;\n      case 'project':\n      case 'project_update':\n        nodeTypeLetter = 'P';\n        break;\n      case 'inventory_source':\n      case 'inventory_update':\n        nodeTypeLetter = 'I';\n        break;\n      case 'system_job_template':\n      case 'system_job':\n        nodeTypeLetter = 'M';\n        break;\n      case 'workflow_job_template':\n      case 'workflow_job':\n        nodeTypeLetter = 'W';\n        break;\n      case 'workflow_approval_template':\n      case 'workflow_approval':\n        nodeTypeLetter = <CenteredPauseIcon />;\n        break;\n      default:\n        nodeTypeLetter = '';\n    }\n  }\n\n  return (\n    <foreignObject y=\"50\" x=\"-10\" height=\"20\" width=\"20\">\n      <NodeTypeLetter id={`node-${node.id}-type-letter`}>\n        {nodeTypeLetter}\n      </NodeTypeLetter>\n    </foreignObject>\n  );\n}\n\nWorkflowNodeTypeLetter.propTypes = {\n  node: shape().isRequired,\n};\n\nexport default WorkflowNodeTypeLetter;\n"]},"metadata":{},"sourceType":"module"}