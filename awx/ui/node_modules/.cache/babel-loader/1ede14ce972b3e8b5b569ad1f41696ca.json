{"ast":null,"code":"import yaml from'js-yaml';export function yamlToJson(yamlString){var value=yaml.load(yamlString);if(!value){return'{}';}if(typeof value!=='object'){throw new Error('yaml is not in object format');}return JSON.stringify(value,null,2);}export function jsonToYaml(jsonString){if(jsonString.trim()===''){return'---\\n';}var value=JSON.parse(jsonString);if(Object.entries(value).length===0){return'---\\n';}return yaml.dump(value);}export function isJsonObject(value){return typeof value==='object'&&value!==null;}export function isJsonString(jsonString){if(typeof jsonString!=='string'){return false;}var value;try{value=JSON.parse(jsonString);}catch(e){return false;}return typeof value==='object'&&value!==null;}export function parseVariableField(variableField){if(variableField==='---'||variableField==='{}'){return{};}if(!isJsonString(variableField)){variableField=yamlToJson(variableField);}variableField=JSON.parse(variableField);return variableField;}","map":{"version":3,"sources":["/awx_devel/awx/ui/src/util/yaml.js"],"names":["yaml","yamlToJson","yamlString","value","load","Error","JSON","stringify","jsonToYaml","jsonString","trim","parse","Object","entries","length","dump","isJsonObject","isJsonString","e","parseVariableField","variableField"],"mappings":"AAAA,MAAOA,CAAAA,IAAP,KAAiB,SAAjB,CAEA,MAAO,SAASC,CAAAA,UAAT,CAAoBC,UAApB,CAAgC,CACrC,GAAMC,CAAAA,KAAK,CAAGH,IAAI,CAACI,IAAL,CAAUF,UAAV,CAAd,CACA,GAAI,CAACC,KAAL,CAAY,CACV,MAAO,IAAP,CACD,CACD,GAAI,MAAOA,CAAAA,KAAP,GAAiB,QAArB,CAA+B,CAC7B,KAAM,IAAIE,CAAAA,KAAJ,CAAU,8BAAV,CAAN,CACD,CACD,MAAOC,CAAAA,IAAI,CAACC,SAAL,CAAeJ,KAAf,CAAsB,IAAtB,CAA4B,CAA5B,CAAP,CACD,CAED,MAAO,SAASK,CAAAA,UAAT,CAAoBC,UAApB,CAAgC,CACrC,GAAIA,UAAU,CAACC,IAAX,KAAsB,EAA1B,CAA8B,CAC5B,MAAO,OAAP,CACD,CACD,GAAMP,CAAAA,KAAK,CAAGG,IAAI,CAACK,KAAL,CAAWF,UAAX,CAAd,CACA,GAAIG,MAAM,CAACC,OAAP,CAAeV,KAAf,EAAsBW,MAAtB,GAAiC,CAArC,CAAwC,CACtC,MAAO,OAAP,CACD,CACD,MAAOd,CAAAA,IAAI,CAACe,IAAL,CAAUZ,KAAV,CAAP,CACD,CAED,MAAO,SAASa,CAAAA,YAAT,CAAsBb,KAAtB,CAA6B,CAClC,MAAO,OAAOA,CAAAA,KAAP,GAAiB,QAAjB,EAA6BA,KAAK,GAAK,IAA9C,CACD,CAED,MAAO,SAASc,CAAAA,YAAT,CAAsBR,UAAtB,CAAkC,CACvC,GAAI,MAAOA,CAAAA,UAAP,GAAsB,QAA1B,CAAoC,CAClC,MAAO,MAAP,CACD,CACD,GAAIN,CAAAA,KAAJ,CACA,GAAI,CACFA,KAAK,CAAGG,IAAI,CAACK,KAAL,CAAWF,UAAX,CAAR,CACD,CAAC,MAAOS,CAAP,CAAU,CACV,MAAO,MAAP,CACD,CAED,MAAO,OAAOf,CAAAA,KAAP,GAAiB,QAAjB,EAA6BA,KAAK,GAAK,IAA9C,CACD,CAED,MAAO,SAASgB,CAAAA,kBAAT,CAA4BC,aAA5B,CAA2C,CAChD,GAAIA,aAAa,GAAK,KAAlB,EAA2BA,aAAa,GAAK,IAAjD,CAAuD,CACrD,MAAO,EAAP,CACD,CACD,GAAI,CAACH,YAAY,CAACG,aAAD,CAAjB,CAAkC,CAChCA,aAAa,CAAGnB,UAAU,CAACmB,aAAD,CAA1B,CACD,CACDA,aAAa,CAAGd,IAAI,CAACK,KAAL,CAAWS,aAAX,CAAhB,CAEA,MAAOA,CAAAA,aAAP,CACD","sourcesContent":["import yaml from 'js-yaml';\n\nexport function yamlToJson(yamlString) {\n  const value = yaml.load(yamlString);\n  if (!value) {\n    return '{}';\n  }\n  if (typeof value !== 'object') {\n    throw new Error('yaml is not in object format');\n  }\n  return JSON.stringify(value, null, 2);\n}\n\nexport function jsonToYaml(jsonString) {\n  if (jsonString.trim() === '') {\n    return '---\\n';\n  }\n  const value = JSON.parse(jsonString);\n  if (Object.entries(value).length === 0) {\n    return '---\\n';\n  }\n  return yaml.dump(value);\n}\n\nexport function isJsonObject(value) {\n  return typeof value === 'object' && value !== null;\n}\n\nexport function isJsonString(jsonString) {\n  if (typeof jsonString !== 'string') {\n    return false;\n  }\n  let value;\n  try {\n    value = JSON.parse(jsonString);\n  } catch (e) {\n    return false;\n  }\n\n  return typeof value === 'object' && value !== null;\n}\n\nexport function parseVariableField(variableField) {\n  if (variableField === '---' || variableField === '{}') {\n    return {};\n  }\n  if (!isJsonString(variableField)) {\n    variableField = yamlToJson(variableField);\n  }\n  variableField = JSON.parse(variableField);\n\n  return variableField;\n}\n"]},"metadata":{},"sourceType":"module"}