{"ast":null,"code":"import{i18n}from\"@lingui/core\";import{formatDateString}from'util/dates';export function getTooltip(workflowApproval){if(workflowApproval.status==='successful'){var _workflowApproval$sum,_workflowApproval$sum2;if((_workflowApproval$sum=workflowApproval.summary_fields)!==null&&_workflowApproval$sum!==void 0&&(_workflowApproval$sum2=_workflowApproval$sum.approved_or_denied_by)!==null&&_workflowApproval$sum2!==void 0&&_workflowApproval$sum2.username){return(/*i18n*/i18n._(\"Approved by {0} - {1}\",{0:workflowApproval.summary_fields.approved_or_denied_by.username,1:formatDateString(workflowApproval.finished)}));}return(/*i18n*/i18n._(\"Approved - {0}.  See the Activity Stream for more information.\",{0:formatDateString(workflowApproval.finished)}));}if(workflowApproval.status==='failed'&&workflowApproval.failed){var _workflowApproval$sum3,_workflowApproval$sum4;if((_workflowApproval$sum3=workflowApproval.summary_fields)!==null&&_workflowApproval$sum3!==void 0&&(_workflowApproval$sum4=_workflowApproval$sum3.approved_or_denied_by)!==null&&_workflowApproval$sum4!==void 0&&_workflowApproval$sum4.username){return(/*i18n*/i18n._(\"Denied by {0} - {1}\",{0:workflowApproval.summary_fields.approved_or_denied_by.username,1:formatDateString(workflowApproval.finished)}));}return(/*i18n*/i18n._(\"Denied - {0}.  See the Activity Stream for more information.\",{0:formatDateString(workflowApproval.finished)}));}return'';}export function getStatus(workflowApproval){if(workflowApproval.timed_out){return'timedOut';}if(workflowApproval.canceled_on){return(/*i18n*/i18n._(\"canceled\"));}if(workflowApproval.status==='failed'&&workflowApproval.failed){return(/*i18n*/i18n._(\"denied\"));}if(workflowApproval.status==='successful'){return'approved';}return workflowApproval.status;}export function getPendingLabel(workflowApproval){if(!workflowApproval.approval_expiration){return(/*i18n*/i18n._(\"Never expires\"));}return(/*i18n*/i18n._(\"Expires on {0}\",{0:formatDateString(workflowApproval.approval_expiration)}));}export function getDetailPendingLabel(workflowApproval){if(!workflowApproval.approval_expiration){return(/*i18n*/i18n._(\"Never\"));}return\"\".concat(formatDateString(workflowApproval.approval_expiration));}","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/WorkflowApproval/shared/WorkflowApprovalUtils.js"],"names":["formatDateString","getTooltip","workflowApproval","status","summary_fields","approved_or_denied_by","username","finished","failed","getStatus","timed_out","canceled_on","getPendingLabel","approval_expiration","getDetailPendingLabel"],"mappings":"+BACA,OAASA,gBAAT,KAAiC,YAAjC,CAEA,MAAO,SAASC,CAAAA,UAAT,CAAoBC,gBAApB,CAAsC,CAC3C,GAAIA,gBAAgB,CAACC,MAAjB,GAA4B,YAAhC,CAA8C,kDAC5C,0BAAID,gBAAgB,CAACE,cAArB,kEAAI,sBAAiCC,qBAArC,2CAAI,uBAAwDC,QAA5D,CAAsE,CACpE,eAAO,kCACLJ,gBAAgB,CAACE,cAAjB,CAAgCC,qBAAhC,CAAsDC,QADjD,GAEDN,gBAAgB,CAACE,gBAAgB,CAACK,QAAlB,CAFf,EAAP,EAGD,CACD,eAAO,2EAAeP,gBAAgB,CACpCE,gBAAgB,CAACK,QADmB,CAA/B,EAAP,EAGD,CACD,GAAIL,gBAAgB,CAACC,MAAjB,GAA4B,QAA5B,EAAwCD,gBAAgB,CAACM,MAA7D,CAAqE,mDACnE,2BAAIN,gBAAgB,CAACE,cAArB,mEAAI,uBAAiCC,qBAArC,2CAAI,uBAAwDC,QAA5D,CAAsE,CACpE,eAAO,gCACLJ,gBAAgB,CAACE,cAAjB,CAAgCC,qBAAhC,CAAsDC,QADjD,GAEDN,gBAAgB,CAACE,gBAAgB,CAACK,QAAlB,CAFf,EAAP,EAGD,CACD,eAAO,yEAAaP,gBAAgB,CAClCE,gBAAgB,CAACK,QADiB,CAA7B,EAAP,EAGD,CACD,MAAO,EAAP,CACD,CAED,MAAO,SAASE,CAAAA,SAAT,CAAmBP,gBAAnB,CAAqC,CAC1C,GAAIA,gBAAgB,CAACQ,SAArB,CAAgC,CAC9B,MAAO,UAAP,CACD,CAED,GAAIR,gBAAgB,CAACS,WAArB,CAAkC,CAChC,eAAO,kBAAP,EACD,CACD,GAAIT,gBAAgB,CAACC,MAAjB,GAA4B,QAA5B,EAAwCD,gBAAgB,CAACM,MAA7D,CAAqE,CACnE,eAAO,gBAAP,EACD,CACD,GAAIN,gBAAgB,CAACC,MAAjB,GAA4B,YAAhC,CAA8C,CAC5C,MAAO,UAAP,CACD,CACD,MAAOD,CAAAA,gBAAgB,CAACC,MAAxB,CACD,CAED,MAAO,SAASS,CAAAA,eAAT,CAAyBV,gBAAzB,CAA2C,CAChD,GAAI,CAACA,gBAAgB,CAACW,mBAAtB,CAA2C,CACzC,eAAO,uBAAP,EACD,CAED,eAAO,2BAAeb,gBAAgB,CACpCE,gBAAgB,CAACW,mBADmB,CAA/B,EAAP,EAGD,CAED,MAAO,SAASC,CAAAA,qBAAT,CAA+BZ,gBAA/B,CAAiD,CACtD,GAAI,CAACA,gBAAgB,CAACW,mBAAtB,CAA2C,CACzC,eAAO,eAAP,EACD,CAED,gBAAUb,gBAAgB,CAACE,gBAAgB,CAACW,mBAAlB,CAA1B,EACD","sourcesContent":["import { t } from '@lingui/macro';\nimport { formatDateString } from 'util/dates';\n\nexport function getTooltip(workflowApproval) {\n  if (workflowApproval.status === 'successful') {\n    if (workflowApproval.summary_fields?.approved_or_denied_by?.username) {\n      return t`Approved by ${\n        workflowApproval.summary_fields.approved_or_denied_by.username\n      } - ${formatDateString(workflowApproval.finished)}`;\n    }\n    return t`Approved - ${formatDateString(\n      workflowApproval.finished\n    )}.  See the Activity Stream for more information.`;\n  }\n  if (workflowApproval.status === 'failed' && workflowApproval.failed) {\n    if (workflowApproval.summary_fields?.approved_or_denied_by?.username) {\n      return t`Denied by ${\n        workflowApproval.summary_fields.approved_or_denied_by.username\n      } - ${formatDateString(workflowApproval.finished)}`;\n    }\n    return t`Denied - ${formatDateString(\n      workflowApproval.finished\n    )}.  See the Activity Stream for more information.`;\n  }\n  return '';\n}\n\nexport function getStatus(workflowApproval) {\n  if (workflowApproval.timed_out) {\n    return 'timedOut';\n  }\n\n  if (workflowApproval.canceled_on) {\n    return t`canceled`;\n  }\n  if (workflowApproval.status === 'failed' && workflowApproval.failed) {\n    return t`denied`;\n  }\n  if (workflowApproval.status === 'successful') {\n    return 'approved';\n  }\n  return workflowApproval.status;\n}\n\nexport function getPendingLabel(workflowApproval) {\n  if (!workflowApproval.approval_expiration) {\n    return t`Never expires`;\n  }\n\n  return t`Expires on ${formatDateString(\n    workflowApproval.approval_expiration\n  )}`;\n}\n\nexport function getDetailPendingLabel(workflowApproval) {\n  if (!workflowApproval.approval_expiration) {\n    return t`Never`;\n  }\n\n  return `${formatDateString(workflowApproval.approval_expiration)}`;\n}\n"]},"metadata":{},"sourceType":"module"}