{"ast":null,"code":"var sortFns={finished:byFinished,id:byId,name:byName,created_by__id:byCreatedBy,unified_job_template__project__id:byProject,started:byStarted};export default function sortJobs(jobs,params){var _params$order_by=params.order_by,order_by=_params$order_by===void 0?'-finished':_params$order_by,_params$page_size=params.page_size,page_size=_params$page_size===void 0?20:_params$page_size;var key=order_by.replace('-','');var fn=sortFns[key];if(!fn){return jobs.slice(0,page_size);}var sorted=order_by[0]==='-'?jobs.sort(reverse(fn)):jobs.sort(fn);return sorted.slice(0,page_size);}function reverse(fn){return function(a,b){return fn(a,b)*-1;};}function byFinished(a,b){if(!a.finished){return 1;}if(!b.finished){return-1;}return sort(new Date(a.finished),new Date(b.finished));}function byStarted(a,b){if(!a.started){return 1;}if(!b.started){return-1;}return sort(new Date(a.started),new Date(b.started));}function byId(a,b){return sort(a.id,b.id);}function byName(a,b){return sort(a.name,b.name);}function byCreatedBy(a,b){var _a$summary_fields,_a$summary_fields$cre,_b$summary_fields,_b$summary_fields$cre;var nameA=(_a$summary_fields=a.summary_fields)===null||_a$summary_fields===void 0?void 0:(_a$summary_fields$cre=_a$summary_fields.created_by)===null||_a$summary_fields$cre===void 0?void 0:_a$summary_fields$cre.id;var nameB=(_b$summary_fields=b.summary_fields)===null||_b$summary_fields===void 0?void 0:(_b$summary_fields$cre=_b$summary_fields.created_by)===null||_b$summary_fields$cre===void 0?void 0:_b$summary_fields$cre.id;return sort(nameA,nameB)*-1;}function byProject(a,b){return sort(a.unified_job_template,b.unified_job_template);}function sort(a,b){if(!a){return-1;}if(!b){return 1;}if(a<b){return-1;}if(a>b){return 1;}return 0;}","map":{"version":3,"sources":["/awx_devel/awx/ui/src/components/JobList/sortJobs.js"],"names":["sortFns","finished","byFinished","id","byId","name","byName","created_by__id","byCreatedBy","unified_job_template__project__id","byProject","started","byStarted","sortJobs","jobs","params","order_by","page_size","key","replace","fn","slice","sorted","sort","reverse","a","b","Date","nameA","summary_fields","created_by","nameB","unified_job_template"],"mappings":"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","sourcesContent":["const sortFns = {\n  finished: byFinished,\n  id: byId,\n  name: byName,\n  created_by__id: byCreatedBy,\n  unified_job_template__project__id: byProject,\n  started: byStarted,\n};\n\nexport default function sortJobs(jobs, params) {\n  const { order_by = '-finished', page_size = 20 } = params;\n  const key = order_by.replace('-', '');\n  const fn = sortFns[key];\n  if (!fn) {\n    return jobs.slice(0, page_size);\n  }\n\n  const sorted = order_by[0] === '-' ? jobs.sort(reverse(fn)) : jobs.sort(fn);\n  return sorted.slice(0, page_size);\n}\n\nfunction reverse(fn) {\n  return (a, b) => fn(a, b) * -1;\n}\n\nfunction byFinished(a, b) {\n  if (!a.finished) {\n    return 1;\n  }\n  if (!b.finished) {\n    return -1;\n  }\n  return sort(new Date(a.finished), new Date(b.finished));\n}\n\nfunction byStarted(a, b) {\n  if (!a.started) {\n    return 1;\n  }\n  if (!b.started) {\n    return -1;\n  }\n  return sort(new Date(a.started), new Date(b.started));\n}\n\nfunction byId(a, b) {\n  return sort(a.id, b.id);\n}\n\nfunction byName(a, b) {\n  return sort(a.name, b.name);\n}\n\nfunction byCreatedBy(a, b) {\n  const nameA = a.summary_fields?.created_by?.id;\n  const nameB = b.summary_fields?.created_by?.id;\n  return sort(nameA, nameB) * -1;\n}\n\nfunction byProject(a, b) {\n  return sort(a.unified_job_template, b.unified_job_template);\n}\n\nfunction sort(a, b) {\n  if (!a) {\n    return -1;\n  }\n  if (!b) {\n    return 1;\n  }\n  if (a < b) {\n    return -1;\n  }\n  if (a > b) {\n    return 1;\n  }\n  return 0;\n}\n"]},"metadata":{},"sourceType":"module"}