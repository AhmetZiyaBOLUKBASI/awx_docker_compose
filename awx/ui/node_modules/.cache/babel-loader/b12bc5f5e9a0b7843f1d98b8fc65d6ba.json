{"ast":null,"code":"import{i18n}from\"@lingui/core\";import React from'react';import useTitle from'hooks/useTitle';import{Button,PageSection,PageSectionVariants,Breadcrumb,BreadcrumbItem,Title,Tooltip}from'@patternfly/react-core';import{HistoryIcon}from'@patternfly/react-icons';import{Link,Route,useRouteMatch,useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ScreenHeader=function ScreenHeader(_ref){var breadcrumbConfig=_ref.breadcrumbConfig,streamType=_ref.streamType;var light=PageSectionVariants.light;var oneCrumbMatch=useRouteMatch({path:Object.keys(breadcrumbConfig)[0],strict:true});var location=useLocation();var parts=location.pathname.split('/');if(parts.length>2){parts.pop();}var pathTitle=breadcrumbConfig[parts.join('/')];useTitle(pathTitle);var isOnlyOneCrumb=oneCrumbMatch&&oneCrumbMatch.isExact;return/*#__PURE__*/_jsx(PageSection,{variant:light,children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[!isOnlyOneCrumb&&/*#__PURE__*/_jsx(Breadcrumb,{ouiaId:\"breadcrumb-list\",children:/*#__PURE__*/_jsx(Route,{path:\"/:path\",children:/*#__PURE__*/_jsx(Crumb,{breadcrumbConfig:breadcrumbConfig})})}),/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'31px'},children:/*#__PURE__*/_jsx(Route,{path:\"/:path\",children:/*#__PURE__*/_jsx(ActualTitle,{breadcrumbConfig:breadcrumbConfig})})})]}),streamType!=='none'&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Tooltip,{content:/*i18n*/i18n._(\"View activity stream\"),position:\"top\",children:/*#__PURE__*/_jsx(Button,{ouiaId:\"activity-stream-button\",\"aria-label\":/*i18n*/i18n._(\"View activity stream\"),variant:\"plain\",component:Link,to:\"/activity_stream\".concat(streamType?\"?type=\".concat(streamType):''),children:/*#__PURE__*/_jsx(HistoryIcon,{})})})})]})});};var ActualTitle=function ActualTitle(_ref2){var breadcrumbConfig=_ref2.breadcrumbConfig;var match=useRouteMatch();var title=breadcrumbConfig[match.url];var titleElement;if(match.isExact){titleElement=/*#__PURE__*/_jsx(Title,{size:\"2xl\",headingLevel:\"h2\",\"data-cy\":\"screen-title\",children:title});}if(!title){titleElement=null;}return/*#__PURE__*/_jsxs(_Fragment,{children:[titleElement,/*#__PURE__*/_jsx(Route,{path:\"\".concat(match.url,\"/:path\"),children:/*#__PURE__*/_jsx(ActualTitle,{breadcrumbConfig:breadcrumbConfig})})]});};var Crumb=function Crumb(_ref3){var breadcrumbConfig=_ref3.breadcrumbConfig,showDivider=_ref3.showDivider;var match=useRouteMatch();var crumb=breadcrumbConfig[match.url];var crumbElement=/*#__PURE__*/_jsx(BreadcrumbItem,{showDivider:showDivider,\"data-cy\":crumb,children:/*#__PURE__*/_jsx(Link,{to:match.url,children:crumb})},match.url);if(match.isExact){crumbElement=null;}if(!crumb){crumbElement=null;}return/*#__PURE__*/_jsxs(_Fragment,{children:[crumbElement,/*#__PURE__*/_jsx(Route,{path:\"\".concat(match.url,\"/:path\"),children:/*#__PURE__*/_jsx(Crumb,{breadcrumbConfig:breadcrumbConfig,showDivider:true,\"data-cy\":crumb})})]});};export default ScreenHeader;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/components/ScreenHeader/ScreenHeader.js"],"names":["React","useTitle","Button","PageSection","PageSectionVariants","Breadcrumb","BreadcrumbItem","Title","Tooltip","HistoryIcon","Link","Route","useRouteMatch","useLocation","ScreenHeader","breadcrumbConfig","streamType","light","oneCrumbMatch","path","Object","keys","strict","location","parts","pathname","split","length","pop","pathTitle","join","isOnlyOneCrumb","isExact","display","justifyContent","alignItems","minHeight","ActualTitle","match","title","url","titleElement","Crumb","showDivider","crumb","crumbElement"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport useTitle from 'hooks/useTitle';\n\nimport { t } from '@lingui/macro';\nimport {\n  Button,\n  PageSection,\n  PageSectionVariants,\n  Breadcrumb,\n  BreadcrumbItem,\n  Title,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { HistoryIcon } from '@patternfly/react-icons';\nimport { Link, Route, useRouteMatch, useLocation } from 'react-router-dom';\n\nconst ScreenHeader = ({ breadcrumbConfig, streamType }) => {\n  const { light } = PageSectionVariants;\n  const oneCrumbMatch = useRouteMatch({\n    path: Object.keys(breadcrumbConfig)[0],\n    strict: true,\n  });\n\n  const location = useLocation();\n  const parts = location.pathname.split('/');\n  if (parts.length > 2) {\n    parts.pop();\n  }\n\n  const pathTitle = breadcrumbConfig[parts.join('/')];\n  useTitle(pathTitle);\n\n  const isOnlyOneCrumb = oneCrumbMatch && oneCrumbMatch.isExact;\n\n  return (\n    <PageSection variant={light}>\n      <div\n        style={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n        }}\n      >\n        <div>\n          {!isOnlyOneCrumb && (\n            <Breadcrumb ouiaId=\"breadcrumb-list\">\n              <Route path=\"/:path\">\n                <Crumb breadcrumbConfig={breadcrumbConfig} />\n              </Route>\n            </Breadcrumb>\n          )}\n          <div\n            style={{\n              minHeight: '31px',\n            }}\n          >\n            <Route path=\"/:path\">\n              <ActualTitle breadcrumbConfig={breadcrumbConfig} />\n            </Route>\n          </div>\n        </div>\n        {streamType !== 'none' && (\n          <div>\n            <Tooltip content={t`View activity stream`} position=\"top\">\n              <Button\n                ouiaId=\"activity-stream-button\"\n                aria-label={t`View activity stream`}\n                variant=\"plain\"\n                component={Link}\n                to={`/activity_stream${\n                  streamType ? `?type=${streamType}` : ''\n                }`}\n              >\n                <HistoryIcon />\n              </Button>\n            </Tooltip>\n          </div>\n        )}\n      </div>\n    </PageSection>\n  );\n};\n\nconst ActualTitle = ({ breadcrumbConfig }) => {\n  const match = useRouteMatch();\n  const title = breadcrumbConfig[match.url];\n  let titleElement;\n\n  if (match.isExact) {\n    titleElement = (\n      <Title size=\"2xl\" headingLevel=\"h2\" data-cy=\"screen-title\">\n        {title}\n      </Title>\n    );\n  }\n\n  if (!title) {\n    titleElement = null;\n  }\n\n  return (\n    <>\n      {titleElement}\n      <Route path={`${match.url}/:path`}>\n        <ActualTitle breadcrumbConfig={breadcrumbConfig} />\n      </Route>\n    </>\n  );\n};\n\nconst Crumb = ({ breadcrumbConfig, showDivider }) => {\n  const match = useRouteMatch();\n  const crumb = breadcrumbConfig[match.url];\n\n  let crumbElement = (\n    <BreadcrumbItem key={match.url} showDivider={showDivider} data-cy={crumb}>\n      <Link to={match.url}>{crumb}</Link>\n    </BreadcrumbItem>\n  );\n\n  if (match.isExact) {\n    crumbElement = null;\n  }\n\n  if (!crumb) {\n    crumbElement = null;\n  }\n  return (\n    <>\n      {crumbElement}\n      <Route path={`${match.url}/:path`}>\n        <Crumb\n          breadcrumbConfig={breadcrumbConfig}\n          showDivider\n          data-cy={crumb}\n        />\n      </Route>\n    </>\n  );\n};\n\nScreenHeader.propTypes = {\n  breadcrumbConfig: PropTypes.objectOf(PropTypes.string).isRequired,\n};\n\nCrumb.propTypes = {\n  breadcrumbConfig: PropTypes.objectOf(PropTypes.string).isRequired,\n};\n\nexport default ScreenHeader;\n"]},"metadata":{},"sourceType":"module"}