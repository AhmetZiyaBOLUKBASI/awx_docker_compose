{"ast":null,"code":"import _taggedTemplateLiteral from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import{Trans}from\"@lingui/react\";import{i18n}from\"@lingui/core\";import React from'react';import{Link}from'react-router-dom';import{Popover,Tooltip}from'@patternfly/react-core';import styled from'styled-components';import{ExclamationTriangleIcon as PFExclamationTriangleIcon}from'@patternfly/react-icons';import{ExecutionEnvironment}from'types';import getDocsBaseUrl from'util/getDocsBaseUrl';import{useConfig}from'contexts/Config';import{Detail}from'../DetailList';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ExclamationTriangleIcon=styled(PFExclamationTriangleIcon)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  color: var(--pf-global--warning-color--100);\\n  margin-left: 18px;\\n  cursor: pointer;\\n\"])));var ExclamationTrianglePopover=styled(PFExclamationTriangleIcon)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  color: var(--pf-global--warning-color--100);\\n  margin-left: 18px;\\n  cursor: pointer;\\n\"])));ExclamationTrianglePopover.displayName='ExclamationTrianglePopover';function ExecutionEnvironmentDetail(_ref){var executionEnvironment=_ref.executionEnvironment,isDefaultEnvironment=_ref.isDefaultEnvironment,virtualEnvironment=_ref.virtualEnvironment,verifyMissingVirtualEnv=_ref.verifyMissingVirtualEnv,helpText=_ref.helpText,dataCy=_ref.dataCy;var config=useConfig();var docsLink=\"\".concat(getDocsBaseUrl(config),\"/html/upgrade-migration-guide/upgrade_to_ees.html\");var label=isDefaultEnvironment?/*i18n*/i18n._(\"Default Execution Environment\"):/*i18n*/i18n._(\"Execution Environment\");if(executionEnvironment){return/*#__PURE__*/_jsx(Detail,{label:label,value:/*#__PURE__*/_jsx(Link,{to:\"/execution_environments/\".concat(executionEnvironment.id,\"/details\"),children:executionEnvironment.name}),helpText:helpText,dataCy:dataCy});}if(verifyMissingVirtualEnv&&virtualEnvironment&&!executionEnvironment){return/*#__PURE__*/_jsx(Detail,{label:label,helpText:helpText,value:/*#__PURE__*/_jsxs(_Fragment,{children:[/*i18n*/i18n._(\"Missing resource\"),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Popover,{className:\"missing-execution-environment\",headerContent:/*#__PURE__*/_jsx(\"div\",{children:/*i18n*/i18n._(\"Execution Environment Missing\")}),bodyContent:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Trans,{id:\"Custom virtual environment {virtualEnvironment} must be replaced by an execution environment. For more information about migrating to execution environments see <0>the documentation.</0>\",values:{virtualEnvironment:virtualEnvironment},components:{0:/*#__PURE__*/_jsx(\"a\",{href:docsLink,target:\"_blank\",rel:\"noopener noreferrer\"})}})}),position:\"right\",children:/*#__PURE__*/_jsx(ExclamationTrianglePopover,{})})})]}),dataCy:\"missing-\".concat(dataCy)});}if(!verifyMissingVirtualEnv&&!virtualEnvironment&&!executionEnvironment){return/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Execution Environment\"),helpText:helpText,value:/*#__PURE__*/_jsxs(_Fragment,{children:[/*i18n*/i18n._(\"Missing resource\"),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Tooltip,{content:/*i18n*/i18n._(\"Execution environment is missing or deleted.\"),children:/*#__PURE__*/_jsx(ExclamationTriangleIcon,{})})})]}),dataCy:dataCy});}return null;}ExecutionEnvironmentDetail.defaultProps={isDefaultEnvironment:false,executionEnvironment:null,virtualEnvironment:'',verifyMissingVirtualEnv:true,helpText:'',dataCy:'execution-environment-detail'};export default ExecutionEnvironmentDetail;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/components/ExecutionEnvironmentDetail/ExecutionEnvironmentDetail.js"],"names":["React","Link","Popover","Tooltip","styled","ExclamationTriangleIcon","PFExclamationTriangleIcon","ExecutionEnvironment","getDocsBaseUrl","useConfig","Detail","ExclamationTrianglePopover","displayName","ExecutionEnvironmentDetail","executionEnvironment","isDefaultEnvironment","virtualEnvironment","verifyMissingVirtualEnv","helpText","dataCy","config","docsLink","label","id","name","defaultProps"],"mappings":"4NAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,IAAT,KAAqB,kBAArB,CAEA,OAASC,OAAT,CAAkBC,OAAlB,KAAiC,wBAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,uBAAuB,GAAIC,CAAAA,yBAApC,KAAqE,yBAArE,CACA,OAASC,oBAAT,KAAqC,OAArC,CACA,MAAOC,CAAAA,cAAP,KAA2B,qBAA3B,CACA,OAASC,SAAT,KAA0B,iBAA1B,CACA,OAASC,MAAT,KAAuB,eAAvB,C,6IAEA,GAAML,CAAAA,uBAAuB,CAAGD,MAAM,CAACE,yBAAD,CAAT,6JAA7B,CAMA,GAAMK,CAAAA,0BAA0B,CAAGP,MAAM,CAACE,yBAAD,CAAT,+JAAhC,CAMAK,0BAA0B,CAACC,WAA3B,CAAyC,4BAAzC,CAEA,QAASC,CAAAA,0BAAT,MAOG,IANDC,CAAAA,oBAMC,MANDA,oBAMC,CALDC,oBAKC,MALDA,oBAKC,CAJDC,kBAIC,MAJDA,kBAIC,CAHDC,uBAGC,MAHDA,uBAGC,CAFDC,QAEC,MAFDA,QAEC,CADDC,MACC,MADDA,MACC,CACD,GAAMC,CAAAA,MAAM,CAAGX,SAAS,EAAxB,CACA,GAAMY,CAAAA,QAAQ,WAAMb,cAAc,CAChCY,MADgC,CAApB,qDAAd,CAGA,GAAME,CAAAA,KAAK,CAAGP,oBAAoB,SAC9B,uCAD8B,SAE9B,+BAFJ,CAIA,GAAID,oBAAJ,CAA0B,CACxB,mBACE,KAAC,MAAD,EACE,KAAK,CAAEQ,KADT,CAEE,KAAK,cACH,KAAC,IAAD,EACE,EAAE,mCAA6BR,oBAAoB,CAACS,EAAlD,YADJ,UAGGT,oBAAoB,CAACU,IAHxB,EAHJ,CASE,QAAQ,CAAEN,QATZ,CAUE,MAAM,CAAEC,MAVV,EADF,CAcD,CACD,GAAIF,uBAAuB,EAAID,kBAA3B,EAAiD,CAACF,oBAAtD,CAA4E,CAC1E,mBACE,KAAC,MAAD,EACE,KAAK,CAAEQ,KADT,CAEE,QAAQ,CAAEJ,QAFZ,CAGE,KAAK,cACH,mCACG,0BADH,cAEE,mCACE,KAAC,OAAD,EACE,SAAS,CAAC,+BADZ,CAEE,aAAa,cAAE,6BAAM,uCAAN,EAFjB,CAGE,WAAW,cACT,kCACE,uOAC8BF,kBAD9B,6BAIE,UACE,IAAI,CAAEK,QADR,CAEE,MAAM,CAAC,QAFT,CAGE,GAAG,CAAC,qBAHN,EAJF,GADF,EAJJ,CAmBE,QAAQ,CAAC,OAnBX,uBAqBE,KAAC,0BAAD,IArBF,EADF,EAFF,GAJJ,CAiCE,MAAM,mBAAaF,MAAb,CAjCR,EADF,CAqCD,CACD,GACE,CAACF,uBAAD,EACA,CAACD,kBADD,EAEA,CAACF,oBAHH,CAIE,CACA,mBACE,KAAC,MAAD,EACE,KAAK,SAAE,+BADT,CAEE,QAAQ,CAAEI,QAFZ,CAGE,KAAK,cACH,mCACG,0BADH,cAEE,mCACE,KAAC,OAAD,EACE,OAAO,SAAE,sDADX,uBAGE,KAAC,uBAAD,IAHF,EADF,EAFF,GAJJ,CAeE,MAAM,CAAEC,MAfV,EADF,CAmBD,CAED,MAAO,KAAP,CACD,CAWDN,0BAA0B,CAACY,YAA3B,CAA0C,CACxCV,oBAAoB,CAAE,KADkB,CAExCD,oBAAoB,CAAE,IAFkB,CAGxCE,kBAAkB,CAAE,EAHoB,CAIxCC,uBAAuB,CAAE,IAJe,CAKxCC,QAAQ,CAAE,EAL8B,CAMxCC,MAAM,CAAE,8BANgC,CAA1C,CASA,cAAeN,CAAAA,0BAAf","sourcesContent":["import React from 'react';\nimport { bool, string } from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { t, Trans } from '@lingui/macro';\nimport { Popover, Tooltip } from '@patternfly/react-core';\nimport styled from 'styled-components';\nimport { ExclamationTriangleIcon as PFExclamationTriangleIcon } from '@patternfly/react-icons';\nimport { ExecutionEnvironment } from 'types';\nimport getDocsBaseUrl from 'util/getDocsBaseUrl';\nimport { useConfig } from 'contexts/Config';\nimport { Detail } from '../DetailList';\n\nconst ExclamationTriangleIcon = styled(PFExclamationTriangleIcon)`\n  color: var(--pf-global--warning-color--100);\n  margin-left: 18px;\n  cursor: pointer;\n`;\n\nconst ExclamationTrianglePopover = styled(PFExclamationTriangleIcon)`\n  color: var(--pf-global--warning-color--100);\n  margin-left: 18px;\n  cursor: pointer;\n`;\n\nExclamationTrianglePopover.displayName = 'ExclamationTrianglePopover';\n\nfunction ExecutionEnvironmentDetail({\n  executionEnvironment,\n  isDefaultEnvironment,\n  virtualEnvironment,\n  verifyMissingVirtualEnv,\n  helpText,\n  dataCy,\n}) {\n  const config = useConfig();\n  const docsLink = `${getDocsBaseUrl(\n    config\n  )}/html/upgrade-migration-guide/upgrade_to_ees.html`;\n  const label = isDefaultEnvironment\n    ? t`Default Execution Environment`\n    : t`Execution Environment`;\n\n  if (executionEnvironment) {\n    return (\n      <Detail\n        label={label}\n        value={\n          <Link\n            to={`/execution_environments/${executionEnvironment.id}/details`}\n          >\n            {executionEnvironment.name}\n          </Link>\n        }\n        helpText={helpText}\n        dataCy={dataCy}\n      />\n    );\n  }\n  if (verifyMissingVirtualEnv && virtualEnvironment && !executionEnvironment) {\n    return (\n      <Detail\n        label={label}\n        helpText={helpText}\n        value={\n          <>\n            {t`Missing resource`}\n            <span>\n              <Popover\n                className=\"missing-execution-environment\"\n                headerContent={<div>{t`Execution Environment Missing`}</div>}\n                bodyContent={\n                  <div>\n                    <Trans>\n                      Custom virtual environment {virtualEnvironment} must be\n                      replaced by an execution environment. For more information\n                      about migrating to execution environments see{' '}\n                      <a\n                        href={docsLink}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                      >\n                        the documentation.\n                      </a>\n                    </Trans>\n                  </div>\n                }\n                position=\"right\"\n              >\n                <ExclamationTrianglePopover />\n              </Popover>\n            </span>\n          </>\n        }\n        dataCy={`missing-${dataCy}`}\n      />\n    );\n  }\n  if (\n    !verifyMissingVirtualEnv &&\n    !virtualEnvironment &&\n    !executionEnvironment\n  ) {\n    return (\n      <Detail\n        label={t`Execution Environment`}\n        helpText={helpText}\n        value={\n          <>\n            {t`Missing resource`}\n            <span>\n              <Tooltip\n                content={t`Execution environment is missing or deleted.`}\n              >\n                <ExclamationTriangleIcon />\n              </Tooltip>\n            </span>\n          </>\n        }\n        dataCy={dataCy}\n      />\n    );\n  }\n\n  return null;\n}\n\nExecutionEnvironmentDetail.propTypes = {\n  executionEnvironment: ExecutionEnvironment,\n  isDefaultEnvironment: bool,\n  virtualEnvironment: string,\n  verifyMissingVirtualEnv: bool,\n  helpText: string,\n  dataCy: string,\n};\n\nExecutionEnvironmentDetail.defaultProps = {\n  isDefaultEnvironment: false,\n  executionEnvironment: null,\n  virtualEnvironment: '',\n  verifyMissingVirtualEnv: true,\n  helpText: '',\n  dataCy: 'execution-environment-detail',\n};\n\nexport default ExecutionEnvironmentDetail;\n"]},"metadata":{},"sourceType":"module"}