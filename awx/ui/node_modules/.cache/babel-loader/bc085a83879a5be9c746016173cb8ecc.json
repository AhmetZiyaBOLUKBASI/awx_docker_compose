{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{RRule,RRuleSet}from'rrule';import buildRuleObj,{buildDtStartObj}from'./buildRuleObj';window.RRuleSet=RRuleSet;var frequencies=['minute','hour','day','week','month','year'];export default function buildRuleSet(values){var set=new RRuleSet();var startRule=buildDtStartObj({startDate:values.startDate,startTime:values.startTime,timezone:values.timezone});set.rrule(startRule);if(values.frequency.length===0){var rule=buildRuleObj({startDate:values.startDate,startTime:values.startTime,timezone:values.timezone,frequency:'none',interval:1});set.rrule(new RRule(rule));}frequencies.forEach(function(frequency){if(!values.frequency.includes(frequency)){return;}var rule=buildRuleObj(_objectSpread({startDate:values.startDate,startTime:values.startTime,timezone:values.timezone,frequency:frequency},values.frequencyOptions[frequency]));set.rrule(new RRule(rule));});// TODO: exclusions\nreturn set;}","map":{"version":3,"sources":["/awx_devel/awx/ui/src/components/Schedule/shared/buildRuleSet.js"],"names":["RRule","RRuleSet","buildRuleObj","buildDtStartObj","window","frequencies","buildRuleSet","values","set","startRule","startDate","startTime","timezone","rrule","frequency","length","rule","interval","forEach","includes","frequencyOptions"],"mappings":"sGAAA,OAASA,KAAT,CAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,YAAP,EAAuBC,eAAvB,KAA8C,gBAA9C,CAEAC,MAAM,CAACH,QAAP,CAAkBA,QAAlB,CAEA,GAAMI,CAAAA,WAAW,CAAG,CAAC,QAAD,CAAW,MAAX,CAAmB,KAAnB,CAA0B,MAA1B,CAAkC,OAAlC,CAA2C,MAA3C,CAApB,CACA,cAAe,SAASC,CAAAA,YAAT,CAAsBC,MAAtB,CAA8B,CAC3C,GAAMC,CAAAA,GAAG,CAAG,GAAIP,CAAAA,QAAJ,EAAZ,CAEA,GAAMQ,CAAAA,SAAS,CAAGN,eAAe,CAAC,CAChCO,SAAS,CAAEH,MAAM,CAACG,SADc,CAEhCC,SAAS,CAAEJ,MAAM,CAACI,SAFc,CAGhCC,QAAQ,CAAEL,MAAM,CAACK,QAHe,CAAD,CAAjC,CAKAJ,GAAG,CAACK,KAAJ,CAAUJ,SAAV,EAEA,GAAIF,MAAM,CAACO,SAAP,CAAiBC,MAAjB,GAA4B,CAAhC,CAAmC,CACjC,GAAMC,CAAAA,IAAI,CAAGd,YAAY,CAAC,CACxBQ,SAAS,CAAEH,MAAM,CAACG,SADM,CAExBC,SAAS,CAAEJ,MAAM,CAACI,SAFM,CAGxBC,QAAQ,CAAEL,MAAM,CAACK,QAHO,CAIxBE,SAAS,CAAE,MAJa,CAKxBG,QAAQ,CAAE,CALc,CAAD,CAAzB,CAOAT,GAAG,CAACK,KAAJ,CAAU,GAAIb,CAAAA,KAAJ,CAAUgB,IAAV,CAAV,EACD,CAEDX,WAAW,CAACa,OAAZ,CAAoB,SAACJ,SAAD,CAAe,CACjC,GAAI,CAACP,MAAM,CAACO,SAAP,CAAiBK,QAAjB,CAA0BL,SAA1B,CAAL,CAA2C,CACzC,OACD,CACD,GAAME,CAAAA,IAAI,CAAGd,YAAY,gBACvBQ,SAAS,CAAEH,MAAM,CAACG,SADK,CAEvBC,SAAS,CAAEJ,MAAM,CAACI,SAFK,CAGvBC,QAAQ,CAAEL,MAAM,CAACK,QAHM,CAIvBE,SAAS,CAATA,SAJuB,EAKpBP,MAAM,CAACa,gBAAP,CAAwBN,SAAxB,CALoB,EAAzB,CAOAN,GAAG,CAACK,KAAJ,CAAU,GAAIb,CAAAA,KAAJ,CAAUgB,IAAV,CAAV,EACD,CAZD,EAcA;AAEA,MAAOR,CAAAA,GAAP,CACD","sourcesContent":["import { RRule, RRuleSet } from 'rrule';\nimport buildRuleObj, { buildDtStartObj } from './buildRuleObj';\n\nwindow.RRuleSet = RRuleSet;\n\nconst frequencies = ['minute', 'hour', 'day', 'week', 'month', 'year'];\nexport default function buildRuleSet(values) {\n  const set = new RRuleSet();\n\n  const startRule = buildDtStartObj({\n    startDate: values.startDate,\n    startTime: values.startTime,\n    timezone: values.timezone,\n  });\n  set.rrule(startRule);\n\n  if (values.frequency.length === 0) {\n    const rule = buildRuleObj({\n      startDate: values.startDate,\n      startTime: values.startTime,\n      timezone: values.timezone,\n      frequency: 'none',\n      interval: 1,\n    });\n    set.rrule(new RRule(rule));\n  }\n\n  frequencies.forEach((frequency) => {\n    if (!values.frequency.includes(frequency)) {\n      return;\n    }\n    const rule = buildRuleObj({\n      startDate: values.startDate,\n      startTime: values.startTime,\n      timezone: values.timezone,\n      frequency,\n      ...values.frequencyOptions[frequency],\n    });\n    set.rrule(new RRule(rule));\n  });\n\n  // TODO: exclusions\n\n  return set;\n}\n"]},"metadata":{},"sourceType":"module"}