{"ast":null,"code":"import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import Base from'../Base';import InstanceGroupsMixin from'../mixins/InstanceGroups.mixin';var Inventories=/*#__PURE__*/function(_InstanceGroupsMixin){_inherits(Inventories,_InstanceGroupsMixin);var _super=_createSuper(Inventories);function Inventories(http){var _this;_classCallCheck(this,Inventories);_this=_super.call(this,http);_this.baseUrl='api/v2/inventories/';_this.readAccessList=_this.readAccessList.bind(_assertThisInitialized(_this));_this.readAccessOptions=_this.readAccessOptions.bind(_assertThisInitialized(_this));_this.readHosts=_this.readHosts.bind(_assertThisInitialized(_this));_this.readHostDetail=_this.readHostDetail.bind(_assertThisInitialized(_this));_this.readGroups=_this.readGroups.bind(_assertThisInitialized(_this));_this.readGroupsOptions=_this.readGroupsOptions.bind(_assertThisInitialized(_this));_this.promoteGroup=_this.promoteGroup.bind(_assertThisInitialized(_this));return _this;}_createClass(Inventories,[{key:\"readAccessList\",value:function readAccessList(id,params){return this.http.get(\"\".concat(this.baseUrl).concat(id,\"/access_list/\"),{params:params});}},{key:\"readAccessOptions\",value:function readAccessOptions(id){return this.http.options(\"\".concat(this.baseUrl).concat(id,\"/access_list/\"));}},{key:\"createHost\",value:function createHost(id,data){return this.http.post(\"\".concat(this.baseUrl).concat(id,\"/hosts/\"),data);}},{key:\"readHosts\",value:function readHosts(id,params){return this.http.get(\"\".concat(this.baseUrl).concat(id,\"/hosts/\"),{params:params});}},{key:\"readHostDetail\",value:function(){var _readHostDetail=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(inventoryId,hostId){var _yield$this$http$get,results;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.http.get(\"\".concat(this.baseUrl).concat(inventoryId,\"/hosts/?id=\").concat(hostId));case 2:_yield$this$http$get=_context.sent;results=_yield$this$http$get.data.results;if(!(Array.isArray(results)&&results.length)){_context.next=6;break;}return _context.abrupt(\"return\",results[0]);case 6:throw new Error(\"How did you get here? Host not found for Inventory ID: \".concat(inventoryId));case 7:case\"end\":return _context.stop();}}},_callee,this);}));function readHostDetail(_x,_x2){return _readHostDetail.apply(this,arguments);}return readHostDetail;}()},{key:\"readGroups\",value:function readGroups(id,params){return this.http.get(\"\".concat(this.baseUrl).concat(id,\"/groups/\"),{params:params});}},{key:\"readGroupsOptions\",value:function readGroupsOptions(id){return this.http.options(\"\".concat(this.baseUrl).concat(id,\"/groups/\"));}},{key:\"readHostsOptions\",value:function readHostsOptions(id){return this.http.options(\"\".concat(this.baseUrl).concat(id,\"/hosts/\"));}},{key:\"promoteGroup\",value:function promoteGroup(inventoryId,groupId){return this.http.post(\"\".concat(this.baseUrl).concat(inventoryId,\"/groups/\"),{id:groupId,disassociate:true});}},{key:\"readSources\",value:function readSources(inventoryId,params){return this.http.get(\"\".concat(this.baseUrl).concat(inventoryId,\"/inventory_sources/\"),{params:params});}},{key:\"updateSources\",value:function updateSources(inventoryId){return this.http.get(\"\".concat(this.baseUrl).concat(inventoryId,\"/update_inventory_sources/\"));}},{key:\"readSourceDetail\",value:function(){var _readSourceDetail=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(inventoryId,sourceId){var _yield$this$http$get2,results;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.http.get(\"\".concat(this.baseUrl).concat(inventoryId,\"/inventory_sources/?id=\").concat(sourceId));case 2:_yield$this$http$get2=_context2.sent;results=_yield$this$http$get2.data.results;if(!(Array.isArray(results)&&results.length)){_context2.next=6;break;}return _context2.abrupt(\"return\",results[0]);case 6:throw new Error(\"How did you get here? Source not found for Inventory ID: \".concat(inventoryId));case 7:case\"end\":return _context2.stop();}}},_callee2,this);}));function readSourceDetail(_x3,_x4){return _readSourceDetail.apply(this,arguments);}return readSourceDetail;}()},{key:\"syncAllSources\",value:function syncAllSources(inventoryId){return this.http.post(\"\".concat(this.baseUrl).concat(inventoryId,\"/update_inventory_sources/\"));}},{key:\"readAdHocOptions\",value:function readAdHocOptions(inventoryId){return this.http.options(\"\".concat(this.baseUrl).concat(inventoryId,\"/ad_hoc_commands/\"));}},{key:\"launchAdHocCommands\",value:function launchAdHocCommands(inventoryId,values){return this.http.post(\"\".concat(this.baseUrl).concat(inventoryId,\"/ad_hoc_commands/\"),values);}},{key:\"associateLabel\",value:function associateLabel(id,label,orgId){return this.http.post(\"\".concat(this.baseUrl).concat(id,\"/labels/\"),{name:label.name,organization:orgId});}},{key:\"disassociateLabel\",value:function disassociateLabel(id,label){return this.http.post(\"\".concat(this.baseUrl).concat(id,\"/labels/\"),{id:label.id,disassociate:true});}}]);return Inventories;}(InstanceGroupsMixin(Base));export default Inventories;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/api/models/Inventories.js"],"names":["Base","InstanceGroupsMixin","Inventories","http","baseUrl","readAccessList","bind","readAccessOptions","readHosts","readHostDetail","readGroups","readGroupsOptions","promoteGroup","id","params","get","options","data","post","inventoryId","hostId","results","Array","isArray","length","Error","groupId","disassociate","sourceId","values","label","orgId","name","organization"],"mappings":"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","sourcesContent":["import Base from '../Base';\nimport InstanceGroupsMixin from '../mixins/InstanceGroups.mixin';\n\nclass Inventories extends InstanceGroupsMixin(Base) {\n  constructor(http) {\n    super(http);\n    this.baseUrl = 'api/v2/inventories/';\n\n    this.readAccessList = this.readAccessList.bind(this);\n    this.readAccessOptions = this.readAccessOptions.bind(this);\n    this.readHosts = this.readHosts.bind(this);\n    this.readHostDetail = this.readHostDetail.bind(this);\n    this.readGroups = this.readGroups.bind(this);\n    this.readGroupsOptions = this.readGroupsOptions.bind(this);\n    this.promoteGroup = this.promoteGroup.bind(this);\n  }\n\n  readAccessList(id, params) {\n    return this.http.get(`${this.baseUrl}${id}/access_list/`, {\n      params,\n    });\n  }\n\n  readAccessOptions(id) {\n    return this.http.options(`${this.baseUrl}${id}/access_list/`);\n  }\n\n  createHost(id, data) {\n    return this.http.post(`${this.baseUrl}${id}/hosts/`, data);\n  }\n\n  readHosts(id, params) {\n    return this.http.get(`${this.baseUrl}${id}/hosts/`, {\n      params,\n    });\n  }\n\n  async readHostDetail(inventoryId, hostId) {\n    const {\n      data: { results },\n    } = await this.http.get(\n      `${this.baseUrl}${inventoryId}/hosts/?id=${hostId}`\n    );\n\n    if (Array.isArray(results) && results.length) {\n      return results[0];\n    }\n\n    throw new Error(\n      `How did you get here? Host not found for Inventory ID: ${inventoryId}`\n    );\n  }\n\n  readGroups(id, params) {\n    return this.http.get(`${this.baseUrl}${id}/groups/`, {\n      params,\n    });\n  }\n\n  readGroupsOptions(id) {\n    return this.http.options(`${this.baseUrl}${id}/groups/`);\n  }\n\n  readHostsOptions(id) {\n    return this.http.options(`${this.baseUrl}${id}/hosts/`);\n  }\n\n  promoteGroup(inventoryId, groupId) {\n    return this.http.post(`${this.baseUrl}${inventoryId}/groups/`, {\n      id: groupId,\n      disassociate: true,\n    });\n  }\n\n  readSources(inventoryId, params) {\n    return this.http.get(`${this.baseUrl}${inventoryId}/inventory_sources/`, {\n      params,\n    });\n  }\n\n  updateSources(inventoryId) {\n    return this.http.get(\n      `${this.baseUrl}${inventoryId}/update_inventory_sources/`\n    );\n  }\n\n  async readSourceDetail(inventoryId, sourceId) {\n    const {\n      data: { results },\n    } = await this.http.get(\n      `${this.baseUrl}${inventoryId}/inventory_sources/?id=${sourceId}`\n    );\n\n    if (Array.isArray(results) && results.length) {\n      return results[0];\n    }\n\n    throw new Error(\n      `How did you get here? Source not found for Inventory ID: ${inventoryId}`\n    );\n  }\n\n  syncAllSources(inventoryId) {\n    return this.http.post(\n      `${this.baseUrl}${inventoryId}/update_inventory_sources/`\n    );\n  }\n\n  readAdHocOptions(inventoryId) {\n    return this.http.options(`${this.baseUrl}${inventoryId}/ad_hoc_commands/`);\n  }\n\n  launchAdHocCommands(inventoryId, values) {\n    return this.http.post(\n      `${this.baseUrl}${inventoryId}/ad_hoc_commands/`,\n      values\n    );\n  }\n\n  associateLabel(id, label, orgId) {\n    return this.http.post(`${this.baseUrl}${id}/labels/`, {\n      name: label.name,\n      organization: orgId,\n    });\n  }\n\n  disassociateLabel(id, label) {\n    return this.http.post(`${this.baseUrl}${id}/labels/`, {\n      id: label.id,\n      disassociate: true,\n    });\n  }\n}\n\nexport default Inventories;\n"]},"metadata":{},"sourceType":"module"}