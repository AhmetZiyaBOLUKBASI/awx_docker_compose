{"ast":null,"code":"import _taggedTemplateLiteral from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import{i18n}from\"@lingui/core\";import React from'react';import styled from'styled-components';import{DownloadIcon,RocketIcon,TrashAltIcon}from'@patternfly/react-icons';import{Badge as PFBadge,Button,Tooltip}from'@patternfly/react-core';import DeleteButton from'components/DeleteButton';import{LaunchButton,ReLaunchDropDown}from'components/LaunchButton';import{useConfig}from'contexts/Config';import JobCancelButton from'components/JobCancelButton';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var BadgeGroup=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  margin-left: 20px;\\n  height: 18px;\\n  display: inline-flex;\\n\"])));var Badge=styled(PFBadge)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  align-items: center;\\n  display: flex;\\n  justify-content: center;\\n  margin-left: 10px;\\n  \",\"\\n\"])),function(props){return props.color?\"\\n  background-color: \".concat(props.color,\"\\n  color: white;\\n  \"):null;});var Wrapper=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  align-items: center;\\n  display: flex;\\n  flex-flow: row wrap;\\n  font-size: 14px;\\n\"])));var toHHMMSS=function toHHMMSS(elapsed){var sec_num=parseInt(elapsed,10);var hours=Math.floor(sec_num/3600);var minutes=Math.floor(sec_num/60)%60;var seconds=sec_num%60;var stampHours=hours<10?\"0\".concat(hours):hours;var stampMinutes=minutes<10?\"0\".concat(minutes):minutes;var stampSeconds=seconds<10?\"0\".concat(seconds):seconds;return\"\".concat(stampHours,\":\").concat(stampMinutes,\":\").concat(stampSeconds);};var OUTPUT_NO_COUNT_JOB_TYPES=['ad_hoc_command','system_job','inventory_update'];var OutputToolbar=function OutputToolbar(_ref){var _job$playbook_counts,_job$playbook_counts2,_job$host_status_coun,_job$host_status_coun2,_job$summary_fields,_job$summary_fields$u,_job$summary_fields$u2,_job$related;var job=_ref.job,onDelete=_ref.onDelete,isDeleteDisabled=_ref.isDeleteDisabled,jobStatus=_ref.jobStatus;var hideCounts=OUTPUT_NO_COUNT_JOB_TYPES.includes(job.type);var playCount=job===null||job===void 0?void 0:(_job$playbook_counts=job.playbook_counts)===null||_job$playbook_counts===void 0?void 0:_job$playbook_counts.play_count;var taskCount=job===null||job===void 0?void 0:(_job$playbook_counts2=job.playbook_counts)===null||_job$playbook_counts2===void 0?void 0:_job$playbook_counts2.task_count;var darkCount=job===null||job===void 0?void 0:(_job$host_status_coun=job.host_status_counts)===null||_job$host_status_coun===void 0?void 0:_job$host_status_coun.dark;var failureCount=job===null||job===void 0?void 0:(_job$host_status_coun2=job.host_status_counts)===null||_job$host_status_coun2===void 0?void 0:_job$host_status_coun2.failures;var totalHostCount=job!==null&&job!==void 0&&job.host_status_counts?Object.keys(job.host_status_counts||{}).reduce(function(sum,key){return sum+job.host_status_counts[key];},0):0;var _useConfig=useConfig(),me=_useConfig.me;return/*#__PURE__*/_jsxs(Wrapper,{children:[!hideCounts&&/*#__PURE__*/_jsxs(_Fragment,{children:[playCount>0&&/*#__PURE__*/_jsxs(BadgeGroup,{\"aria-label\":/*i18n*/i18n._(\"Play Count\"),children:[/*#__PURE__*/_jsx(\"div\",{children:/*i18n*/i18n._(\"Plays\")}),/*#__PURE__*/_jsx(Badge,{isRead:true,children:playCount})]}),taskCount>0&&/*#__PURE__*/_jsxs(BadgeGroup,{\"aria-label\":/*i18n*/i18n._(\"Task Count\"),children:[/*#__PURE__*/_jsx(\"div\",{children:/*i18n*/i18n._(\"Tasks\")}),/*#__PURE__*/_jsx(Badge,{isRead:true,children:taskCount})]}),totalHostCount>0&&/*#__PURE__*/_jsxs(BadgeGroup,{\"aria-label\":/*i18n*/i18n._(\"Host Count\"),children:[/*#__PURE__*/_jsx(\"div\",{children:/*i18n*/i18n._(\"Hosts\")}),/*#__PURE__*/_jsx(Badge,{isRead:true,children:totalHostCount})]}),darkCount>0&&/*#__PURE__*/_jsxs(BadgeGroup,{\"aria-label\":/*i18n*/i18n._(\"Unreachable Host Count\"),children:[/*#__PURE__*/_jsx(\"div\",{children:/*i18n*/i18n._(\"Unreachable\")}),/*#__PURE__*/_jsx(Tooltip,{content:/*i18n*/i18n._(\"Unreachable Hosts\"),children:/*#__PURE__*/_jsx(Badge,{color:\"#470000\",isRead:true,children:darkCount})})]}),failureCount>0&&/*#__PURE__*/_jsxs(BadgeGroup,{\"aria-label\":/*i18n*/i18n._(\"Failed Host Count\"),children:[/*#__PURE__*/_jsx(\"div\",{children:/*i18n*/i18n._(\"Failed\")}),/*#__PURE__*/_jsx(Tooltip,{content:/*i18n*/i18n._(\"Failed Hosts\"),children:/*#__PURE__*/_jsx(Badge,{color:\"#C9190B\",isRead:true,children:failureCount})})]})]}),/*#__PURE__*/_jsxs(BadgeGroup,{\"aria-label\":/*i18n*/i18n._(\"Elapsed Time\"),children:[/*#__PURE__*/_jsx(\"div\",{children:/*i18n*/i18n._(\"Elapsed\")}),/*#__PURE__*/_jsx(Tooltip,{content:/*i18n*/i18n._(\"Elapsed time that the job ran\"),children:/*#__PURE__*/_jsx(Badge,{isRead:true,children:toHHMMSS(job.elapsed)})})]}),['pending','waiting','running'].includes(jobStatus)&&(job.type==='system_job'?me.is_superuser:job===null||job===void 0?void 0:(_job$summary_fields=job.summary_fields)===null||_job$summary_fields===void 0?void 0:(_job$summary_fields$u=_job$summary_fields.user_capabilities)===null||_job$summary_fields$u===void 0?void 0:_job$summary_fields$u.start)&&/*#__PURE__*/_jsx(JobCancelButton,{job:job,errorTitle:/*i18n*/i18n._(\"Job Cancel Error\"),title:/*i18n*/i18n._(\"Cancel {0}\",{0:job.name}),errorMessage:/*i18n*/i18n._(\"Failed to cancel {0}\",{0:job.name}),showIconButton:true}),((_job$summary_fields$u2=job.summary_fields.user_capabilities)===null||_job$summary_fields$u2===void 0?void 0:_job$summary_fields$u2.start)&&/*#__PURE__*/_jsx(Tooltip,{content:job.status==='failed'&&job.type==='job'?/*i18n*/i18n._(\"Relaunch using host parameters\"):/*i18n*/i18n._(\"Relaunch Job\"),children:job.status==='failed'&&job.type==='job'?/*#__PURE__*/_jsx(LaunchButton,{resource:job,children:function children(_ref2){var handleRelaunch=_ref2.handleRelaunch,isLaunching=_ref2.isLaunching;return/*#__PURE__*/_jsx(ReLaunchDropDown,{handleRelaunch:handleRelaunch,ouiaId:\"job-output-relaunch-dropdown\",isLaunching:isLaunching});}}):/*#__PURE__*/_jsx(LaunchButton,{resource:job,children:function children(_ref3){var handleRelaunch=_ref3.handleRelaunch,isLaunching=_ref3.isLaunching;return/*#__PURE__*/_jsx(Button,{ouiaId:\"job-output-relaunch-button\",variant:\"plain\",onClick:function onClick(){return handleRelaunch();},\"aria-label\":/*i18n*/i18n._(\"Relaunch\"),isDisabled:isLaunching,children:/*#__PURE__*/_jsx(RocketIcon,{})});}})}),((_job$related=job.related)===null||_job$related===void 0?void 0:_job$related.stdout)&&/*#__PURE__*/_jsx(Tooltip,{content:/*i18n*/i18n._(\"Download Output\"),children:/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(job.related.stdout,\"?format=txt_download\"),children:/*#__PURE__*/_jsx(Button,{ouiaId:\"job-output-download-button\",variant:\"plain\",\"aria-label\":/*i18n*/i18n._(\"Download Output\"),children:/*#__PURE__*/_jsx(DownloadIcon,{})})})}),job.summary_fields.user_capabilities.delete&&['new','successful','failed','error','canceled'].includes(jobStatus)&&/*#__PURE__*/_jsx(Tooltip,{content:/*i18n*/i18n._(\"Delete Job\"),children:/*#__PURE__*/_jsx(DeleteButton,{ouiaId:\"job-output-delete-button\",name:job.name,modalTitle:/*i18n*/i18n._(\"Delete Job\"),onConfirm:onDelete,variant:\"plain\",isDisabled:isDeleteDisabled,children:/*#__PURE__*/_jsx(TrashAltIcon,{})})})]});};OutputToolbar.defaultProps={isDeleteDisabled:false};export default OutputToolbar;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/Job/JobOutput/shared/OutputToolbar.js"],"names":["React","styled","DownloadIcon","RocketIcon","TrashAltIcon","Badge","PFBadge","Button","Tooltip","DeleteButton","LaunchButton","ReLaunchDropDown","useConfig","JobCancelButton","BadgeGroup","div","props","color","Wrapper","toHHMMSS","elapsed","sec_num","parseInt","hours","Math","floor","minutes","seconds","stampHours","stampMinutes","stampSeconds","OUTPUT_NO_COUNT_JOB_TYPES","OutputToolbar","job","onDelete","isDeleteDisabled","jobStatus","hideCounts","includes","type","playCount","playbook_counts","play_count","taskCount","task_count","darkCount","host_status_counts","dark","failureCount","failures","totalHostCount","Object","keys","reduce","sum","key","me","is_superuser","summary_fields","user_capabilities","start","name","status","handleRelaunch","isLaunching","related","stdout","delete","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\n\nimport { t } from '@lingui/macro';\nimport { bool, shape, func } from 'prop-types';\nimport {\n  DownloadIcon,\n  RocketIcon,\n  TrashAltIcon,\n} from '@patternfly/react-icons';\nimport { Badge as PFBadge, Button, Tooltip } from '@patternfly/react-core';\nimport DeleteButton from 'components/DeleteButton';\nimport { LaunchButton, ReLaunchDropDown } from 'components/LaunchButton';\nimport { useConfig } from 'contexts/Config';\n\nimport JobCancelButton from 'components/JobCancelButton';\n\nconst BadgeGroup = styled.div`\n  margin-left: 20px;\n  height: 18px;\n  display: inline-flex;\n`;\n\nconst Badge = styled(PFBadge)`\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  margin-left: 10px;\n  ${(props) =>\n    props.color\n      ? `\n  background-color: ${props.color}\n  color: white;\n  `\n      : null}\n`;\n\nconst Wrapper = styled.div`\n  align-items: center;\n  display: flex;\n  flex-flow: row wrap;\n  font-size: 14px;\n`;\n\nconst toHHMMSS = (elapsed) => {\n  const sec_num = parseInt(elapsed, 10);\n  const hours = Math.floor(sec_num / 3600);\n  const minutes = Math.floor(sec_num / 60) % 60;\n  const seconds = sec_num % 60;\n\n  const stampHours = hours < 10 ? `0${hours}` : hours;\n  const stampMinutes = minutes < 10 ? `0${minutes}` : minutes;\n  const stampSeconds = seconds < 10 ? `0${seconds}` : seconds;\n\n  return `${stampHours}:${stampMinutes}:${stampSeconds}`;\n};\n\nconst OUTPUT_NO_COUNT_JOB_TYPES = [\n  'ad_hoc_command',\n  'system_job',\n  'inventory_update',\n];\n\nconst OutputToolbar = ({ job, onDelete, isDeleteDisabled, jobStatus }) => {\n  const hideCounts = OUTPUT_NO_COUNT_JOB_TYPES.includes(job.type);\n\n  const playCount = job?.playbook_counts?.play_count;\n  const taskCount = job?.playbook_counts?.task_count;\n  const darkCount = job?.host_status_counts?.dark;\n  const failureCount = job?.host_status_counts?.failures;\n  const totalHostCount = job?.host_status_counts\n    ? Object.keys(job.host_status_counts || {}).reduce(\n        (sum, key) => sum + job.host_status_counts[key],\n        0\n      )\n    : 0;\n  const { me } = useConfig();\n\n  return (\n    <Wrapper>\n      {!hideCounts && (\n        <>\n          {playCount > 0 && (\n            <BadgeGroup aria-label={t`Play Count`}>\n              <div>{t`Plays`}</div>\n              <Badge isRead>{playCount}</Badge>\n            </BadgeGroup>\n          )}\n          {taskCount > 0 && (\n            <BadgeGroup aria-label={t`Task Count`}>\n              <div>{t`Tasks`}</div>\n              <Badge isRead>{taskCount}</Badge>\n            </BadgeGroup>\n          )}\n          {totalHostCount > 0 && (\n            <BadgeGroup aria-label={t`Host Count`}>\n              <div>{t`Hosts`}</div>\n              <Badge isRead>{totalHostCount}</Badge>\n            </BadgeGroup>\n          )}\n          {darkCount > 0 && (\n            <BadgeGroup aria-label={t`Unreachable Host Count`}>\n              <div>{t`Unreachable`}</div>\n              <Tooltip content={t`Unreachable Hosts`}>\n                <Badge color=\"#470000\" isRead>\n                  {darkCount}\n                </Badge>\n              </Tooltip>\n            </BadgeGroup>\n          )}\n          {failureCount > 0 && (\n            <BadgeGroup aria-label={t`Failed Host Count`}>\n              <div>{t`Failed`}</div>\n              <Tooltip content={t`Failed Hosts`}>\n                <Badge color=\"#C9190B\" isRead>\n                  {failureCount}\n                </Badge>\n              </Tooltip>\n            </BadgeGroup>\n          )}\n        </>\n      )}\n\n      <BadgeGroup aria-label={t`Elapsed Time`}>\n        <div>{t`Elapsed`}</div>\n        <Tooltip content={t`Elapsed time that the job ran`}>\n          <Badge isRead>{toHHMMSS(job.elapsed)}</Badge>\n        </Tooltip>\n      </BadgeGroup>\n      {['pending', 'waiting', 'running'].includes(jobStatus) &&\n        (job.type === 'system_job'\n          ? me.is_superuser\n          : job?.summary_fields?.user_capabilities?.start) && (\n          <JobCancelButton\n            job={job}\n            errorTitle={t`Job Cancel Error`}\n            title={t`Cancel ${job.name}`}\n            errorMessage={t`Failed to cancel ${job.name}`}\n            showIconButton\n          />\n        )}\n      {job.summary_fields.user_capabilities?.start && (\n        <Tooltip\n          content={\n            job.status === 'failed' && job.type === 'job'\n              ? t`Relaunch using host parameters`\n              : t`Relaunch Job`\n          }\n        >\n          {job.status === 'failed' && job.type === 'job' ? (\n            <LaunchButton resource={job}>\n              {({ handleRelaunch, isLaunching }) => (\n                <ReLaunchDropDown\n                  handleRelaunch={handleRelaunch}\n                  ouiaId=\"job-output-relaunch-dropdown\"\n                  isLaunching={isLaunching}\n                />\n              )}\n            </LaunchButton>\n          ) : (\n            <LaunchButton resource={job}>\n              {({ handleRelaunch, isLaunching }) => (\n                <Button\n                  ouiaId=\"job-output-relaunch-button\"\n                  variant=\"plain\"\n                  onClick={() => handleRelaunch()}\n                  aria-label={t`Relaunch`}\n                  isDisabled={isLaunching}\n                >\n                  <RocketIcon />\n                </Button>\n              )}\n            </LaunchButton>\n          )}\n        </Tooltip>\n      )}\n\n      {job.related?.stdout && (\n        <Tooltip content={t`Download Output`}>\n          <a href={`${job.related.stdout}?format=txt_download`}>\n            <Button\n              ouiaId=\"job-output-download-button\"\n              variant=\"plain\"\n              aria-label={t`Download Output`}\n            >\n              <DownloadIcon />\n            </Button>\n          </a>\n        </Tooltip>\n      )}\n      {job.summary_fields.user_capabilities.delete &&\n        ['new', 'successful', 'failed', 'error', 'canceled'].includes(\n          jobStatus\n        ) && (\n          <Tooltip content={t`Delete Job`}>\n            <DeleteButton\n              ouiaId=\"job-output-delete-button\"\n              name={job.name}\n              modalTitle={t`Delete Job`}\n              onConfirm={onDelete}\n              variant=\"plain\"\n              isDisabled={isDeleteDisabled}\n            >\n              <TrashAltIcon />\n            </DeleteButton>\n          </Tooltip>\n        )}\n    </Wrapper>\n  );\n};\n\nOutputToolbar.propTypes = {\n  isDeleteDisabled: bool,\n  job: shape({}).isRequired,\n  onDelete: func.isRequired,\n};\n\nOutputToolbar.defaultProps = {\n  isDeleteDisabled: false,\n};\n\nexport default OutputToolbar;\n"]},"metadata":{},"sourceType":"module"}