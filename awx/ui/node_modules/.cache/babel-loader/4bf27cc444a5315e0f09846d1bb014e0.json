{"ast":null,"code":"import _styled from\"styled-components\";import{Trans}from\"@lingui/react\";import{i18n}from\"@lingui/core\";import React from'react';import styled from'styled-components';import{ExclamationTriangleIcon}from'@patternfly/react-icons';import{secondsToHHMMSS}from'util/dates';import{stringIsUUID}from'util/strings';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var GridDL=styled.dl.withConfig({displayName:\"WorkflowNodeHelp__GridDL\",componentId:\"sc-1xlnot4-0\"})([\"column-gap:15px;display:grid;grid-template-columns:max-content;row-gap:0px;dt{grid-column-start:1;}dd{grid-column-start:2;}\"]);var ResourceDeleted=styled.p.withConfig({displayName:\"WorkflowNodeHelp__ResourceDeleted\",componentId:\"sc-1xlnot4-1\"})([\"margin-bottom:\",\";\"],function(props){return props.job?'10px':'0px';});var StyledExclamationTriangleIcon=styled(ExclamationTriangleIcon).withConfig({displayName:\"WorkflowNodeHelp__StyledExclamationTriangleIcon\",componentId:\"sc-1xlnot4-2\"})([\"color:#f0ad4d;height:20px;margin-right:10px;width:20px;\"]);var _StyledP=styled(\"p\").withConfig({displayName:\"WorkflowNodeHelp___StyledP\",componentId:\"sc-1xlnot4-3\"})([\"margin-top:10px\"]);function WorkflowNodeHelp(_ref){var _node$originalNodeObj,_node$originalNodeObj2,_node$originalNodeObj3,_node$originalNodeObj4,_node$originalNodeObj5;var node=_ref.node;var nodeType;var job=node===null||node===void 0?void 0:(_node$originalNodeObj=node.originalNodeObject)===null||_node$originalNodeObj===void 0?void 0:(_node$originalNodeObj2=_node$originalNodeObj.summary_fields)===null||_node$originalNodeObj2===void 0?void 0:_node$originalNodeObj2.job;var unifiedJobTemplate=(node===null||node===void 0?void 0:node.fullUnifiedJobTemplate)||(node===null||node===void 0?void 0:(_node$originalNodeObj3=node.originalNodeObject)===null||_node$originalNodeObj3===void 0?void 0:(_node$originalNodeObj4=_node$originalNodeObj3.summary_fields)===null||_node$originalNodeObj4===void 0?void 0:_node$originalNodeObj4.unified_job_template);var identifier=null;if(node!==null&&node!==void 0&&node.identifier){identifier=node.identifier;}else if(node!==null&&node!==void 0&&(_node$originalNodeObj5=node.originalNodeObject)!==null&&_node$originalNodeObj5!==void 0&&_node$originalNodeObj5.identifier&&!stringIsUUID(node.originalNodeObject.identifier)){identifier=node.originalNodeObject.identifier;}if(unifiedJobTemplate||job){var type=unifiedJobTemplate?unifiedJobTemplate.unified_job_type||unifiedJobTemplate.type:job.type;switch(type){case'job_template':case'job':nodeType=/*i18n*/i18n._(\"Job Template\");break;case'workflow_job_template':case'workflow_job':nodeType=/*i18n*/i18n._(\"Workflow Job Template\");break;case'project':case'project_update':nodeType=/*i18n*/i18n._(\"Project Update\");break;case'inventory_source':case'inventory_update':nodeType=/*i18n*/i18n._(\"Inventory Update\");break;case'workflow_approval_template':case'workflow_approval':nodeType=/*i18n*/i18n._(\"Workflow Approval\");break;case'system_job_template':case'system_job':nodeType=/*i18n*/i18n._(\"Management Job\");break;default:nodeType='';}}var jobStatus;if(job){switch(job.status){case'new':jobStatus=/*i18n*/i18n._(\"New\");break;case'pending':jobStatus=/*i18n*/i18n._(\"Pending\");break;case'waiting':jobStatus=/*i18n*/i18n._(\"Waiting\");break;case'running':jobStatus=/*i18n*/i18n._(\"Running\");break;case'successful':jobStatus=/*i18n*/i18n._(\"Successful\");break;case'failed':jobStatus=/*i18n*/i18n._(\"Failed\");break;case'error':jobStatus=/*i18n*/i18n._(\"Error\");break;case'canceled':jobStatus=/*i18n*/i18n._(\"Canceled\");break;case'never updated':jobStatus=/*i18n*/i18n._(\"Never Updated\");break;case'ok':jobStatus=/*i18n*/i18n._(\"OK\");break;case'missing':jobStatus=/*i18n*/i18n._(\"Missing\");break;case'none':jobStatus=/*i18n*/i18n._(\"None\");break;case'updating':jobStatus=/*i18n*/i18n._(\"Updating\");break;default:jobStatus='';}}return/*#__PURE__*/_jsxs(_Fragment,{children:[!unifiedJobTemplate&&(!job||job.type!=='workflow_approval')&&/*#__PURE__*/_jsxs(ResourceDeleted,{job:job,children:[/*#__PURE__*/_jsx(StyledExclamationTriangleIcon,{}),/*#__PURE__*/_jsx(Trans,{id:\"The resource associated with this node has been deleted.\"})]}),job&&/*#__PURE__*/_jsxs(GridDL,{children:[identifier&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"dt\",{children:/*#__PURE__*/_jsx(\"b\",{children:/*i18n*/i18n._(\"Node Alias\")})}),/*#__PURE__*/_jsx(\"dd\",{id:\"workflow-node-help-alias\",children:identifier})]}),/*#__PURE__*/_jsx(\"dt\",{children:/*#__PURE__*/_jsx(\"b\",{children:/*i18n*/i18n._(\"Resource Name\")})}),/*#__PURE__*/_jsx(\"dd\",{id:\"workflow-node-help-name\",children:(unifiedJobTemplate===null||unifiedJobTemplate===void 0?void 0:unifiedJobTemplate.name)||/*i18n*/i18n._(\"Deleted\")}),/*#__PURE__*/_jsx(\"dt\",{children:/*#__PURE__*/_jsx(\"b\",{children:/*i18n*/i18n._(\"Type\")})}),/*#__PURE__*/_jsx(\"dd\",{id:\"workflow-node-help-type\",children:nodeType}),/*#__PURE__*/_jsx(\"dt\",{children:/*#__PURE__*/_jsx(\"b\",{children:/*i18n*/i18n._(\"Job Status\")})}),/*#__PURE__*/_jsx(\"dd\",{id:\"workflow-node-help-status\",children:jobStatus}),typeof job.elapsed==='number'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"dt\",{children:/*#__PURE__*/_jsx(\"b\",{children:/*i18n*/i18n._(\"Elapsed\")})}),/*#__PURE__*/_jsx(\"dd\",{id:\"workflow-node-help-elapsed\",children:secondsToHHMMSS(job.elapsed)})]})]}),unifiedJobTemplate&&!job&&/*#__PURE__*/_jsxs(GridDL,{children:[identifier&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"dt\",{children:/*#__PURE__*/_jsx(\"b\",{children:/*i18n*/i18n._(\"Node Alias\")})}),/*#__PURE__*/_jsx(\"dd\",{id:\"workflow-node-help-alias\",children:identifier})]}),/*#__PURE__*/_jsx(\"dt\",{children:/*#__PURE__*/_jsx(\"b\",{children:/*i18n*/i18n._(\"Resource Name\")})}),/*#__PURE__*/_jsx(\"dd\",{id:\"workflow-node-help-name\",children:(unifiedJobTemplate===null||unifiedJobTemplate===void 0?void 0:unifiedJobTemplate.name)||/*i18n*/i18n._(\"Deleted\")}),/*#__PURE__*/_jsx(\"dt\",{children:/*#__PURE__*/_jsx(\"b\",{children:/*i18n*/i18n._(\"Type\")})}),/*#__PURE__*/_jsx(\"dd\",{id:\"workflow-node-help-type\",children:nodeType})]}),job&&job.type!=='workflow_approval'&&/*#__PURE__*/_jsx(_StyledP,{children:/*i18n*/i18n._(\"Click to view job details\")})]});}export default WorkflowNodeHelp;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/components/Workflow/WorkflowNodeHelp.js"],"names":["React","styled","ExclamationTriangleIcon","secondsToHHMMSS","stringIsUUID","GridDL","dl","ResourceDeleted","p","props","job","StyledExclamationTriangleIcon","WorkflowNodeHelp","node","nodeType","originalNodeObject","summary_fields","unifiedJobTemplate","fullUnifiedJobTemplate","unified_job_template","identifier","type","unified_job_type","jobStatus","status","name","elapsed"],"mappings":"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","sourcesContent":["import 'styled-components/macro';\nimport React from 'react';\n\nimport { t, Trans } from '@lingui/macro';\nimport styled from 'styled-components';\nimport { ExclamationTriangleIcon } from '@patternfly/react-icons';\nimport { shape } from 'prop-types';\nimport { secondsToHHMMSS } from 'util/dates';\nimport { stringIsUUID } from 'util/strings';\n\nconst GridDL = styled.dl`\n  column-gap: 15px;\n  display: grid;\n  grid-template-columns: max-content;\n  row-gap: 0px;\n  dt {\n    grid-column-start: 1;\n  }\n  dd {\n    grid-column-start: 2;\n  }\n`;\n\nconst ResourceDeleted = styled.p`\n  margin-bottom: ${(props) => (props.job ? '10px' : '0px')};\n`;\n\nconst StyledExclamationTriangleIcon = styled(ExclamationTriangleIcon)`\n  color: #f0ad4d;\n  height: 20px;\n  margin-right: 10px;\n  width: 20px;\n`;\n\nfunction WorkflowNodeHelp({ node }) {\n  let nodeType;\n  const job = node?.originalNodeObject?.summary_fields?.job;\n  const unifiedJobTemplate =\n    node?.fullUnifiedJobTemplate ||\n    node?.originalNodeObject?.summary_fields?.unified_job_template;\n  let identifier = null;\n  if (node?.identifier) {\n    ({ identifier } = node);\n  } else if (\n    node?.originalNodeObject?.identifier &&\n    !stringIsUUID(node.originalNodeObject.identifier)\n  ) {\n    ({\n      originalNodeObject: { identifier },\n    } = node);\n  }\n  if (unifiedJobTemplate || job) {\n    const type = unifiedJobTemplate\n      ? unifiedJobTemplate.unified_job_type || unifiedJobTemplate.type\n      : job.type;\n    switch (type) {\n      case 'job_template':\n      case 'job':\n        nodeType = t`Job Template`;\n        break;\n      case 'workflow_job_template':\n      case 'workflow_job':\n        nodeType = t`Workflow Job Template`;\n        break;\n      case 'project':\n      case 'project_update':\n        nodeType = t`Project Update`;\n        break;\n      case 'inventory_source':\n      case 'inventory_update':\n        nodeType = t`Inventory Update`;\n        break;\n      case 'workflow_approval_template':\n      case 'workflow_approval':\n        nodeType = t`Workflow Approval`;\n        break;\n      case 'system_job_template':\n      case 'system_job':\n        nodeType = t`Management Job`;\n        break;\n      default:\n        nodeType = '';\n    }\n  }\n\n  let jobStatus;\n  if (job) {\n    switch (job.status) {\n      case 'new':\n        jobStatus = t`New`;\n        break;\n      case 'pending':\n        jobStatus = t`Pending`;\n        break;\n      case 'waiting':\n        jobStatus = t`Waiting`;\n        break;\n      case 'running':\n        jobStatus = t`Running`;\n        break;\n      case 'successful':\n        jobStatus = t`Successful`;\n        break;\n      case 'failed':\n        jobStatus = t`Failed`;\n        break;\n      case 'error':\n        jobStatus = t`Error`;\n        break;\n      case 'canceled':\n        jobStatus = t`Canceled`;\n        break;\n      case 'never updated':\n        jobStatus = t`Never Updated`;\n        break;\n      case 'ok':\n        jobStatus = t`OK`;\n        break;\n      case 'missing':\n        jobStatus = t`Missing`;\n        break;\n      case 'none':\n        jobStatus = t`None`;\n        break;\n      case 'updating':\n        jobStatus = t`Updating`;\n        break;\n      default:\n        jobStatus = '';\n    }\n  }\n\n  return (\n    <>\n      {!unifiedJobTemplate && (!job || job.type !== 'workflow_approval') && (\n        <ResourceDeleted job={job}>\n          <StyledExclamationTriangleIcon />\n          <Trans>\n            The resource associated with this node has been deleted.\n          </Trans>\n        </ResourceDeleted>\n      )}\n      {job && (\n        <GridDL>\n          {identifier && (\n            <>\n              <dt>\n                <b>{t`Node Alias`}</b>\n              </dt>\n              <dd id=\"workflow-node-help-alias\">{identifier}</dd>\n            </>\n          )}\n          <dt>\n            <b>{t`Resource Name`}</b>\n          </dt>\n          <dd id=\"workflow-node-help-name\">\n            {unifiedJobTemplate?.name || t`Deleted`}\n          </dd>\n          <dt>\n            <b>{t`Type`}</b>\n          </dt>\n          <dd id=\"workflow-node-help-type\">{nodeType}</dd>\n          <dt>\n            <b>{t`Job Status`}</b>\n          </dt>\n          <dd id=\"workflow-node-help-status\">{jobStatus}</dd>\n          {typeof job.elapsed === 'number' && (\n            <>\n              <dt>\n                <b>{t`Elapsed`}</b>\n              </dt>\n              <dd id=\"workflow-node-help-elapsed\">\n                {secondsToHHMMSS(job.elapsed)}\n              </dd>\n            </>\n          )}\n        </GridDL>\n      )}\n      {unifiedJobTemplate && !job && (\n        <GridDL>\n          {identifier && (\n            <>\n              <dt>\n                <b>{t`Node Alias`}</b>\n              </dt>\n              <dd id=\"workflow-node-help-alias\">{identifier}</dd>\n            </>\n          )}\n          <dt>\n            <b>{t`Resource Name`}</b>\n          </dt>\n          <dd id=\"workflow-node-help-name\">\n            {unifiedJobTemplate?.name || t`Deleted`}\n          </dd>\n          <dt>\n            <b>{t`Type`}</b>\n          </dt>\n          <dd id=\"workflow-node-help-type\">{nodeType}</dd>\n        </GridDL>\n      )}\n      {job && job.type !== 'workflow_approval' && (\n        <p css=\"margin-top: 10px\">{t`Click to view job details`}</p>\n      )}\n    </>\n  );\n}\n\nWorkflowNodeHelp.propTypes = {\n  node: shape().isRequired,\n};\n\nexport default WorkflowNodeHelp;\n"]},"metadata":{},"sourceType":"module"}