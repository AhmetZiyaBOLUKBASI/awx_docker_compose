{"ast":null,"code":"import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{i18n}from\"@lingui/core\";import React,{useState}from'react';import{Button,TextInput,Tooltip}from'@patternfly/react-core';import{RocketIcon}from'@patternfly/react-icons';import AlertModal from'components/AlertModal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MAX_RETENTION=99999;var clamp=function clamp(val,min,max){if(val<min){return min;}if(val>max){return max;}return val;};function LaunchManagementPrompt(_ref){var isOpen=_ref.isOpen,isLoading=_ref.isLoading,onClick=_ref.onClick,onClose=_ref.onClose,onConfirm=_ref.onConfirm,defaultDays=_ref.defaultDays;var _useState=useState(defaultDays),_useState2=_slicedToArray(_useState,2),dataRetention=_useState2[0],setDataRetention=_useState2[1];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Tooltip,{content:/*i18n*/i18n._(\"Launch management job\"),position:\"left\",children:/*#__PURE__*/_jsx(Button,{\"aria-label\":/*i18n*/i18n._(\"Launch management job\"),variant:\"plain\",onClick:onClick,isDisabled:isLoading,children:/*#__PURE__*/_jsx(RocketIcon,{})})}),/*#__PURE__*/_jsxs(AlertModal,{isOpen:isOpen,variant:\"info\",onClose:onClose,title:/*i18n*/i18n._(\"Launch management job\"),label:/*i18n*/i18n._(\"Launch management job\"),actions:[/*#__PURE__*/_jsx(Button,{id:\"launch-job-confirm-button\",variant:\"primary\",isDisabled:isLoading,\"aria-label\":/*i18n*/i18n._(\"Launch\"),onClick:function onClick(){return onConfirm(dataRetention);},children:/*i18n*/i18n._(\"Launch\")},\"delete\"),/*#__PURE__*/_jsx(Button,{id:\"launch-job-cancel-button\",variant:\"link\",\"aria-label\":/*i18n*/i18n._(\"Cancel\"),onClick:onClose,children:/*i18n*/i18n._(\"Cancel\")},\"cancel\")],children:[/*i18n*/i18n._(\"Set how many days of data should be retained.\"),/*#__PURE__*/_jsx(TextInput,{value:dataRetention,type:\"number\",onChange:function onChange(value){return setDataRetention(clamp(value,0,MAX_RETENTION));},\"aria-label\":/*i18n*/i18n._(\"Data retention period\")})]})]});}export default LaunchManagementPrompt;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/ManagementJob/ManagementJobList/LaunchManagementPrompt.js"],"names":["React","useState","Button","TextInput","Tooltip","RocketIcon","AlertModal","MAX_RETENTION","clamp","val","min","max","LaunchManagementPrompt","isOpen","isLoading","onClick","onClose","onConfirm","defaultDays","dataRetention","setDataRetention","value"],"mappings":"sIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAGA,OAASC,MAAT,CAAiBC,SAAjB,CAA4BC,OAA5B,KAA2C,wBAA3C,CACA,OAASC,UAAT,KAA2B,yBAA3B,CAEA,MAAOC,CAAAA,UAAP,KAAuB,uBAAvB,C,6IAEA,GAAMC,CAAAA,aAAa,CAAG,KAAtB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,GAAD,CAAMC,GAAN,CAAWC,GAAX,CAAmB,CAC/B,GAAIF,GAAG,CAAGC,GAAV,CAAe,CACb,MAAOA,CAAAA,GAAP,CACD,CACD,GAAID,GAAG,CAAGE,GAAV,CAAe,CACb,MAAOA,CAAAA,GAAP,CACD,CACD,MAAOF,CAAAA,GAAP,CACD,CARD,CAUA,QAASG,CAAAA,sBAAT,MAOG,IANDC,CAAAA,MAMC,MANDA,MAMC,CALDC,SAKC,MALDA,SAKC,CAJDC,OAIC,MAJDA,OAIC,CAHDC,OAGC,MAHDA,OAGC,CAFDC,SAEC,MAFDA,SAEC,CADDC,WACC,MADDA,WACC,CACD,cAA0CjB,QAAQ,CAACiB,WAAD,CAAlD,wCAAOC,aAAP,eAAsBC,gBAAtB,eACA,mBACE,wCACE,KAAC,OAAD,EAAS,OAAO,SAAE,+BAAlB,CAA4C,QAAQ,CAAC,MAArD,uBACE,KAAC,MAAD,EACE,qBAAY,+BADd,CAEE,OAAO,CAAC,OAFV,CAGE,OAAO,CAAEL,OAHX,CAIE,UAAU,CAAED,SAJd,uBAME,KAAC,UAAD,IANF,EADF,EADF,cAWE,MAAC,UAAD,EACE,MAAM,CAAED,MADV,CAEE,OAAO,CAAC,MAFV,CAGE,OAAO,CAAEG,OAHX,CAIE,KAAK,SAAE,+BAJT,CAKE,KAAK,SAAE,+BALT,CAME,OAAO,CAAE,cACP,KAAC,MAAD,EACE,EAAE,CAAC,2BADL,CAGE,OAAO,CAAC,SAHV,CAIE,UAAU,CAAEF,SAJd,CAKE,qBAAY,gBALd,CAME,OAAO,CAAE,yBAAMG,CAAAA,SAAS,CAACE,aAAD,CAAf,EANX,kBAQG,gBARH,EAEM,QAFN,CADO,cAWP,KAAC,MAAD,EACE,EAAE,CAAC,0BADL,CAGE,OAAO,CAAC,MAHV,CAIE,qBAAY,gBAJd,CAKE,OAAO,CAAEH,OALX,kBAOG,gBAPH,EAEM,QAFN,CAXO,CANX,mBA4BG,uDA5BH,cA6BE,KAAC,SAAD,EACE,KAAK,CAAEG,aADT,CAEE,IAAI,CAAC,QAFP,CAGE,QAAQ,CAAE,kBAACE,KAAD,QAAWD,CAAAA,gBAAgB,CAACZ,KAAK,CAACa,KAAD,CAAQ,CAAR,CAAWd,aAAX,CAAN,CAA3B,EAHZ,CAIE,qBAAY,+BAJd,EA7BF,GAXF,GADF,CAkDD,CAED,cAAeK,CAAAA,sBAAf","sourcesContent":["import React, { useState } from 'react';\n\nimport { t } from '@lingui/macro';\nimport { Button, TextInput, Tooltip } from '@patternfly/react-core';\nimport { RocketIcon } from '@patternfly/react-icons';\n\nimport AlertModal from 'components/AlertModal';\n\nconst MAX_RETENTION = 99999;\n\nconst clamp = (val, min, max) => {\n  if (val < min) {\n    return min;\n  }\n  if (val > max) {\n    return max;\n  }\n  return val;\n};\n\nfunction LaunchManagementPrompt({\n  isOpen,\n  isLoading,\n  onClick,\n  onClose,\n  onConfirm,\n  defaultDays,\n}) {\n  const [dataRetention, setDataRetention] = useState(defaultDays);\n  return (\n    <>\n      <Tooltip content={t`Launch management job`} position=\"left\">\n        <Button\n          aria-label={t`Launch management job`}\n          variant=\"plain\"\n          onClick={onClick}\n          isDisabled={isLoading}\n        >\n          <RocketIcon />\n        </Button>\n      </Tooltip>\n      <AlertModal\n        isOpen={isOpen}\n        variant=\"info\"\n        onClose={onClose}\n        title={t`Launch management job`}\n        label={t`Launch management job`}\n        actions={[\n          <Button\n            id=\"launch-job-confirm-button\"\n            key=\"delete\"\n            variant=\"primary\"\n            isDisabled={isLoading}\n            aria-label={t`Launch`}\n            onClick={() => onConfirm(dataRetention)}\n          >\n            {t`Launch`}\n          </Button>,\n          <Button\n            id=\"launch-job-cancel-button\"\n            key=\"cancel\"\n            variant=\"link\"\n            aria-label={t`Cancel`}\n            onClick={onClose}\n          >\n            {t`Cancel`}\n          </Button>,\n        ]}\n      >\n        {t`Set how many days of data should be retained.`}\n        <TextInput\n          value={dataRetention}\n          type=\"number\"\n          onChange={(value) => setDataRetention(clamp(value, 0, MAX_RETENTION))}\n          aria-label={t`Data retention period`}\n        />\n      </AlertModal>\n    </>\n  );\n}\n\nexport default LaunchManagementPrompt;\n"]},"metadata":{},"sourceType":"module"}