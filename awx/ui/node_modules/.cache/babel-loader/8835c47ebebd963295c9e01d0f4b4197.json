{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{i18n}from\"@lingui/core\";import React from'react';import{Link}from'react-router-dom';import{Button,Tooltip}from'@patternfly/react-core';import{PencilAltIcon}from'@patternfly/react-icons';import{Td,Tr}from'@patternfly/react-table';import{ActionItem,ActionsTd}from'components/PaginatedTable';import HostToggle from'components/HostToggle';import Sparkline from'components/Sparkline';import{Host}from'types';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function InventoryGroupHostListItem(_ref){var _host$summary_fields$,_host$summary_fields$2;var detailUrl=_ref.detailUrl,editUrl=_ref.editUrl,host=_ref.host,rowIndex=_ref.rowIndex,isSelected=_ref.isSelected,onSelect=_ref.onSelect;var recentPlaybookJobs=host.summary_fields.recent_jobs.map(function(job){return _objectSpread(_objectSpread({},job),{},{type:'job'});});var labelId=\"check-action-\".concat(host.id);return/*#__PURE__*/_jsxs(Tr,{id:host.id,ouiaId:\"inventory-group-host-row-\".concat(host.id),\"aria-labelledby\":labelId,children:[/*#__PURE__*/_jsx(Td,{select:{rowIndex:rowIndex,isSelected:isSelected,onSelect:onSelect},dataLabel:/*i18n*/i18n._(\"Selected\")}),/*#__PURE__*/_jsx(Td,{dataLabel:/*i18n*/i18n._(\"host-name-{0}\",{0:host.id}),id:labelId,children:/*#__PURE__*/_jsx(Link,{to:\"\".concat(detailUrl),children:/*#__PURE__*/_jsx(\"b\",{children:host.name})})}),/*#__PURE__*/_jsx(Td,{dataLabel:/*i18n*/i18n._(\"host-description-{0}\",{0:host.id}),children:host.description}),/*#__PURE__*/_jsx(Td,{dataLabel:/*i18n*/i18n._(\"Activity\"),children:/*#__PURE__*/_jsx(Sparkline,{jobs:recentPlaybookJobs})}),/*#__PURE__*/_jsxs(ActionsTd,{dataLabel:/*i18n*/i18n._(\"Actions\"),gridColumns:\"auto 40px\",children:[/*#__PURE__*/_jsx(ActionItem,{visible:(_host$summary_fields$=host.summary_fields.user_capabilities)===null||_host$summary_fields$===void 0?void 0:_host$summary_fields$.edit,tooltip:/*i18n*/i18n._(\"Toggle host\"),children:/*#__PURE__*/_jsx(HostToggle,{host:host})}),/*#__PURE__*/_jsx(ActionItem,{tooltip:/*i18n*/i18n._(\"Edit Host\"),visible:(_host$summary_fields$2=host.summary_fields.user_capabilities)===null||_host$summary_fields$2===void 0?void 0:_host$summary_fields$2.edit,children:/*#__PURE__*/_jsx(Tooltip,{content:/*i18n*/i18n._(\"Edit Host\"),position:\"top\",children:/*#__PURE__*/_jsx(Button,{ouiaId:\"\".concat(host.id,\"-edit-button\"),\"aria-label\":/*i18n*/i18n._(\"Edit Host\"),variant:\"plain\",component:Link,to:\"\".concat(editUrl),children:/*#__PURE__*/_jsx(PencilAltIcon,{})})})})]})]});}export default InventoryGroupHostListItem;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/Inventory/InventoryGroupHosts/InventoryGroupHostListItem.js"],"names":["React","Link","Button","Tooltip","PencilAltIcon","Td","Tr","ActionItem","ActionsTd","HostToggle","Sparkline","Host","InventoryGroupHostListItem","detailUrl","editUrl","host","rowIndex","isSelected","onSelect","recentPlaybookJobs","summary_fields","recent_jobs","map","job","type","labelId","id","name","description","user_capabilities","edit"],"mappings":"qIACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CAGA,OAASC,MAAT,CAAiBC,OAAjB,KAAgC,wBAAhC,CACA,OAASC,aAAT,KAA8B,yBAA9B,CAEA,OAASC,EAAT,CAAaC,EAAb,KAAuB,yBAAvB,CACA,OAASC,UAAT,CAAqBC,SAArB,KAAsC,2BAAtC,CACA,MAAOC,CAAAA,UAAP,KAAuB,uBAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,sBAAtB,CACA,OAASC,IAAT,KAAqB,OAArB,C,wFAEA,QAASC,CAAAA,0BAAT,MAOG,qDANDC,CAAAA,SAMC,MANDA,SAMC,CALDC,OAKC,MALDA,OAKC,CAJDC,IAIC,MAJDA,IAIC,CAHDC,QAGC,MAHDA,QAGC,CAFDC,UAEC,MAFDA,UAEC,CADDC,QACC,MADDA,QACC,CACD,GAAMC,CAAAA,kBAAkB,CAAGJ,IAAI,CAACK,cAAL,CAAoBC,WAApB,CAAgCC,GAAhC,CAAoC,SAACC,GAAD,wCAC1DA,GAD0D,MAE7DC,IAAI,CAAE,KAFuD,IAApC,CAA3B,CAKA,GAAMC,CAAAA,OAAO,wBAAmBV,IAAI,CAACW,EAAxB,CAAb,CAEA,mBACE,MAAC,EAAD,EACE,EAAE,CAAEX,IAAI,CAACW,EADX,CAEE,MAAM,oCAA8BX,IAAI,CAACW,EAAnC,CAFR,CAGE,kBAAiBD,OAHnB,wBAKE,KAAC,EAAD,EACE,MAAM,CAAE,CACNT,QAAQ,CAARA,QADM,CAENC,UAAU,CAAVA,UAFM,CAGNC,QAAQ,CAARA,QAHM,CADV,CAME,SAAS,SAAE,kBANb,EALF,cAaE,KAAC,EAAD,EAAI,SAAS,SAAE,0BAAcH,IAAI,CAACW,EAAnB,EAAf,CAAwC,EAAE,CAAED,OAA5C,uBACE,KAAC,IAAD,EAAM,EAAE,WAAKZ,SAAL,CAAR,uBACE,mBAAIE,IAAI,CAACY,IAAT,EADF,EADF,EAbF,cAkBE,KAAC,EAAD,EAAI,SAAS,SAAE,iCAAqBZ,IAAI,CAACW,EAA1B,EAAf,UAAgDX,IAAI,CAACa,WAArD,EAlBF,cAmBE,KAAC,EAAD,EAAI,SAAS,SAAE,kBAAf,uBACE,KAAC,SAAD,EAAW,IAAI,CAAET,kBAAjB,EADF,EAnBF,cAsBE,MAAC,SAAD,EAAW,SAAS,SAAE,iBAAtB,CAAkC,WAAW,CAAC,WAA9C,wBACE,KAAC,UAAD,EACE,OAAO,wBAAEJ,IAAI,CAACK,cAAL,CAAoBS,iBAAtB,gDAAE,sBAAuCC,IADlD,CAEE,OAAO,SAAE,qBAFX,uBAIE,KAAC,UAAD,EAAY,IAAI,CAAEf,IAAlB,EAJF,EADF,cAOE,KAAC,UAAD,EACE,OAAO,SAAE,mBADX,CAEE,OAAO,yBAAEA,IAAI,CAACK,cAAL,CAAoBS,iBAAtB,iDAAE,uBAAuCC,IAFlD,uBAIE,KAAC,OAAD,EAAS,OAAO,SAAE,mBAAlB,CAAgC,QAAQ,CAAC,KAAzC,uBACE,KAAC,MAAD,EACE,MAAM,WAAKf,IAAI,CAACW,EAAV,gBADR,CAEE,qBAAY,mBAFd,CAGE,OAAO,CAAC,OAHV,CAIE,SAAS,CAAEzB,IAJb,CAKE,EAAE,WAAKa,OAAL,CALJ,uBAOE,KAAC,aAAD,IAPF,EADF,EAJF,EAPF,GAtBF,GADF,CAiDD,CAWD,cAAeF,CAAAA,0BAAf","sourcesContent":["import 'styled-components/macro';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { string, bool, func, number } from 'prop-types';\nimport { t } from '@lingui/macro';\nimport { Button, Tooltip } from '@patternfly/react-core';\nimport { PencilAltIcon } from '@patternfly/react-icons';\n\nimport { Td, Tr } from '@patternfly/react-table';\nimport { ActionItem, ActionsTd } from 'components/PaginatedTable';\nimport HostToggle from 'components/HostToggle';\nimport Sparkline from 'components/Sparkline';\nimport { Host } from 'types';\n\nfunction InventoryGroupHostListItem({\n  detailUrl,\n  editUrl,\n  host,\n  rowIndex,\n  isSelected,\n  onSelect,\n}) {\n  const recentPlaybookJobs = host.summary_fields.recent_jobs.map((job) => ({\n    ...job,\n    type: 'job',\n  }));\n\n  const labelId = `check-action-${host.id}`;\n\n  return (\n    <Tr\n      id={host.id}\n      ouiaId={`inventory-group-host-row-${host.id}`}\n      aria-labelledby={labelId}\n    >\n      <Td\n        select={{\n          rowIndex,\n          isSelected,\n          onSelect,\n        }}\n        dataLabel={t`Selected`}\n      />\n      <Td dataLabel={t`host-name-${host.id}`} id={labelId}>\n        <Link to={`${detailUrl}`}>\n          <b>{host.name}</b>\n        </Link>\n      </Td>\n      <Td dataLabel={t`host-description-${host.id}`}>{host.description}</Td>\n      <Td dataLabel={t`Activity`}>\n        <Sparkline jobs={recentPlaybookJobs} />\n      </Td>\n      <ActionsTd dataLabel={t`Actions`} gridColumns=\"auto 40px\">\n        <ActionItem\n          visible={host.summary_fields.user_capabilities?.edit}\n          tooltip={t`Toggle host`}\n        >\n          <HostToggle host={host} />\n        </ActionItem>\n        <ActionItem\n          tooltip={t`Edit Host`}\n          visible={host.summary_fields.user_capabilities?.edit}\n        >\n          <Tooltip content={t`Edit Host`} position=\"top\">\n            <Button\n              ouiaId={`${host.id}-edit-button`}\n              aria-label={t`Edit Host`}\n              variant=\"plain\"\n              component={Link}\n              to={`${editUrl}`}\n            >\n              <PencilAltIcon />\n            </Button>\n          </Tooltip>\n        </ActionItem>\n      </ActionsTd>\n    </Tr>\n  );\n}\n\nInventoryGroupHostListItem.propTypes = {\n  detailUrl: string.isRequired,\n  editUrl: string.isRequired,\n  rowIndex: number.isRequired,\n  host: Host.isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default InventoryGroupHostListItem;\n"]},"metadata":{},"sourceType":"module"}