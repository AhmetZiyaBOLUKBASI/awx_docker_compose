{"ast":null,"code":"import{i18n}from\"@lingui/core\";import React,{useCallback}from'react';import{useFormikContext}from'formik';import{FormGroup,Title}from'@patternfly/react-core';import CredentialLookup from'components/Lookup/CredentialLookup';import FormField,{CheckboxField}from'components/FormField';import{required}from'util/validators';import{FormCheckboxLayout,FormFullWidthLayout}from'components/FormLayout';import projectHelpStrings from'../Project.helptext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var UrlFormField=function UrlFormField(_ref){var tooltip=_ref.tooltip;return/*#__PURE__*/_jsx(FormField,{id:\"project-scm-url\",isRequired:true,label:/*i18n*/i18n._(\"Source Control URL\"),name:\"scm_url\",tooltip:tooltip,tooltipMaxWidth:\"350px\",type:\"text\",validate:required(null)});};export var BranchFormField=function BranchFormField(_ref2){var label=_ref2.label;return/*#__PURE__*/_jsx(FormField,{id:\"project-scm-branch\",name:\"scm_branch\",type:\"text\",label:label,tooltip:projectHelpStrings.branchFormField});};export var ScmCredentialFormField=function ScmCredentialFormField(_ref3){var credential=_ref3.credential,onCredentialSelection=_ref3.onCredentialSelection;var _useFormikContext=useFormikContext(),setFieldValue=_useFormikContext.setFieldValue,setFieldTouched=_useFormikContext.setFieldTouched;var onCredentialChange=useCallback(function(value){onCredentialSelection('scm',value);setFieldValue('credential',value);setFieldTouched('credential',true,false);},[onCredentialSelection,setFieldValue,setFieldTouched]);return/*#__PURE__*/_jsx(CredentialLookup,{credentialTypeId:credential.typeId,label:/*i18n*/i18n._(\"Source Control Credential\"),value:credential.value,onChange:onCredentialChange});};export var ScmTypeOptions=function ScmTypeOptions(_ref4){var scmUpdateOnLaunch=_ref4.scmUpdateOnLaunch,hideAllowOverride=_ref4.hideAllowOverride;var _useFormikContext2=useFormikContext(),values=_useFormikContext2.values;return/*#__PURE__*/_jsxs(FormFullWidthLayout,{children:[/*#__PURE__*/_jsx(FormGroup,{fieldId:\"project-option-checkboxes\",label:/*i18n*/i18n._(\"Options\"),children:/*#__PURE__*/_jsxs(FormCheckboxLayout,{children:[/*#__PURE__*/_jsx(CheckboxField,{id:\"option-scm-clean\",name:\"scm_clean\",label:/*i18n*/i18n._(\"Clean\"),tooltip:projectHelpStrings.options.clean}),/*#__PURE__*/_jsx(CheckboxField,{id:\"option-scm-delete-on-update\",name:\"scm_delete_on_update\",label:/*i18n*/i18n._(\"Delete\"),tooltip:projectHelpStrings.options.delete}),values.scm_type==='git'?/*#__PURE__*/_jsx(CheckboxField,{id:\"option-scm-track-submodules\",name:\"scm_track_submodules\",label:/*i18n*/i18n._(\"Track submodules\"),tooltip:projectHelpStrings.options.trackSubModules}):null,/*#__PURE__*/_jsx(CheckboxField,{id:\"option-scm-update-on-launch\",name:\"scm_update_on_launch\",label:/*i18n*/i18n._(\"Update Revision on Launch\"),tooltip:projectHelpStrings.options.updateOnLaunch}),!hideAllowOverride&&/*#__PURE__*/_jsx(CheckboxField,{id:\"option-allow-override\",name:\"allow_override\",label:/*i18n*/i18n._(\"Allow Branch Override\"),tooltip:projectHelpStrings.options.allowBranchOverride})]})}),scmUpdateOnLaunch&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Title,{size:\"md\",headingLevel:\"h4\",children:/*i18n*/i18n._(\"Option Details\")}),/*#__PURE__*/_jsx(FormField,{id:\"project-cache-timeout\",name:\"scm_update_cache_timeout\",type:\"number\",min:\"0\",label:/*i18n*/i18n._(\"Cache Timeout\"),tooltip:projectHelpStrings.options.cacheTimeout})]})]});};","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/Project/shared/ProjectSubForms/SharedFields.js"],"names":["React","useCallback","useFormikContext","FormGroup","Title","CredentialLookup","FormField","CheckboxField","required","FormCheckboxLayout","FormFullWidthLayout","projectHelpStrings","UrlFormField","tooltip","BranchFormField","label","branchFormField","ScmCredentialFormField","credential","onCredentialSelection","setFieldValue","setFieldTouched","onCredentialChange","value","typeId","ScmTypeOptions","scmUpdateOnLaunch","hideAllowOverride","values","options","clean","delete","scm_type","trackSubModules","updateOnLaunch","allowBranchOverride","cacheTimeout"],"mappings":"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","sourcesContent":["import React, { useCallback } from 'react';\n\nimport { t } from '@lingui/macro';\nimport { useFormikContext } from 'formik';\nimport { FormGroup, Title } from '@patternfly/react-core';\nimport CredentialLookup from 'components/Lookup/CredentialLookup';\nimport FormField, { CheckboxField } from 'components/FormField';\nimport { required } from 'util/validators';\nimport { FormCheckboxLayout, FormFullWidthLayout } from 'components/FormLayout';\nimport projectHelpStrings from '../Project.helptext';\n\nexport const UrlFormField = ({ tooltip }) => (\n  <FormField\n    id=\"project-scm-url\"\n    isRequired\n    label={t`Source Control URL`}\n    name=\"scm_url\"\n    tooltip={tooltip}\n    tooltipMaxWidth=\"350px\"\n    type=\"text\"\n    validate={required(null)}\n  />\n);\n\nexport const BranchFormField = ({ label }) => (\n  <FormField\n    id=\"project-scm-branch\"\n    name=\"scm_branch\"\n    type=\"text\"\n    label={label}\n    tooltip={projectHelpStrings.branchFormField}\n  />\n);\n\nexport const ScmCredentialFormField = ({\n  credential,\n  onCredentialSelection,\n}) => {\n  const { setFieldValue, setFieldTouched } = useFormikContext();\n\n  const onCredentialChange = useCallback(\n    (value) => {\n      onCredentialSelection('scm', value);\n      setFieldValue('credential', value);\n      setFieldTouched('credential', true, false);\n    },\n    [onCredentialSelection, setFieldValue, setFieldTouched]\n  );\n\n  return (\n    <CredentialLookup\n      credentialTypeId={credential.typeId}\n      label={t`Source Control Credential`}\n      value={credential.value}\n      onChange={onCredentialChange}\n    />\n  );\n};\n\nexport const ScmTypeOptions = ({ scmUpdateOnLaunch, hideAllowOverride }) => {\n  const { values } = useFormikContext();\n\n  return (\n    <FormFullWidthLayout>\n      <FormGroup fieldId=\"project-option-checkboxes\" label={t`Options`}>\n        <FormCheckboxLayout>\n          <CheckboxField\n            id=\"option-scm-clean\"\n            name=\"scm_clean\"\n            label={t`Clean`}\n            tooltip={projectHelpStrings.options.clean}\n          />\n          <CheckboxField\n            id=\"option-scm-delete-on-update\"\n            name=\"scm_delete_on_update\"\n            label={t`Delete`}\n            tooltip={projectHelpStrings.options.delete}\n          />\n          {values.scm_type === 'git' ? (\n            <CheckboxField\n              id=\"option-scm-track-submodules\"\n              name=\"scm_track_submodules\"\n              label={t`Track submodules`}\n              tooltip={projectHelpStrings.options.trackSubModules}\n            />\n          ) : null}\n          <CheckboxField\n            id=\"option-scm-update-on-launch\"\n            name=\"scm_update_on_launch\"\n            label={t`Update Revision on Launch`}\n            tooltip={projectHelpStrings.options.updateOnLaunch}\n          />\n          {!hideAllowOverride && (\n            <CheckboxField\n              id=\"option-allow-override\"\n              name=\"allow_override\"\n              label={t`Allow Branch Override`}\n              tooltip={projectHelpStrings.options.allowBranchOverride}\n            />\n          )}\n        </FormCheckboxLayout>\n      </FormGroup>\n\n      {scmUpdateOnLaunch && (\n        <>\n          <Title size=\"md\" headingLevel=\"h4\">\n            {t`Option Details`}\n          </Title>\n          <FormField\n            id=\"project-cache-timeout\"\n            name=\"scm_update_cache_timeout\"\n            type=\"number\"\n            min=\"0\"\n            label={t`Cache Timeout`}\n            tooltip={projectHelpStrings.options.cacheTimeout}\n          />\n        </>\n      )}\n    </FormFullWidthLayout>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}