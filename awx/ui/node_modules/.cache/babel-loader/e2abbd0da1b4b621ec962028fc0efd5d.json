{"ast":null,"code":"import _slicedToArray from \"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Menu/menu';\nimport { css } from '@patternfly/react-styles';\nimport topOffset from '@patternfly/react-tokens/dist/esm/c_menu_m_flyout__menu_top_offset';\nimport rightOffset from '@patternfly/react-tokens/dist/esm/c_menu_m_flyout__menu_m_left_right_offset';\nimport leftOffset from '@patternfly/react-tokens/dist/esm/c_menu_m_flyout__menu_left_offset';\nimport ExternalLinkAltIcon from '@patternfly/react-icons/dist/esm/icons/external-link-alt-icon';\nimport AngleRightIcon from '@patternfly/react-icons/dist/esm/icons/angle-right-icon';\nimport AngleLeftIcon from '@patternfly/react-icons/dist/esm/icons/angle-left-icon';\nimport CheckIcon from '@patternfly/react-icons/dist/esm/icons/check-icon';\nimport { Checkbox } from '../Checkbox';\nimport { MenuContext, MenuItemContext } from './MenuContext';\nimport { MenuItemAction } from './MenuItemAction';\nimport { canUseDOM } from '../../helpers/util';\nimport { useIsomorphicLayoutEffect } from '../../helpers/useIsomorphicLayout';\nimport { GenerateId } from '../../helpers/GenerateId/GenerateId';\nvar FlyoutContext = React.createContext({\n  direction: 'right'\n});\n\nvar MenuItemBase = function MenuItemBase(_a) {\n  var children = _a.children,\n      className = _a.className,\n      _a$itemId = _a.itemId,\n      itemId = _a$itemId === void 0 ? null : _a$itemId,\n      to = _a.to,\n      _a$hasCheck = _a.hasCheck,\n      hasCheck = _a$hasCheck === void 0 ? false : _a$hasCheck,\n      _a$isActive = _a.isActive,\n      isActive = _a$isActive === void 0 ? null : _a$isActive,\n      _a$isFavorited = _a.isFavorited,\n      isFavorited = _a$isFavorited === void 0 ? null : _a$isFavorited,\n      _a$isLoadButton = _a.isLoadButton,\n      isLoadButton = _a$isLoadButton === void 0 ? false : _a$isLoadButton,\n      _a$isLoading = _a.isLoading,\n      isLoading = _a$isLoading === void 0 ? false : _a$isLoading,\n      flyoutMenu = _a.flyoutMenu,\n      direction = _a.direction,\n      _a$description = _a.description,\n      description = _a$description === void 0 ? null : _a$description,\n      _a$onClick = _a.onClick,\n      onClick = _a$onClick === void 0 ? function () {} : _a$onClick,\n      _a$component = _a.component,\n      component = _a$component === void 0 ? 'button' : _a$component,\n      _a$isDisabled = _a.isDisabled,\n      isDisabled = _a$isDisabled === void 0 ? false : _a$isDisabled,\n      _a$isExternalLink = _a.isExternalLink,\n      isExternalLink = _a$isExternalLink === void 0 ? false : _a$isExternalLink,\n      _a$isSelected = _a.isSelected,\n      isSelected = _a$isSelected === void 0 ? null : _a$isSelected,\n      icon = _a.icon,\n      actions = _a.actions,\n      onShowFlyout = _a.onShowFlyout,\n      drilldownMenu = _a.drilldownMenu,\n      isOnPath = _a.isOnPath,\n      innerRef = _a.innerRef,\n      props = __rest(_a, [\"children\", \"className\", \"itemId\", \"to\", \"hasCheck\", \"isActive\", \"isFavorited\", \"isLoadButton\", \"isLoading\", \"flyoutMenu\", \"direction\", \"description\", \"onClick\", \"component\", \"isDisabled\", \"isExternalLink\", \"isSelected\", \"icon\", \"actions\", \"onShowFlyout\", \"drilldownMenu\", \"isOnPath\", \"innerRef\"]);\n\n  var _React$useContext = React.useContext(MenuContext),\n      menuId = _React$useContext.menuId,\n      parentMenu = _React$useContext.parentMenu,\n      onSelect = _React$useContext.onSelect,\n      onActionClick = _React$useContext.onActionClick,\n      activeItemId = _React$useContext.activeItemId,\n      selected = _React$useContext.selected,\n      drilldownItemPath = _React$useContext.drilldownItemPath,\n      onDrillIn = _React$useContext.onDrillIn,\n      onDrillOut = _React$useContext.onDrillOut,\n      flyoutRef = _React$useContext.flyoutRef,\n      setFlyoutRef = _React$useContext.setFlyoutRef,\n      disableHover = _React$useContext.disableHover;\n\n  var Component = to ? 'a' : component;\n\n  if (hasCheck && !to) {\n    Component = 'label';\n  }\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      flyoutTarget = _React$useState2[0],\n      setFlyoutTarget = _React$useState2[1];\n\n  var flyoutContext = React.useContext(FlyoutContext);\n\n  var _React$useState3 = React.useState(flyoutContext.direction),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      flyoutXDirection = _React$useState4[0],\n      setFlyoutXDirection = _React$useState4[1];\n\n  var ref = React.useRef();\n  var flyoutVisible = ref === flyoutRef;\n  var hasFlyout = flyoutMenu !== undefined;\n\n  var showFlyout = function showFlyout(show) {\n    if (!flyoutVisible && show) {\n      setFlyoutRef(ref);\n    } else if (flyoutVisible && !show) {\n      setFlyoutRef(null);\n    }\n\n    onShowFlyout && show && onShowFlyout();\n  };\n\n  useIsomorphicLayoutEffect(function () {\n    if (hasFlyout && ref.current && canUseDOM) {\n      var _flyoutMenu = ref.current.lastElementChild;\n\n      if (_flyoutMenu && _flyoutMenu.classList.contains(styles.menu)) {\n        var origin = ref.current.getClientRects()[0];\n\n        var rect = _flyoutMenu.getClientRects()[0];\n\n        if (origin && rect) {\n          var spaceLeftLeft = origin.x - rect.width;\n          var spaceLeftRight = window.innerWidth - origin.x - origin.width - rect.width;\n          var xDir = flyoutXDirection;\n\n          if (spaceLeftRight < 0 && xDir !== 'left') {\n            setFlyoutXDirection('left');\n            xDir = 'left';\n          } else if (spaceLeftLeft < 0 && xDir !== 'right') {\n            setFlyoutXDirection('right');\n            xDir = 'right';\n          }\n\n          var xOffset = 0;\n\n          if (spaceLeftLeft < 0 && spaceLeftRight < 0) {\n            xOffset = xDir === 'right' ? -spaceLeftRight : -spaceLeftLeft;\n          }\n\n          if (xDir === 'left') {\n            _flyoutMenu.classList.add(styles.modifiers.left);\n\n            _flyoutMenu.style.setProperty(rightOffset.name, \"-\".concat(xOffset, \"px\"));\n          } else {\n            _flyoutMenu.style.setProperty(leftOffset.name, \"-\".concat(xOffset, \"px\"));\n          }\n\n          var spaceLeftBot = window.innerHeight - origin.y - rect.height;\n          var spaceLeftTop = window.innerHeight - rect.height;\n\n          if (spaceLeftTop < 0 && spaceLeftBot < 0) {// working idea: page can usually scroll down, but not up\n            // TODO: proper scroll buttons\n          } else if (spaceLeftBot < 0) {\n            _flyoutMenu.style.setProperty(topOffset.name, \"\".concat(spaceLeftBot, \"px\"));\n          }\n        }\n      }\n    }\n  }, [flyoutVisible, flyoutMenu]);\n  React.useEffect(function () {\n    setFlyoutXDirection(flyoutContext.direction);\n  }, [flyoutContext]);\n  React.useEffect(function () {\n    if (flyoutTarget) {\n      if (flyoutVisible) {\n        var _flyoutMenu2 = flyoutTarget.nextElementSibling;\n        var flyoutItems = Array.from(_flyoutMenu2.getElementsByTagName('UL')[0].children).filter(function (el) {\n          return !(el.classList.contains('pf-m-disabled') || el.classList.contains('pf-c-divider'));\n        });\n        flyoutItems[0].firstChild.focus();\n      } else {\n        flyoutTarget.focus();\n      }\n    }\n  }, [flyoutVisible, flyoutTarget]);\n\n  var handleFlyout = function handleFlyout(event) {\n    var key = event.key;\n    var target = event.target;\n\n    if (key === ' ' || key === 'Enter' || key === 'ArrowRight') {\n      event.stopPropagation();\n\n      if (!flyoutVisible) {\n        showFlyout(true);\n        setFlyoutTarget(target);\n      }\n    }\n\n    if (key === 'Escape' || key === 'ArrowLeft') {\n      if (flyoutVisible) {\n        event.stopPropagation();\n        showFlyout(false);\n      }\n    }\n  };\n\n  var onItemSelect = function onItemSelect(event, onSelect) {\n    // Trigger callback for Menu onSelect\n    onSelect && onSelect(event, itemId); // Trigger callback for item onClick\n\n    onClick && onClick(event);\n  };\n\n  var _isOnPath = isOnPath && isOnPath || drilldownItemPath && drilldownItemPath.includes(itemId) || false;\n\n  var _drill;\n\n  if (direction) {\n    if (direction === 'down') {\n      _drill = function _drill() {\n        return onDrillIn && onDrillIn(menuId, typeof drilldownMenu === 'function' ? drilldownMenu().props.id : drilldownMenu.props.id, itemId);\n      };\n    } else {\n      _drill = function _drill() {\n        return onDrillOut && onDrillOut(parentMenu, itemId);\n      };\n    }\n  }\n\n  var additionalProps = {};\n\n  if (Component === 'a') {\n    additionalProps = {\n      href: to,\n      'aria-disabled': isDisabled ? true : null,\n      // prevent invalid 'disabled' attribute on <a> tags\n      disabled: null\n    };\n  } else if (Component === 'button') {\n    additionalProps = {\n      type: 'button'\n    };\n  }\n\n  if (isOnPath) {\n    additionalProps['aria-expanded'] = true;\n  } else if (hasFlyout) {\n    additionalProps['aria-haspopup'] = true;\n    additionalProps['aria-expanded'] = flyoutVisible;\n  }\n\n  var getAriaCurrent = function getAriaCurrent() {\n    if (isActive !== null) {\n      if (isActive) {\n        return 'page';\n      } else {\n        return null;\n      }\n    } else if (itemId !== null && activeItemId !== null) {\n      return itemId === activeItemId;\n    }\n\n    return null;\n  };\n\n  var getIsSelected = function getIsSelected() {\n    if (isSelected !== null) {\n      return isSelected;\n    } else if (selected !== null && itemId !== null) {\n      return Array.isArray(selected) && selected.includes(itemId) || itemId === selected;\n    }\n\n    return false;\n  };\n\n  var onMouseOver = function onMouseOver() {\n    if (disableHover) {\n      return;\n    }\n\n    if (hasFlyout) {\n      showFlyout(true);\n    } else {\n      setFlyoutRef(null);\n    }\n  };\n\n  return React.createElement(\"li\", Object.assign({\n    className: css(styles.menuListItem, isDisabled && styles.modifiers.disabled, _isOnPath && styles.modifiers.currentPath, isLoadButton && styles.modifiers.load, isLoading && styles.modifiers.loading, className),\n    onMouseOver: onMouseOver\n  }, flyoutMenu && {\n    onKeyDown: handleFlyout\n  }, {\n    ref: ref,\n    role: !hasCheck ? 'none' : 'menuitem'\n  }, props), React.createElement(GenerateId, null, function (randomId) {\n    return React.createElement(Component, Object.assign({\n      tabIndex: -1,\n      className: css(styles.menuItem, getIsSelected() && !hasCheck && styles.modifiers.selected, className),\n      \"aria-current\": getAriaCurrent()\n    }, !hasCheck && {\n      disabled: isDisabled\n    }, !hasCheck && {\n      role: 'menuitem'\n    }, {\n      ref: innerRef\n    }, !hasCheck && {\n      onClick: function onClick(event) {\n        onItemSelect(event, onSelect);\n        _drill && _drill();\n      }\n    }, hasCheck && {\n      htmlFor: randomId\n    }, additionalProps), React.createElement(\"span\", {\n      className: css(styles.menuItemMain)\n    }, direction === 'up' && React.createElement(\"span\", {\n      className: css(styles.menuItemToggleIcon)\n    }, React.createElement(AngleLeftIcon, {\n      \"aria-hidden\": true\n    })), icon && React.createElement(\"span\", {\n      className: css(styles.menuItemIcon)\n    }, icon), hasCheck && React.createElement(\"span\", {\n      className: css('pf-c-menu__item-check')\n    }, React.createElement(Checkbox, {\n      id: randomId,\n      component: \"span\",\n      isChecked: isSelected || false,\n      onChange: function onChange(event) {\n        return onItemSelect(event, onSelect);\n      },\n      isDisabled: isDisabled\n    })), React.createElement(\"span\", {\n      className: css(styles.menuItemText)\n    }, children), isExternalLink && React.createElement(\"span\", {\n      className: css(styles.menuItemExternalIcon)\n    }, React.createElement(ExternalLinkAltIcon, {\n      \"aria-hidden\": true\n    })), (flyoutMenu || direction === 'down') && React.createElement(\"span\", {\n      className: css(styles.menuItemToggleIcon)\n    }, React.createElement(AngleRightIcon, {\n      \"aria-hidden\": true\n    })), getIsSelected() && React.createElement(\"span\", {\n      className: css(styles.menuItemSelectIcon)\n    }, React.createElement(CheckIcon, {\n      \"aria-hidden\": true\n    }))), description && direction !== 'up' && React.createElement(\"span\", {\n      className: css(styles.menuItemDescription)\n    }, React.createElement(\"span\", null, description)));\n  }), flyoutVisible && React.createElement(MenuContext.Provider, {\n    value: {\n      disableHover: disableHover\n    }\n  }, React.createElement(FlyoutContext.Provider, {\n    value: {\n      direction: flyoutXDirection\n    }\n  }, flyoutMenu)), typeof drilldownMenu === 'function' ? drilldownMenu() : drilldownMenu, React.createElement(MenuItemContext.Provider, {\n    value: {\n      itemId: itemId,\n      isDisabled: isDisabled\n    }\n  }, actions, isFavorited !== null && React.createElement(MenuItemAction, {\n    icon: \"favorites\",\n    isFavorited: isFavorited,\n    \"aria-label\": isFavorited ? 'starred' : 'not starred',\n    onClick: function onClick(event) {\n      return onActionClick(event, itemId);\n    },\n    tabIndex: -1,\n    actionId: \"fav\"\n  })));\n};\n\nexport var MenuItem = React.forwardRef(function (props, ref) {\n  return React.createElement(MenuItemBase, Object.assign({}, props, {\n    innerRef: ref\n  }));\n});\nMenuItem.displayName = 'MenuItem';","map":{"version":3,"sources":["/awx_devel/awx/ui/node_modules/@patternfly/react-core/src/components/Menu/MenuItem.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Menu/menu';\nimport { css } from '@patternfly/react-styles';\nimport topOffset from '@patternfly/react-tokens/dist/esm/c_menu_m_flyout__menu_top_offset';\nimport rightOffset from '@patternfly/react-tokens/dist/esm/c_menu_m_flyout__menu_m_left_right_offset';\nimport leftOffset from '@patternfly/react-tokens/dist/esm/c_menu_m_flyout__menu_left_offset';\nimport ExternalLinkAltIcon from '@patternfly/react-icons/dist/esm/icons/external-link-alt-icon';\nimport AngleRightIcon from '@patternfly/react-icons/dist/esm/icons/angle-right-icon';\nimport AngleLeftIcon from '@patternfly/react-icons/dist/esm/icons/angle-left-icon';\nimport CheckIcon from '@patternfly/react-icons/dist/esm/icons/check-icon';\nimport { Checkbox } from '../Checkbox';\nimport { MenuContext, MenuItemContext } from './MenuContext';\nimport { MenuItemAction } from './MenuItemAction';\nimport { canUseDOM } from '../../helpers/util';\nimport { useIsomorphicLayoutEffect } from '../../helpers/useIsomorphicLayout';\nimport { GenerateId } from '../../helpers/GenerateId/GenerateId';\n\nexport interface MenuItemProps extends Omit<React.HTMLProps<HTMLLIElement>, 'onClick'> {\n  /** Content rendered inside the menu list item. */\n  children?: React.ReactNode;\n  /** Additional classes added to the menu list item */\n  className?: string;\n  /** Identifies the component in the Menu onSelect or onActionClick callback */\n  itemId?: any;\n  /** Target navigation link */\n  to?: string;\n  /** @beta Flag indicating the item has a checkbox */\n  hasCheck?: boolean;\n  /** Flag indicating whether the item is active */\n  isActive?: boolean;\n  /** Flag indicating if the item is favorited */\n  isFavorited?: boolean;\n  /** Flag indicating if the item causes a load */\n  isLoadButton?: boolean;\n  /** Flag indicating a loading state */\n  isLoading?: boolean;\n  /** Callback for item click */\n  onClick?: (event?: any) => void;\n  /** Component used to render the menu item */\n  component?: React.ElementType<any> | React.ComponentType<any>;\n  /** Render item as disabled option */\n  isDisabled?: boolean;\n  /** Render item with icon */\n  icon?: React.ReactNode;\n  /** Render item with one or more actions */\n  actions?: React.ReactNode;\n  /** Description of the menu item */\n  description?: React.ReactNode;\n  /** Render external link icon */\n  isExternalLink?: boolean;\n  /** Flag indicating if the option is selected */\n  isSelected?: boolean;\n  /** @beta Flyout menu */\n  flyoutMenu?: React.ReactElement;\n  /** @beta Callback function when mouse leaves trigger */\n  onShowFlyout?: (event?: any) => void;\n  /** @beta Drilldown menu of the item. Should be a Menu or DrilldownMenu type. */\n  drilldownMenu?: React.ReactNode | (() => React.ReactNode);\n  /** @beta Sub menu direction */\n  direction?: 'down' | 'up';\n  /** @beta True if item is on current selection path */\n  isOnPath?: boolean;\n  /** Accessibility label */\n  'aria-label'?: string;\n  /** @hide Forwarded ref */\n  innerRef?: React.Ref<HTMLAnchorElement | HTMLButtonElement>;\n}\n\nconst FlyoutContext = React.createContext({\n  direction: 'right' as 'left' | 'right'\n});\n\nconst MenuItemBase: React.FunctionComponent<MenuItemProps> = ({\n  children,\n  className,\n  itemId = null,\n  to,\n  hasCheck = false,\n  isActive = null,\n  isFavorited = null,\n  isLoadButton = false,\n  isLoading = false,\n  flyoutMenu,\n  direction,\n  description = null as string,\n  onClick = () => {},\n  component = 'button',\n  isDisabled = false,\n  isExternalLink = false,\n  isSelected = null,\n  icon,\n  actions,\n  onShowFlyout,\n  drilldownMenu,\n  isOnPath,\n  innerRef,\n  ...props\n}: MenuItemProps) => {\n  const {\n    menuId,\n    parentMenu,\n    onSelect,\n    onActionClick,\n    activeItemId,\n    selected,\n    drilldownItemPath,\n    onDrillIn,\n    onDrillOut,\n    flyoutRef,\n    setFlyoutRef,\n    disableHover\n  } = React.useContext(MenuContext);\n  let Component = (to ? 'a' : component) as any;\n  if (hasCheck && !to) {\n    Component = 'label' as any;\n  }\n  const [flyoutTarget, setFlyoutTarget] = React.useState(null);\n  const flyoutContext = React.useContext(FlyoutContext);\n  const [flyoutXDirection, setFlyoutXDirection] = React.useState(flyoutContext.direction);\n  const ref = React.useRef<HTMLLIElement>();\n  const flyoutVisible = ref === flyoutRef;\n\n  const hasFlyout = flyoutMenu !== undefined;\n  const showFlyout = (show: boolean) => {\n    if (!flyoutVisible && show) {\n      setFlyoutRef(ref);\n    } else if (flyoutVisible && !show) {\n      setFlyoutRef(null);\n    }\n    onShowFlyout && show && onShowFlyout();\n  };\n\n  useIsomorphicLayoutEffect(() => {\n    if (hasFlyout && ref.current && canUseDOM) {\n      const flyoutMenu = ref.current.lastElementChild as HTMLElement;\n      if (flyoutMenu && flyoutMenu.classList.contains(styles.menu)) {\n        const origin = ref.current.getClientRects()[0];\n        const rect = flyoutMenu.getClientRects()[0];\n        if (origin && rect) {\n          const spaceLeftLeft = origin.x - rect.width;\n          const spaceLeftRight = window.innerWidth - origin.x - origin.width - rect.width;\n          let xDir = flyoutXDirection as 'left' | 'right' | 'none';\n          if (spaceLeftRight < 0 && xDir !== 'left') {\n            setFlyoutXDirection('left');\n            xDir = 'left';\n          } else if (spaceLeftLeft < 0 && xDir !== 'right') {\n            setFlyoutXDirection('right');\n            xDir = 'right';\n          }\n          let xOffset = 0;\n          if (spaceLeftLeft < 0 && spaceLeftRight < 0) {\n            xOffset = xDir === 'right' ? -spaceLeftRight : -spaceLeftLeft;\n          }\n          if (xDir === 'left') {\n            flyoutMenu.classList.add(styles.modifiers.left);\n            flyoutMenu.style.setProperty(rightOffset.name, `-${xOffset}px`);\n          } else {\n            flyoutMenu.style.setProperty(leftOffset.name, `-${xOffset}px`);\n          }\n\n          const spaceLeftBot = window.innerHeight - origin.y - rect.height;\n          const spaceLeftTop = window.innerHeight - rect.height;\n          if (spaceLeftTop < 0 && spaceLeftBot < 0) {\n            // working idea: page can usually scroll down, but not up\n            // TODO: proper scroll buttons\n          } else if (spaceLeftBot < 0) {\n            flyoutMenu.style.setProperty(topOffset.name, `${spaceLeftBot}px`);\n          }\n        }\n      }\n    }\n  }, [flyoutVisible, flyoutMenu]);\n\n  React.useEffect(() => {\n    setFlyoutXDirection(flyoutContext.direction);\n  }, [flyoutContext]);\n\n  React.useEffect(() => {\n    if (flyoutTarget) {\n      if (flyoutVisible) {\n        const flyoutMenu = (flyoutTarget as HTMLElement).nextElementSibling;\n        const flyoutItems = Array.from(flyoutMenu.getElementsByTagName('UL')[0].children).filter(\n          el => !(el.classList.contains('pf-m-disabled') || el.classList.contains('pf-c-divider'))\n        );\n        (flyoutItems[0].firstChild as HTMLElement).focus();\n      } else {\n        flyoutTarget.focus();\n      }\n    }\n  }, [flyoutVisible, flyoutTarget]);\n\n  const handleFlyout = (event: React.KeyboardEvent) => {\n    const key = event.key;\n    const target = event.target;\n\n    if (key === ' ' || key === 'Enter' || key === 'ArrowRight') {\n      event.stopPropagation();\n      if (!flyoutVisible) {\n        showFlyout(true);\n        setFlyoutTarget(target as HTMLElement);\n      }\n    }\n\n    if (key === 'Escape' || key === 'ArrowLeft') {\n      if (flyoutVisible) {\n        event.stopPropagation();\n        showFlyout(false);\n      }\n    }\n  };\n\n  const onItemSelect = (event: any, onSelect: any) => {\n    // Trigger callback for Menu onSelect\n    onSelect && onSelect(event, itemId);\n    // Trigger callback for item onClick\n    onClick && onClick(event);\n  };\n  const _isOnPath = (isOnPath && isOnPath) || (drilldownItemPath && drilldownItemPath.includes(itemId)) || false;\n  let _drill: () => void;\n  if (direction) {\n    if (direction === 'down') {\n      _drill = () =>\n        onDrillIn &&\n        onDrillIn(\n          menuId,\n          typeof drilldownMenu === 'function'\n            ? (drilldownMenu() as any).props.id\n            : (drilldownMenu as React.ReactElement).props.id,\n          itemId\n        );\n    } else {\n      _drill = () => onDrillOut && onDrillOut(parentMenu, itemId);\n    }\n  }\n  let additionalProps = {} as any;\n  if (Component === 'a') {\n    additionalProps = {\n      href: to,\n      'aria-disabled': isDisabled ? true : null,\n      // prevent invalid 'disabled' attribute on <a> tags\n      disabled: null\n    };\n  } else if (Component === 'button') {\n    additionalProps = {\n      type: 'button'\n    };\n  }\n  if (isOnPath) {\n    additionalProps['aria-expanded'] = true;\n  } else if (hasFlyout) {\n    additionalProps['aria-haspopup'] = true;\n    additionalProps['aria-expanded'] = flyoutVisible;\n  }\n  const getAriaCurrent = () => {\n    if (isActive !== null) {\n      if (isActive) {\n        return 'page';\n      } else {\n        return null;\n      }\n    } else if (itemId !== null && activeItemId !== null) {\n      return itemId === activeItemId;\n    }\n    return null;\n  };\n  const getIsSelected = () => {\n    if (isSelected !== null) {\n      return isSelected;\n    } else if (selected !== null && itemId !== null) {\n      return (Array.isArray(selected) && selected.includes(itemId)) || itemId === selected;\n    }\n    return false;\n  };\n  const onMouseOver = () => {\n    if (disableHover) {\n      return;\n    }\n    if (hasFlyout) {\n      showFlyout(true);\n    } else {\n      setFlyoutRef(null);\n    }\n  };\n\n  return (\n    <li\n      className={css(\n        styles.menuListItem,\n        isDisabled && styles.modifiers.disabled,\n        _isOnPath && styles.modifiers.currentPath,\n        isLoadButton && styles.modifiers.load,\n        isLoading && styles.modifiers.loading,\n        className\n      )}\n      onMouseOver={onMouseOver}\n      {...(flyoutMenu && { onKeyDown: handleFlyout })}\n      ref={ref}\n      role={!hasCheck ? 'none' : 'menuitem'}\n      {...props}\n    >\n      <GenerateId>\n        {randomId => (\n          <Component\n            tabIndex={-1}\n            className={css(styles.menuItem, getIsSelected() && !hasCheck && styles.modifiers.selected, className)}\n            aria-current={getAriaCurrent()}\n            {...(!hasCheck && { disabled: isDisabled })}\n            {...(!hasCheck && { role: 'menuitem' })}\n            ref={innerRef}\n            {...(!hasCheck && {\n              onClick: (event: any) => {\n                onItemSelect(event, onSelect);\n                _drill && _drill();\n              }\n            })}\n            {...(hasCheck && { htmlFor: randomId })}\n            {...additionalProps}\n          >\n            <span className={css(styles.menuItemMain)}>\n              {direction === 'up' && (\n                <span className={css(styles.menuItemToggleIcon)}>\n                  <AngleLeftIcon aria-hidden />\n                </span>\n              )}\n              {icon && <span className={css(styles.menuItemIcon)}>{icon}</span>}\n              {hasCheck && (\n                <span className={css('pf-c-menu__item-check')}>\n                  <Checkbox\n                    id={randomId}\n                    component=\"span\"\n                    isChecked={isSelected || false}\n                    onChange={event => onItemSelect(event, onSelect)}\n                    isDisabled={isDisabled}\n                  />\n                </span>\n              )}\n              <span className={css(styles.menuItemText)}>{children}</span>\n              {isExternalLink && (\n                <span className={css(styles.menuItemExternalIcon)}>\n                  <ExternalLinkAltIcon aria-hidden />\n                </span>\n              )}\n              {(flyoutMenu || direction === 'down') && (\n                <span className={css(styles.menuItemToggleIcon)}>\n                  <AngleRightIcon aria-hidden />\n                </span>\n              )}\n              {getIsSelected() && (\n                <span className={css(styles.menuItemSelectIcon)}>\n                  <CheckIcon aria-hidden />\n                </span>\n              )}\n            </span>\n            {description && direction !== 'up' && (\n              <span className={css(styles.menuItemDescription)}>\n                <span>{description}</span>\n              </span>\n            )}\n          </Component>\n        )}\n      </GenerateId>\n      {flyoutVisible && (\n        <MenuContext.Provider value={{ disableHover }}>\n          <FlyoutContext.Provider value={{ direction: flyoutXDirection }}>{flyoutMenu}</FlyoutContext.Provider>\n        </MenuContext.Provider>\n      )}\n      {typeof drilldownMenu === 'function' ? drilldownMenu() : drilldownMenu}\n      <MenuItemContext.Provider value={{ itemId, isDisabled }}>\n        {actions}\n        {isFavorited !== null && (\n          <MenuItemAction\n            icon=\"favorites\"\n            isFavorited={isFavorited}\n            aria-label={isFavorited ? 'starred' : 'not starred'}\n            onClick={event => onActionClick(event, itemId)}\n            tabIndex={-1}\n            actionId=\"fav\"\n          />\n        )}\n      </MenuItemContext.Provider>\n    </li>\n  );\n};\n\nexport const MenuItem = React.forwardRef((props: MenuItemProps, ref: React.Ref<any>) => (\n  <MenuItemBase {...props} innerRef={ref} />\n));\n\nMenuItem.displayName = 'MenuItem';\n"]},"metadata":{},"sourceType":"module"}