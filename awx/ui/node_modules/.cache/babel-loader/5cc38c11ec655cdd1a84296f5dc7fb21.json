{"ast":null,"code":"import _styled from\"styled-components\";import{i18n}from\"@lingui/core\";import React,{useContext}from'react';import{Button}from'@patternfly/react-core';import{WorkflowDispatchContext,WorkflowStateContext}from'contexts/Workflow';import AlertModal from'components/AlertModal';import{stringIsUUID}from'util/strings';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var _StyledStrong=_styled(\"strong\").withConfig({displayName:\"NodeDeleteModal___StyledStrong\",componentId:\"sc-1b0w0b3-0\"})([\"color:var(--pf-global--danger-color--100)\"]);function NodeDeleteModal(){var _nodeToDelete$origina,_nodeToDelete$origina2,_nodeToDelete$origina3;var dispatch=useContext(WorkflowDispatchContext);var _useContext=useContext(WorkflowStateContext),nodeToDelete=_useContext.nodeToDelete;var identifier=nodeToDelete===null||nodeToDelete===void 0?void 0:(_nodeToDelete$origina=nodeToDelete.originalNodeObject)===null||_nodeToDelete$origina===void 0?void 0:_nodeToDelete$origina.identifier;var nodeIdentifier=identifier&&!stringIsUUID(identifier)?identifier:nodeToDelete===null||nodeToDelete===void 0?void 0:nodeToDelete.identifier;var unifiedJobTemplate=(nodeToDelete===null||nodeToDelete===void 0?void 0:nodeToDelete.fullUnifiedJobTemplate)||(nodeToDelete===null||nodeToDelete===void 0?void 0:(_nodeToDelete$origina2=nodeToDelete.originalNodeObject)===null||_nodeToDelete$origina2===void 0?void 0:(_nodeToDelete$origina3=_nodeToDelete$origina2.summary_fields)===null||_nodeToDelete$origina3===void 0?void 0:_nodeToDelete$origina3.unified_job_template);var nodeName=nodeIdentifier||(unifiedJobTemplate===null||unifiedJobTemplate===void 0?void 0:unifiedJobTemplate.name);return/*#__PURE__*/_jsx(AlertModal,{variant:\"danger\",title:/*i18n*/i18n._(\"Remove Node {nodeName}\",{nodeName:nodeName}),isOpen:nodeToDelete,onClose:function onClose(){return dispatch({type:'SET_NODE_TO_DELETE',value:null});},actions:[/*#__PURE__*/_jsx(Button,{ouiaId:\"node-removal-confirm-button\",id:\"confirm-node-removal\",variant:\"danger\",\"aria-label\":/*i18n*/i18n._(\"Confirm node removal\"),onClick:function onClick(){return dispatch({type:'DELETE_NODE'});},children:/*i18n*/i18n._(\"Remove\")},\"remove\"),/*#__PURE__*/_jsx(Button,{ouiaId:\"node-removal-cancel-button\",id:\"cancel-node-removal\",variant:\"link\",\"aria-label\":/*i18n*/i18n._(\"Cancel node removal\"),onClick:function onClick(){return dispatch({type:'SET_NODE_TO_DELETE',value:null});},children:/*i18n*/i18n._(\"Cancel\")},\"cancel\")],children:nodeToDelete&&nodeToDelete.unifiedJobTemplate?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:/*i18n*/i18n._(\"Are you sure you want to remove the node below:\")}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(_StyledStrong,{children:nodeToDelete.unifiedJobTemplate.name})]}):/*#__PURE__*/_jsx(\"p\",{children:/*i18n*/i18n._(\"Are you sure you want to remove this node?\")})});}export default NodeDeleteModal;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeDeleteModal.js"],"names":["React","useContext","Button","WorkflowDispatchContext","WorkflowStateContext","AlertModal","stringIsUUID","NodeDeleteModal","dispatch","nodeToDelete","identifier","originalNodeObject","nodeIdentifier","unifiedJobTemplate","fullUnifiedJobTemplate","summary_fields","unified_job_template","nodeName","name","type","value"],"mappings":"sEACA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,OAASC,MAAT,KAAuB,wBAAvB,CAGA,OACEC,uBADF,CAEEC,oBAFF,KAGO,mBAHP,CAIA,MAAOC,CAAAA,UAAP,KAAuB,uBAAvB,CACA,OAASC,YAAT,KAA6B,cAA7B,C,sTAEA,QAASC,CAAAA,eAAT,EAA2B,yEACzB,GAAMC,CAAAA,QAAQ,CAAGP,UAAU,CAACE,uBAAD,CAA3B,CACA,gBAAyBF,UAAU,CAACG,oBAAD,CAAnC,CAAQK,YAAR,aAAQA,YAAR,CACA,GAAMC,CAAAA,UAAU,CAAGD,YAAH,SAAGA,YAAH,wCAAGA,YAAY,CAAEE,kBAAjB,gDAAG,sBAAkCD,UAArD,CACA,GAAME,CAAAA,cAAc,CAClBF,UAAU,EAAI,CAACJ,YAAY,CAACI,UAAD,CAA3B,CACIA,UADJ,CAEID,YAFJ,SAEIA,YAFJ,iBAEIA,YAAY,CAAEC,UAHpB,CAIA,GAAMG,CAAAA,kBAAkB,CACtB,CAAAJ,YAAY,OAAZ,EAAAA,YAAY,SAAZ,QAAAA,YAAY,CAAEK,sBAAd,IACAL,YADA,SACAA,YADA,yCACAA,YAAY,CAAEE,kBADd,yEACA,uBAAkCI,cADlC,iDACA,uBAAkDC,oBADlD,CADF,CAGA,GAAMC,CAAAA,QAAQ,CAAGL,cAAc,GAAIC,kBAAJ,SAAIA,kBAAJ,iBAAIA,kBAAkB,CAAEK,IAAxB,CAA/B,CACA,mBACE,KAAC,UAAD,EACE,OAAO,CAAC,QADV,CAEE,KAAK,SAAE,0CAAgBD,QAAhB,EAFT,CAGE,MAAM,CAAER,YAHV,CAIE,OAAO,CAAE,yBAAMD,CAAAA,QAAQ,CAAC,CAAEW,IAAI,CAAE,oBAAR,CAA8BC,KAAK,CAAE,IAArC,CAAD,CAAd,EAJX,CAKE,OAAO,CAAE,cACP,KAAC,MAAD,EACE,MAAM,CAAC,6BADT,CAEE,EAAE,CAAC,sBAFL,CAIE,OAAO,CAAC,QAJV,CAKE,qBAAY,8BALd,CAME,OAAO,CAAE,yBAAMZ,CAAAA,QAAQ,CAAC,CAAEW,IAAI,CAAE,aAAR,CAAD,CAAd,EANX,kBAQG,gBARH,EAGM,QAHN,CADO,cAWP,KAAC,MAAD,EACE,MAAM,CAAC,4BADT,CAEE,EAAE,CAAC,qBAFL,CAIE,OAAO,CAAC,MAJV,CAKE,qBAAY,6BALd,CAME,OAAO,CAAE,yBAAMX,CAAAA,QAAQ,CAAC,CAAEW,IAAI,CAAE,oBAAR,CAA8BC,KAAK,CAAE,IAArC,CAAD,CAAd,EANX,kBAQG,gBARH,EAGM,QAHN,CAXO,CALX,UA4BGX,YAAY,EAAIA,YAAY,CAACI,kBAA7B,cACC,wCACE,2BAAI,yDAAJ,EADF,cAEE,aAFF,cAGE,6BACGJ,YAAY,CAACI,kBAAb,CAAgCK,IADnC,EAHF,GADD,cASC,2BAAI,oDAAJ,EArCJ,EADF,CA0CD,CAED,cAAeX,CAAAA,eAAf","sourcesContent":["import 'styled-components/macro';\nimport React, { useContext } from 'react';\nimport { Button } from '@patternfly/react-core';\n\nimport { t } from '@lingui/macro';\nimport {\n  WorkflowDispatchContext,\n  WorkflowStateContext,\n} from 'contexts/Workflow';\nimport AlertModal from 'components/AlertModal';\nimport { stringIsUUID } from 'util/strings';\n\nfunction NodeDeleteModal() {\n  const dispatch = useContext(WorkflowDispatchContext);\n  const { nodeToDelete } = useContext(WorkflowStateContext);\n  const identifier = nodeToDelete?.originalNodeObject?.identifier;\n  const nodeIdentifier =\n    identifier && !stringIsUUID(identifier)\n      ? identifier\n      : nodeToDelete?.identifier;\n  const unifiedJobTemplate =\n    nodeToDelete?.fullUnifiedJobTemplate ||\n    nodeToDelete?.originalNodeObject?.summary_fields?.unified_job_template;\n  const nodeName = nodeIdentifier || unifiedJobTemplate?.name;\n  return (\n    <AlertModal\n      variant=\"danger\"\n      title={t`Remove Node ${nodeName}`}\n      isOpen={nodeToDelete}\n      onClose={() => dispatch({ type: 'SET_NODE_TO_DELETE', value: null })}\n      actions={[\n        <Button\n          ouiaId=\"node-removal-confirm-button\"\n          id=\"confirm-node-removal\"\n          key=\"remove\"\n          variant=\"danger\"\n          aria-label={t`Confirm node removal`}\n          onClick={() => dispatch({ type: 'DELETE_NODE' })}\n        >\n          {t`Remove`}\n        </Button>,\n        <Button\n          ouiaId=\"node-removal-cancel-button\"\n          id=\"cancel-node-removal\"\n          key=\"cancel\"\n          variant=\"link\"\n          aria-label={t`Cancel node removal`}\n          onClick={() => dispatch({ type: 'SET_NODE_TO_DELETE', value: null })}\n        >\n          {t`Cancel`}\n        </Button>,\n      ]}\n    >\n      {nodeToDelete && nodeToDelete.unifiedJobTemplate ? (\n        <>\n          <p>{t`Are you sure you want to remove the node below:`}</p>\n          <br />\n          <strong css=\"color: var(--pf-global--danger-color--100)\">\n            {nodeToDelete.unifiedJobTemplate.name}\n          </strong>\n        </>\n      ) : (\n        <p>{t`Are you sure you want to remove this node?`}</p>\n      )}\n    </AlertModal>\n  );\n}\n\nexport default NodeDeleteModal;\n"]},"metadata":{},"sourceType":"module"}