{"ast":null,"code":"import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import{i18n}from\"@lingui/core\";import React,{useCallback}from'react';import{Link,useHistory,useParams}from'react-router-dom';import{Button}from'@patternfly/react-core';import AlertModal from'components/AlertModal';import{CardBody,CardActionsRow}from'components/Card';import DeleteButton from'components/DeleteButton';import{DetailList,Detail}from'components/DetailList';import ErrorDetail from'components/ErrorDetail';import{formatDateString}from'util/dates';import{TeamsAPI}from'api';import useRequest,{useDismissableError}from'hooks/useRequest';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TeamDetail(_ref){var team=_ref.team;var name=team.name,description=team.description,created=team.created,modified=team.modified,summary_fields=team.summary_fields;var history=useHistory();var _useParams=useParams(),id=_useParams.id;var _useRequest=useRequest(useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return TeamsAPI.destroy(id);case 2:history.push(\"/teams\");case 3:case\"end\":return _context.stop();}}},_callee);})),[id,history])),deleteTeam=_useRequest.request,isLoading=_useRequest.isLoading,deleteError=_useRequest.error;var _useDismissableError=useDismissableError(deleteError),error=_useDismissableError.error,dismissError=_useDismissableError.dismissError;return/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(DetailList,{children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Name\"),value:name,dataCy:\"team-detail-name\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Description\"),value:description}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Organization\"),value:/*#__PURE__*/_jsx(Link,{to:\"/organizations/\".concat(summary_fields.organization.id),children:summary_fields.organization.name})}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Created\"),value:formatDateString(created)}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Last Modified\"),value:formatDateString(modified)})]}),/*#__PURE__*/_jsxs(CardActionsRow,{children:[summary_fields.user_capabilities&&summary_fields.user_capabilities.edit&&/*#__PURE__*/_jsx(Button,{ouiaId:\"team-detail-edit-button\",\"aria-label\":/*i18n*/i18n._(\"Edit\"),component:Link,to:\"/teams/\".concat(id,\"/edit\"),children:/*i18n*/i18n._(\"Edit\")}),summary_fields.user_capabilities&&summary_fields.user_capabilities.delete&&/*#__PURE__*/_jsx(DeleteButton,{name:name,modalTitle:/*i18n*/i18n._(\"Delete Team\"),onConfirm:deleteTeam,isDisabled:isLoading,children:/*i18n*/i18n._(\"Delete\")})]}),error&&/*#__PURE__*/_jsxs(AlertModal,{isOpen:error,variant:\"error\",title:/*i18n*/i18n._(\"Error!\"),onClose:dismissError,children:[/*i18n*/i18n._(\"Failed to delete team.\"),/*#__PURE__*/_jsx(ErrorDetail,{error:error})]})]});}export default TeamDetail;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/Team/TeamDetail/TeamDetail.js"],"names":["React","useCallback","Link","useHistory","useParams","Button","AlertModal","CardBody","CardActionsRow","DeleteButton","DetailList","Detail","ErrorDetail","formatDateString","TeamsAPI","useRequest","useDismissableError","TeamDetail","team","name","description","created","modified","summary_fields","history","id","destroy","push","deleteTeam","request","isLoading","deleteError","error","dismissError","organization","user_capabilities","edit","delete"],"mappings":"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","sourcesContent":["import React, { useCallback } from 'react';\nimport { Link, useHistory, useParams } from 'react-router-dom';\n\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\n\nimport AlertModal from 'components/AlertModal';\nimport { CardBody, CardActionsRow } from 'components/Card';\nimport DeleteButton from 'components/DeleteButton';\nimport { DetailList, Detail } from 'components/DetailList';\nimport ErrorDetail from 'components/ErrorDetail';\nimport { formatDateString } from 'util/dates';\nimport { TeamsAPI } from 'api';\nimport useRequest, { useDismissableError } from 'hooks/useRequest';\n\nfunction TeamDetail({ team }) {\n  const { name, description, created, modified, summary_fields } = team;\n  const history = useHistory();\n  const { id } = useParams();\n\n  const {\n    request: deleteTeam,\n    isLoading,\n    error: deleteError,\n  } = useRequest(\n    useCallback(async () => {\n      await TeamsAPI.destroy(id);\n      history.push(`/teams`);\n    }, [id, history])\n  );\n\n  const { error, dismissError } = useDismissableError(deleteError);\n\n  return (\n    <CardBody>\n      <DetailList>\n        <Detail label={t`Name`} value={name} dataCy=\"team-detail-name\" />\n        <Detail label={t`Description`} value={description} />\n        <Detail\n          label={t`Organization`}\n          value={\n            <Link to={`/organizations/${summary_fields.organization.id}`}>\n              {summary_fields.organization.name}\n            </Link>\n          }\n        />\n        <Detail label={t`Created`} value={formatDateString(created)} />\n        <Detail label={t`Last Modified`} value={formatDateString(modified)} />\n      </DetailList>\n      <CardActionsRow>\n        {summary_fields.user_capabilities &&\n          summary_fields.user_capabilities.edit && (\n            <Button\n              ouiaId=\"team-detail-edit-button\"\n              aria-label={t`Edit`}\n              component={Link}\n              to={`/teams/${id}/edit`}\n            >\n              {t`Edit`}\n            </Button>\n          )}\n        {summary_fields.user_capabilities &&\n          summary_fields.user_capabilities.delete && (\n            <DeleteButton\n              name={name}\n              modalTitle={t`Delete Team`}\n              onConfirm={deleteTeam}\n              isDisabled={isLoading}\n            >\n              {t`Delete`}\n            </DeleteButton>\n          )}\n      </CardActionsRow>\n      {error && (\n        <AlertModal\n          isOpen={error}\n          variant=\"error\"\n          title={t`Error!`}\n          onClose={dismissError}\n        >\n          {t`Failed to delete team.`}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\n\nexport default TeamDetail;\n"]},"metadata":{},"sourceType":"module"}