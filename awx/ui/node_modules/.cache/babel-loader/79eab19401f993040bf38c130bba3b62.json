{"ast":null,"code":"import{i18n}from\"@lingui/core\";import React from'react';import{string,bool,func}from'prop-types';import{Link}from'react-router-dom';import{Button,Progress,ProgressMeasureLocation,ProgressSize}from'@patternfly/react-core';import{Tr,Td}from'@patternfly/react-table';import{PencilAltIcon}from'@patternfly/react-icons';import styled from'styled-components';import{ActionsTd,ActionItem,TdBreakWord}from'components/PaginatedTable';import{InstanceGroup}from'types';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Unavailable=styled.span.withConfig({displayName:\"InstanceGroupListItem__Unavailable\",componentId:\"sc-1tuy1q1-0\"})([\"color:var(--pf-global--danger-color--200);\"]);function InstanceGroupListItem(_ref){var instanceGroup=_ref.instanceGroup,detailUrl=_ref.detailUrl,isSelected=_ref.isSelected,onSelect=_ref.onSelect,rowIndex=_ref.rowIndex;var labelId=\"check-action-\".concat(instanceGroup.id);var isContainerGroup=function isContainerGroup(item){return item.is_container_group;};function usedCapacity(item){if(!isContainerGroup(item)){if(item.capacity){return/*#__PURE__*/_jsx(Progress,{value:Math.round(100-item.percent_capacity_remaining),measureLocation:ProgressMeasureLocation.top,size:ProgressSize.sm,title:/*i18n*/i18n._(\"Used capacity\")});}return/*#__PURE__*/_jsxs(Unavailable,{children:[\" \",/*i18n*/i18n._(\"Unavailable\")]});}return null;}return/*#__PURE__*/_jsxs(Tr,{id:\"ig-row-\".concat(instanceGroup.id),ouiaId:\"ig-row-\".concat(instanceGroup.id),children:[/*#__PURE__*/_jsx(Td,{select:{rowIndex:rowIndex,isSelected:isSelected,onSelect:onSelect},dataLabel:/*i18n*/i18n._(\"Selected\")}),/*#__PURE__*/_jsx(TdBreakWord,{id:labelId,dataLabel:/*i18n*/i18n._(\"Name\"),children:/*#__PURE__*/_jsx(Link,{to:\"\".concat(detailUrl),children:/*#__PURE__*/_jsx(\"b\",{children:instanceGroup.name})})}),/*#__PURE__*/_jsx(Td,{dataLabel:/*i18n*/i18n._(\"Type\"),children:isContainerGroup(instanceGroup)?/*i18n*/i18n._(\"Container group\"):/*i18n*/i18n._(\"Instance group\")}),/*#__PURE__*/_jsx(Td,{dataLabel:/*i18n*/i18n._(\"Running jobs\"),children:instanceGroup.jobs_running}),/*#__PURE__*/_jsx(Td,{dataLabel:/*i18n*/i18n._(\"Total jobs\"),children:instanceGroup.jobs_total}),/*#__PURE__*/_jsx(Td,{dataLabel:/*i18n*/i18n._(\"Instances\"),children:instanceGroup.instances}),/*#__PURE__*/_jsx(Td,{dataLabel:/*i18n*/i18n._(\"Capacity\"),children:usedCapacity(instanceGroup)}),/*#__PURE__*/_jsx(ActionsTd,{dataLabel:/*i18n*/i18n._(\"Actions\"),children:/*#__PURE__*/_jsx(ActionItem,{visible:instanceGroup.summary_fields.user_capabilities.edit,tooltip:/*i18n*/i18n._(\"Edit instance group\"),children:/*#__PURE__*/_jsx(Button,{ouiaId:\"\".concat(instanceGroup.id,\"-edit-button\"),\"aria-label\":/*i18n*/i18n._(\"Edit instance group\"),variant:\"plain\",component:Link,to:isContainerGroup(instanceGroup)?\"/instance_groups/container_group/\".concat(instanceGroup.id,\"/edit\"):\"/instance_groups/\".concat(instanceGroup.id,\"/edit\"),children:/*#__PURE__*/_jsx(PencilAltIcon,{})})})})]});}InstanceGroupListItem.prototype={instanceGroup:InstanceGroup.isRequired,detailUrl:string.isRequired,isSelected:bool.isRequired,onSelect:func.isRequired};export default InstanceGroupListItem;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/InstanceGroup/InstanceGroupList/InstanceGroupListItem.js"],"names":["React","string","bool","func","Link","Button","Progress","ProgressMeasureLocation","ProgressSize","Tr","Td","PencilAltIcon","styled","ActionsTd","ActionItem","TdBreakWord","InstanceGroup","Unavailable","span","InstanceGroupListItem","instanceGroup","detailUrl","isSelected","onSelect","rowIndex","labelId","id","isContainerGroup","item","is_container_group","usedCapacity","capacity","Math","round","percent_capacity_remaining","top","sm","name","jobs_running","jobs_total","instances","summary_fields","user_capabilities","edit","prototype","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { string, bool, func } from 'prop-types';\n\nimport { t } from '@lingui/macro';\nimport { Link } from 'react-router-dom';\nimport 'styled-components/macro';\nimport {\n  Button,\n  Progress,\n  ProgressMeasureLocation,\n  ProgressSize,\n} from '@patternfly/react-core';\nimport { Tr, Td } from '@patternfly/react-table';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport styled from 'styled-components';\nimport { ActionsTd, ActionItem, TdBreakWord } from 'components/PaginatedTable';\nimport { InstanceGroup } from 'types';\n\nconst Unavailable = styled.span`\n  color: var(--pf-global--danger-color--200);\n`;\n\nfunction InstanceGroupListItem({\n  instanceGroup,\n  detailUrl,\n  isSelected,\n  onSelect,\n  rowIndex,\n}) {\n  const labelId = `check-action-${instanceGroup.id}`;\n\n  const isContainerGroup = (item) => item.is_container_group;\n\n  function usedCapacity(item) {\n    if (!isContainerGroup(item)) {\n      if (item.capacity) {\n        return (\n          <Progress\n            value={Math.round(100 - item.percent_capacity_remaining)}\n            measureLocation={ProgressMeasureLocation.top}\n            size={ProgressSize.sm}\n            title={t`Used capacity`}\n          />\n        );\n      }\n      return <Unavailable> {t`Unavailable`}</Unavailable>;\n    }\n    return null;\n  }\n\n  return (\n    <Tr id={`ig-row-${instanceGroup.id}`} ouiaId={`ig-row-${instanceGroup.id}`}>\n      <Td\n        select={{\n          rowIndex,\n          isSelected,\n          onSelect,\n        }}\n        dataLabel={t`Selected`}\n      />\n      <TdBreakWord id={labelId} dataLabel={t`Name`}>\n        <Link to={`${detailUrl}`}>\n          <b>{instanceGroup.name}</b>\n        </Link>\n      </TdBreakWord>\n      <Td dataLabel={t`Type`}>\n        {isContainerGroup(instanceGroup)\n          ? t`Container group`\n          : t`Instance group`}\n      </Td>\n      <Td dataLabel={t`Running jobs`}>{instanceGroup.jobs_running}</Td>\n      <Td dataLabel={t`Total jobs`}>{instanceGroup.jobs_total}</Td>\n      <Td dataLabel={t`Instances`}>{instanceGroup.instances}</Td>\n      <Td dataLabel={t`Capacity`}>{usedCapacity(instanceGroup)}</Td>\n      <ActionsTd dataLabel={t`Actions`}>\n        <ActionItem\n          visible={instanceGroup.summary_fields.user_capabilities.edit}\n          tooltip={t`Edit instance group`}\n        >\n          <Button\n            ouiaId={`${instanceGroup.id}-edit-button`}\n            aria-label={t`Edit instance group`}\n            variant=\"plain\"\n            component={Link}\n            to={\n              isContainerGroup(instanceGroup)\n                ? `/instance_groups/container_group/${instanceGroup.id}/edit`\n                : `/instance_groups/${instanceGroup.id}/edit`\n            }\n          >\n            <PencilAltIcon />\n          </Button>\n        </ActionItem>\n      </ActionsTd>\n    </Tr>\n  );\n}\nInstanceGroupListItem.prototype = {\n  instanceGroup: InstanceGroup.isRequired,\n  detailUrl: string.isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default InstanceGroupListItem;\n"]},"metadata":{},"sourceType":"module"}