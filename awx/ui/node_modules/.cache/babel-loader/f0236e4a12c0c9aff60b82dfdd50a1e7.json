{"ast":null,"code":"import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{i18n}from\"@lingui/core\";import React,{useState}from'react';import{Dropdown,DropdownToggle,DropdownItem,DropdownPosition,DropdownSeparator,DropdownDirection}from'@patternfly/react-core';import{RocketIcon}from'@patternfly/react-icons';import{jsx as _jsx}from\"react/jsx-runtime\";function ReLaunchDropDown(_ref){var _ref$isPrimary=_ref.isPrimary,isPrimary=_ref$isPrimary===void 0?false:_ref$isPrimary,handleRelaunch=_ref.handleRelaunch,isLaunching=_ref.isLaunching,_ref$id=_ref.id,id=_ref$id===void 0?'relaunch-job':_ref$id,ouiaId=_ref.ouiaId;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var onToggle=function onToggle(){setIsOpen(function(prev){return!prev;});};var dropdownItems=[/*#__PURE__*/_jsx(DropdownItem,{ouiaId:\"\".concat(ouiaId,\"-on\"),\"aria-label\":/*i18n*/i18n._(\"Relaunch on\"),component:\"div\",isPlainText:true,children:/*i18n*/i18n._(\"Relaunch on\")},\"relaunch_on\"),/*#__PURE__*/_jsx(DropdownSeparator,{},\"separator\"),/*#__PURE__*/_jsx(DropdownItem,{ouiaId:\"\".concat(ouiaId,\"-all\"),\"aria-label\":/*i18n*/i18n._(\"Relaunch all hosts\"),component:\"button\",onClick:function onClick(){handleRelaunch({hosts:'all'});},isDisabled:isLaunching,children:/*i18n*/i18n._(\"All\")},\"relaunch_all\"),/*#__PURE__*/_jsx(DropdownItem,{ouiaId:\"\".concat(ouiaId,\"-failed\"),\"aria-label\":/*i18n*/i18n._(\"Relaunch failed hosts\"),component:\"button\",onClick:function onClick(){handleRelaunch({hosts:'failed'});},isDisabled:isLaunching,children:/*i18n*/i18n._(\"Failed hosts\")},\"relaunch_failed\")];if(isPrimary){return/*#__PURE__*/_jsx(Dropdown,{ouiaId:ouiaId,position:DropdownPosition.left,direction:DropdownDirection.up,isOpen:isOpen,dropdownItems:dropdownItems,toggle:/*#__PURE__*/_jsx(DropdownToggle,{toggleIndicator:null,onToggle:onToggle,\"aria-label\":/*i18n*/i18n._(\"relaunch jobs\"),id:id,isPrimary:true,ouiaId:\"relaunch-job-toggle\",children:/*i18n*/i18n._(\"Relaunch\")})});}return/*#__PURE__*/_jsx(Dropdown,{ouiaId:ouiaId,isPlain:true,position:DropdownPosition.right,isOpen:isOpen,dropdownItems:dropdownItems,toggle:/*#__PURE__*/_jsx(DropdownToggle,{toggleIndicator:null,onToggle:onToggle,\"aria-label\":/*i18n*/i18n._(\"relaunch jobs\"),id:id,ouiaId:\"relaunch-job-toggle\",children:/*#__PURE__*/_jsx(RocketIcon,{})})});}export default ReLaunchDropDown;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/components/LaunchButton/ReLaunchDropDown.js"],"names":["React","useState","Dropdown","DropdownToggle","DropdownItem","DropdownPosition","DropdownSeparator","DropdownDirection","RocketIcon","ReLaunchDropDown","isPrimary","handleRelaunch","isLaunching","id","ouiaId","isOpen","setIsOpen","onToggle","prev","dropdownItems","hosts","left","up","right"],"mappings":"sIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAGA,OACEC,QADF,CAEEC,cAFF,CAGEC,YAHF,CAIEC,gBAJF,CAKEC,iBALF,CAMEC,iBANF,KAOO,wBAPP,CAQA,OAASC,UAAT,KAA2B,yBAA3B,C,2CAEA,QAASC,CAAAA,gBAAT,MAMG,yBALDC,SAKC,CALDA,SAKC,yBALW,KAKX,gBAJDC,cAIC,MAJDA,cAIC,CAHDC,WAGC,MAHDA,WAGC,cAFDC,EAEC,CAFDA,EAEC,kBAFI,cAEJ,SADDC,MACC,MADDA,MACC,CACD,cAA4Bb,QAAQ,CAAC,KAAD,CAApC,wCAAOc,MAAP,eAAeC,SAAf,eAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrBD,SAAS,CAAC,SAACE,IAAD,QAAU,CAACA,IAAX,EAAD,CAAT,CACD,CAFD,CAIA,GAAMC,CAAAA,aAAa,CAAG,cACpB,KAAC,YAAD,EACE,MAAM,WAAKL,MAAL,OADR,CAEE,qBAAY,qBAFd,CAIE,SAAS,CAAC,KAJZ,CAKE,WAAW,KALb,kBAOG,qBAPH,EAGM,aAHN,CADoB,cAUpB,KAAC,iBAAD,IAAuB,WAAvB,CAVoB,cAWpB,KAAC,YAAD,EACE,MAAM,WAAKA,MAAL,QADR,CAGE,qBAAY,4BAHd,CAIE,SAAS,CAAC,QAJZ,CAKE,OAAO,CAAE,kBAAM,CACbH,cAAc,CAAC,CAAES,KAAK,CAAE,KAAT,CAAD,CAAd,CACD,CAPH,CAQE,UAAU,CAAER,WARd,kBAUG,aAVH,EAEM,cAFN,CAXoB,cAwBpB,KAAC,YAAD,EACE,MAAM,WAAKE,MAAL,WADR,CAGE,qBAAY,+BAHd,CAIE,SAAS,CAAC,QAJZ,CAKE,OAAO,CAAE,kBAAM,CACbH,cAAc,CAAC,CAAES,KAAK,CAAE,QAAT,CAAD,CAAd,CACD,CAPH,CAQE,UAAU,CAAER,WARd,kBAUG,sBAVH,EAEM,iBAFN,CAxBoB,CAAtB,CAsCA,GAAIF,SAAJ,CAAe,CACb,mBACE,KAAC,QAAD,EACE,MAAM,CAAEI,MADV,CAEE,QAAQ,CAAET,gBAAgB,CAACgB,IAF7B,CAGE,SAAS,CAAEd,iBAAiB,CAACe,EAH/B,CAIE,MAAM,CAAEP,MAJV,CAKE,aAAa,CAAEI,aALjB,CAME,MAAM,cACJ,KAAC,cAAD,EACE,eAAe,CAAE,IADnB,CAEE,QAAQ,CAAEF,QAFZ,CAGE,qBAAY,uBAHd,CAIE,EAAE,CAAEJ,EAJN,CAKE,SAAS,KALX,CAME,MAAM,CAAC,qBANT,kBAQG,kBARH,EAPJ,EADF,CAqBD,CAED,mBACE,KAAC,QAAD,EACE,MAAM,CAAEC,MADV,CAEE,OAAO,KAFT,CAGE,QAAQ,CAAET,gBAAgB,CAACkB,KAH7B,CAIE,MAAM,CAAER,MAJV,CAKE,aAAa,CAAEI,aALjB,CAME,MAAM,cACJ,KAAC,cAAD,EACE,eAAe,CAAE,IADnB,CAEE,QAAQ,CAAEF,QAFZ,CAGE,qBAAY,uBAHd,CAIE,EAAE,CAAEJ,EAJN,CAKE,MAAM,CAAC,qBALT,uBAOE,KAAC,UAAD,IAPF,EAPJ,EADF,CAoBD,CAED,cAAeJ,CAAAA,gBAAf","sourcesContent":["import React, { useState } from 'react';\n\nimport { t } from '@lingui/macro';\nimport {\n  Dropdown,\n  DropdownToggle,\n  DropdownItem,\n  DropdownPosition,\n  DropdownSeparator,\n  DropdownDirection,\n} from '@patternfly/react-core';\nimport { RocketIcon } from '@patternfly/react-icons';\n\nfunction ReLaunchDropDown({\n  isPrimary = false,\n  handleRelaunch,\n  isLaunching,\n  id = 'relaunch-job',\n  ouiaId,\n}) {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const onToggle = () => {\n    setIsOpen((prev) => !prev);\n  };\n\n  const dropdownItems = [\n    <DropdownItem\n      ouiaId={`${ouiaId}-on`}\n      aria-label={t`Relaunch on`}\n      key=\"relaunch_on\"\n      component=\"div\"\n      isPlainText\n    >\n      {t`Relaunch on`}\n    </DropdownItem>,\n    <DropdownSeparator key=\"separator\" />,\n    <DropdownItem\n      ouiaId={`${ouiaId}-all`}\n      key=\"relaunch_all\"\n      aria-label={t`Relaunch all hosts`}\n      component=\"button\"\n      onClick={() => {\n        handleRelaunch({ hosts: 'all' });\n      }}\n      isDisabled={isLaunching}\n    >\n      {t`All`}\n    </DropdownItem>,\n\n    <DropdownItem\n      ouiaId={`${ouiaId}-failed`}\n      key=\"relaunch_failed\"\n      aria-label={t`Relaunch failed hosts`}\n      component=\"button\"\n      onClick={() => {\n        handleRelaunch({ hosts: 'failed' });\n      }}\n      isDisabled={isLaunching}\n    >\n      {t`Failed hosts`}\n    </DropdownItem>,\n  ];\n\n  if (isPrimary) {\n    return (\n      <Dropdown\n        ouiaId={ouiaId}\n        position={DropdownPosition.left}\n        direction={DropdownDirection.up}\n        isOpen={isOpen}\n        dropdownItems={dropdownItems}\n        toggle={\n          <DropdownToggle\n            toggleIndicator={null}\n            onToggle={onToggle}\n            aria-label={t`relaunch jobs`}\n            id={id}\n            isPrimary\n            ouiaId=\"relaunch-job-toggle\"\n          >\n            {t`Relaunch`}\n          </DropdownToggle>\n        }\n      />\n    );\n  }\n\n  return (\n    <Dropdown\n      ouiaId={ouiaId}\n      isPlain\n      position={DropdownPosition.right}\n      isOpen={isOpen}\n      dropdownItems={dropdownItems}\n      toggle={\n        <DropdownToggle\n          toggleIndicator={null}\n          onToggle={onToggle}\n          aria-label={t`relaunch jobs`}\n          id={id}\n          ouiaId=\"relaunch-job-toggle\"\n        >\n          <RocketIcon />\n        </DropdownToggle>\n      }\n    />\n  );\n}\n\nexport default ReLaunchDropDown;\n"]},"metadata":{},"sourceType":"module"}