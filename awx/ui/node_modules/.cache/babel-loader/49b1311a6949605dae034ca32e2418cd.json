{"ast":null,"code":"import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{useHistory}from'react-router-dom';import{CardBody}from'components/Card';import{NotificationTemplatesAPI}from'api';import NotificationTemplateForm from'../shared/NotificationTemplateForm';import{jsx as _jsx}from\"react/jsx-runtime\";function NotificationTemplateEdit(_ref){var template=_ref.template,defaultMessages=_ref.defaultMessages;var detailsUrl=\"/notification_templates/\".concat(template.id,\"/details\");var history=useHistory();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),formError=_useState2[0],setFormError=_useState2[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return NotificationTemplatesAPI.update(template.id,values);case 3:history.push(detailsUrl);_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);setFormError(_context.t0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var handleCancel=function handleCancel(){history.push(detailsUrl);};return/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(NotificationTemplateForm,{template:template,defaultMessages:defaultMessages,onSubmit:handleSubmit,onCancel:handleCancel,submitError:formError})});}export{NotificationTemplateEdit as _NotificationTemplateEdit};export default NotificationTemplateEdit;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/NotificationTemplate/NotificationTemplateEdit/NotificationTemplateEdit.js"],"names":["React","useState","useHistory","CardBody","NotificationTemplatesAPI","NotificationTemplateForm","NotificationTemplateEdit","template","defaultMessages","detailsUrl","id","history","formError","setFormError","handleSubmit","values","update","push","handleCancel","_NotificationTemplateEdit"],"mappings":"wTAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,QAAT,KAAyB,iBAAzB,CACA,OAASC,wBAAT,KAAyC,KAAzC,CACA,MAAOC,CAAAA,wBAAP,KAAqC,oCAArC,C,2CAEA,QAASC,CAAAA,wBAAT,MAAiE,IAA7BC,CAAAA,QAA6B,MAA7BA,QAA6B,CAAnBC,eAAmB,MAAnBA,eAAmB,CAC/D,GAAMC,CAAAA,UAAU,mCAA8BF,QAAQ,CAACG,EAAvC,YAAhB,CACA,GAAMC,CAAAA,OAAO,CAAGT,UAAU,EAA1B,CACA,cAAkCD,QAAQ,CAAC,IAAD,CAA1C,wCAAOW,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,CAAAA,YAAY,2FAAG,iBAAOC,MAAP,wJAEXX,CAAAA,wBAAwB,CAACY,MAAzB,CAAgCT,QAAQ,CAACG,EAAzC,CAA6CK,MAA7C,CAFW,QAGjBJ,OAAO,CAACM,IAAR,CAAaR,UAAb,EAHiB,8EAKjBI,YAAY,aAAZ,CALiB,mEAAH,kBAAZC,CAAAA,YAAY,6CAAlB,CASA,GAAMI,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBP,OAAO,CAACM,IAAR,CAAaR,UAAb,EACD,CAFD,CAIA,mBACE,KAAC,QAAD,wBACE,KAAC,wBAAD,EACE,QAAQ,CAAEF,QADZ,CAEE,eAAe,CAAEC,eAFnB,CAGE,QAAQ,CAAEM,YAHZ,CAIE,QAAQ,CAAEI,YAJZ,CAKE,WAAW,CAAEN,SALf,EADF,EADF,CAWD,CAMD,OAASN,wBAAwB,GAAIa,CAAAA,yBAArC,EACA,cAAeb,CAAAA,wBAAf","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport { CardBody } from 'components/Card';\nimport { NotificationTemplatesAPI } from 'api';\nimport NotificationTemplateForm from '../shared/NotificationTemplateForm';\n\nfunction NotificationTemplateEdit({ template, defaultMessages }) {\n  const detailsUrl = `/notification_templates/${template.id}/details`;\n  const history = useHistory();\n  const [formError, setFormError] = useState(null);\n\n  const handleSubmit = async (values) => {\n    try {\n      await NotificationTemplatesAPI.update(template.id, values);\n      history.push(detailsUrl);\n    } catch (error) {\n      setFormError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(detailsUrl);\n  };\n\n  return (\n    <CardBody>\n      <NotificationTemplateForm\n        template={template}\n        defaultMessages={defaultMessages}\n        onSubmit={handleSubmit}\n        onCancel={handleCancel}\n        submitError={formError}\n      />\n    </CardBody>\n  );\n}\n\nNotificationTemplateEdit.propTypes = {\n  template: PropTypes.shape().isRequired,\n};\n\nexport { NotificationTemplateEdit as _NotificationTemplateEdit };\nexport default NotificationTemplateEdit;\n"]},"metadata":{},"sourceType":"module"}