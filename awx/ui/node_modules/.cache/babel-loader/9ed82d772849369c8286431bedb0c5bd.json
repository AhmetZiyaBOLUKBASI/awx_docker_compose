{"ast":null,"code":"import{i18n}from\"@lingui/core\";import React from'react';import{Button}from'@patternfly/react-core';import{Tr,Td,ExpandableRowContent}from'@patternfly/react-table';import{Link}from'react-router-dom';import{PencilAltIcon}from'@patternfly/react-icons';import{ActionsTd,ActionItem,TdBreakWord}from'components/PaginatedTable';import{Host}from'types';import HostToggle from'components/HostToggle';import{DetailList,Detail}from'components/DetailList';import Sparkline from'components/Sparkline';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function HostListItem(_ref){var host=_ref.host,isSelected=_ref.isSelected,onSelect=_ref.onSelect,detailUrl=_ref.detailUrl,rowIndex=_ref.rowIndex,isExpanded=_ref.isExpanded,onExpand=_ref.onExpand;var labelId=\"check-action-\".concat(host.id);var _host$summary_fields$=host.summary_fields.recent_jobs,recentJobs=_host$summary_fields$===void 0?[]:_host$summary_fields$;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Tr,{id:\"host-row-\".concat(host.id),ouiaId:\"host-row-\".concat(host.id),children:[/*#__PURE__*/_jsx(Td,{expand:{rowIndex:rowIndex,isExpanded:isExpanded,onToggle:onExpand}}),/*#__PURE__*/_jsx(Td,{\"data-cy\":labelId,select:{rowIndex:rowIndex,isSelected:isSelected,onSelect:onSelect},dataLabel:/*i18n*/i18n._(\"Selected\")}),/*#__PURE__*/_jsx(TdBreakWord,{id:labelId,dataLabel:/*i18n*/i18n._(\"Name\"),children:/*#__PURE__*/_jsx(Link,{to:\"\".concat(detailUrl),children:/*#__PURE__*/_jsx(\"b\",{children:host.name})})}),/*#__PURE__*/_jsx(TdBreakWord,{id:\"host-description-\".concat(host.id,\"}\"),dataLabel:/*i18n*/i18n._(\"Description\"),children:host.description}),/*#__PURE__*/_jsx(TdBreakWord,{dataLabel:/*i18n*/i18n._(\"Inventory\"),children:host.summary_fields.inventory&&/*#__PURE__*/_jsx(Link,{to:\"/inventories/inventory/\".concat(host.summary_fields.inventory.id,\"/details\"),children:host.summary_fields.inventory.name})}),/*#__PURE__*/_jsxs(ActionsTd,{dataLabel:/*i18n*/i18n._(\"Actions\"),gridColumns:\"auto 40px\",children:[/*#__PURE__*/_jsx(HostToggle,{host:host}),/*#__PURE__*/_jsx(ActionItem,{visible:host.summary_fields.user_capabilities.edit,tooltip:/*i18n*/i18n._(\"Edit Host\"),children:/*#__PURE__*/_jsx(Button,{ouiaId:\"\".concat(host.id,\"-edit-button}\"),\"aria-label\":/*i18n*/i18n._(\"Edit Host\"),variant:\"plain\",component:Link,to:\"/hosts/\".concat(host.id,\"/edit\"),children:/*#__PURE__*/_jsx(PencilAltIcon,{})})})]})]}),/*#__PURE__*/_jsxs(Tr,{ouiaId:\"host-row-\".concat(host.id,\"-expanded\"),isExpanded:isExpanded,children:[/*#__PURE__*/_jsx(Td,{colSpan:2}),/*#__PURE__*/_jsx(Td,{colSpan:4,children:/*#__PURE__*/_jsx(ExpandableRowContent,{children:/*#__PURE__*/_jsx(DetailList,{gutter:\"sm\",children:/*#__PURE__*/_jsx(Detail,{dataCy:\"\".concat(host.name,\"-activity\"),label:/*i18n*/i18n._(\"Activity\"),value:recentJobs.length>0?/*#__PURE__*/_jsx(Sparkline,{jobs:recentJobs}):/*i18n*/i18n._(\"No job data available\")})})})})]})]});}export default HostListItem;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/Host/HostList/HostListItem.js"],"names":["React","Button","Tr","Td","ExpandableRowContent","Link","PencilAltIcon","ActionsTd","ActionItem","TdBreakWord","Host","HostToggle","DetailList","Detail","Sparkline","HostListItem","host","isSelected","onSelect","detailUrl","rowIndex","isExpanded","onExpand","labelId","id","summary_fields","recent_jobs","recentJobs","onToggle","name","description","inventory","user_capabilities","edit","length"],"mappings":"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","sourcesContent":["import 'styled-components/macro';\nimport React from 'react';\nimport { string, bool, func } from 'prop-types';\n\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport { Tr, Td, ExpandableRowContent } from '@patternfly/react-table';\nimport { Link } from 'react-router-dom';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport { ActionsTd, ActionItem, TdBreakWord } from 'components/PaginatedTable';\nimport { Host } from 'types';\nimport HostToggle from 'components/HostToggle';\nimport { DetailList, Detail } from 'components/DetailList';\nimport Sparkline from 'components/Sparkline';\n\nfunction HostListItem({\n  host,\n  isSelected,\n  onSelect,\n  detailUrl,\n  rowIndex,\n  isExpanded,\n  onExpand,\n}) {\n  const labelId = `check-action-${host.id}`;\n\n  const {\n    summary_fields: { recent_jobs: recentJobs = [] },\n  } = host;\n\n  return (\n    <>\n      <Tr id={`host-row-${host.id}`} ouiaId={`host-row-${host.id}`}>\n        <Td\n          expand={{\n            rowIndex,\n            isExpanded,\n            onToggle: onExpand,\n          }}\n        />\n        <Td\n          data-cy={labelId}\n          select={{\n            rowIndex,\n            isSelected,\n            onSelect,\n          }}\n          dataLabel={t`Selected`}\n        />\n        <TdBreakWord id={labelId} dataLabel={t`Name`}>\n          <Link to={`${detailUrl}`}>\n            <b>{host.name}</b>\n          </Link>\n        </TdBreakWord>\n        <TdBreakWord\n          id={`host-description-${host.id}}`}\n          dataLabel={t`Description`}\n        >\n          {host.description}\n        </TdBreakWord>\n        <TdBreakWord dataLabel={t`Inventory`}>\n          {host.summary_fields.inventory && (\n            <Link\n              to={`/inventories/inventory/${host.summary_fields.inventory.id}/details`}\n            >\n              {host.summary_fields.inventory.name}\n            </Link>\n          )}\n        </TdBreakWord>\n        <ActionsTd dataLabel={t`Actions`} gridColumns=\"auto 40px\">\n          <HostToggle host={host} />\n          <ActionItem\n            visible={host.summary_fields.user_capabilities.edit}\n            tooltip={t`Edit Host`}\n          >\n            <Button\n              ouiaId={`${host.id}-edit-button}`}\n              aria-label={t`Edit Host`}\n              variant=\"plain\"\n              component={Link}\n              to={`/hosts/${host.id}/edit`}\n            >\n              <PencilAltIcon />\n            </Button>\n          </ActionItem>\n        </ActionsTd>\n      </Tr>\n      <Tr ouiaId={`host-row-${host.id}-expanded`} isExpanded={isExpanded}>\n        <Td colSpan={2} />\n        <Td colSpan={4}>\n          <ExpandableRowContent>\n            <DetailList gutter=\"sm\">\n              <Detail\n                dataCy={`${host.name}-activity`}\n                label={t`Activity`}\n                value={\n                  recentJobs.length > 0 ? (\n                    <Sparkline jobs={recentJobs} />\n                  ) : (\n                    t`No job data available`\n                  )\n                }\n              />\n            </DetailList>\n          </ExpandableRowContent>\n        </Td>\n      </Tr>\n    </>\n  );\n}\n\nHostListItem.propTypes = {\n  host: Host.isRequired,\n  detailUrl: string.isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default HostListItem;\n"]},"metadata":{},"sourceType":"module"}