{"ast":null,"code":"import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{useHistory,useParams}from'react-router-dom';import{Card}from'@patternfly/react-core';import{ApplicationsAPI}from'api';import{CardBody}from'components/Card';import ApplicationForm from'../shared/ApplicationForm';import{jsx as _jsx}from\"react/jsx-runtime\";function ApplicationEdit(_ref){var application=_ref.application,authorizationOptions=_ref.authorizationOptions,clientTypeOptions=_ref.clientTypeOptions;var history=useHistory();var _useParams=useParams(),id=_useParams.id;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),submitError=_useState2[0],setSubmitError=_useState2[1];var handleSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2){var values;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:values=Object.assign({},_ref2);values.organization=values.organization.id;_context.prev=2;_context.next=5;return ApplicationsAPI.update(id,values);case 5:history.push(\"/applications/\".concat(id,\"/details\"));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](2);setSubmitError(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[2,8]]);}));return function handleSubmit(_x){return _ref3.apply(this,arguments);};}();var handleCancel=function handleCancel(){history.push(\"/applications/\".concat(id,\"/details\"));};return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(ApplicationForm,{onSubmit:handleSubmit,application:application,onCancel:handleCancel,authorizationOptions:authorizationOptions,clientTypeOptions:clientTypeOptions,submitError:submitError})})});}export default ApplicationEdit;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/Application/ApplicationEdit/ApplicationEdit.js"],"names":["React","useState","useHistory","useParams","Card","ApplicationsAPI","CardBody","ApplicationForm","ApplicationEdit","application","authorizationOptions","clientTypeOptions","history","id","submitError","setSubmitError","handleSubmit","values","organization","update","push","handleCancel"],"mappings":"wTAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,CAAqBC,SAArB,KAAsC,kBAAtC,CAEA,OAASC,IAAT,KAAqB,wBAArB,CACA,OAASC,eAAT,KAAgC,KAAhC,CACA,OAASC,QAAT,KAAyB,iBAAzB,CACA,MAAOC,CAAAA,eAAP,KAA4B,2BAA5B,C,2CAEA,QAASC,CAAAA,eAAT,MAIG,IAHDC,CAAAA,WAGC,MAHDA,WAGC,CAFDC,oBAEC,MAFDA,oBAEC,CADDC,iBACC,MADDA,iBACC,CACD,GAAMC,CAAAA,OAAO,CAAGV,UAAU,EAA1B,CACA,eAAeC,SAAS,EAAxB,CAAQU,EAAR,YAAQA,EAAR,CACA,cAAsCZ,QAAQ,CAAC,IAAD,CAA9C,wCAAOa,WAAP,eAAoBC,cAApB,eAEA,GAAMC,CAAAA,YAAY,2FAAG,mJAAYC,MAAZ,yBACnBA,MAAM,CAACC,YAAP,CAAsBD,MAAM,CAACC,YAAP,CAAoBL,EAA1C,CADmB,sCAGXR,CAAAA,eAAe,CAACc,MAAhB,CAAuBN,EAAvB,CAA2BI,MAA3B,CAHW,QAIjBL,OAAO,CAACQ,IAAR,yBAA8BP,EAA9B,cAJiB,+EAMjBE,cAAc,aAAd,CANiB,oEAAH,kBAAZC,CAAAA,YAAY,6CAAlB,CAUA,GAAMK,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBT,OAAO,CAACQ,IAAR,yBAA8BP,EAA9B,cACD,CAFD,CAGA,mBACE,KAAC,IAAD,wBACE,KAAC,QAAD,wBACE,KAAC,eAAD,EACE,QAAQ,CAAEG,YADZ,CAEE,WAAW,CAAEP,WAFf,CAGE,QAAQ,CAAEY,YAHZ,CAIE,oBAAoB,CAAEX,oBAJxB,CAKE,iBAAiB,CAAEC,iBALrB,CAME,WAAW,CAAEG,WANf,EADF,EADF,EADF,CAcD,CACD,cAAeN,CAAAA,eAAf","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\n\nimport { Card } from '@patternfly/react-core';\nimport { ApplicationsAPI } from 'api';\nimport { CardBody } from 'components/Card';\nimport ApplicationForm from '../shared/ApplicationForm';\n\nfunction ApplicationEdit({\n  application,\n  authorizationOptions,\n  clientTypeOptions,\n}) {\n  const history = useHistory();\n  const { id } = useParams();\n  const [submitError, setSubmitError] = useState(null);\n\n  const handleSubmit = async ({ ...values }) => {\n    values.organization = values.organization.id;\n    try {\n      await ApplicationsAPI.update(id, values);\n      history.push(`/applications/${id}/details`);\n    } catch (err) {\n      setSubmitError(err);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(`/applications/${id}/details`);\n  };\n  return (\n    <Card>\n      <CardBody>\n        <ApplicationForm\n          onSubmit={handleSubmit}\n          application={application}\n          onCancel={handleCancel}\n          authorizationOptions={authorizationOptions}\n          clientTypeOptions={clientTypeOptions}\n          submitError={submitError}\n        />\n      </CardBody>\n    </Card>\n  );\n}\nexport default ApplicationEdit;\n"]},"metadata":{},"sourceType":"module"}