{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{i18n}from\"@lingui/core\";import React from'react';import{Link}from'react-router-dom';import{Chip,TextList,TextListItem,TextListVariants,TextListItemVariants}from'@patternfly/react-core';import{toTitleCase}from'util/strings';import CredentialChip from'../CredentialChip';import ChipGroup from'../ChipGroup';import{Detail}from'../DetailList';import{VariablesDetail}from'../CodeEditor';import Sparkline from'../Sparkline';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function PromptWFJobTemplateDetail(_ref){var _summary_fields$inven,_summary_fields$recen,_summary_fields$recen2,_summary_fields$inven2,_summary_fields$inven3,_summary_fields$webho,_summary_fields$label,_summary_fields$label2,_summary_fields$label3;var resource=_ref.resource;var allow_simultaneous=resource.allow_simultaneous,extra_vars=resource.extra_vars,limit=resource.limit,related=resource.related,scm_branch=resource.scm_branch,summary_fields=resource.summary_fields,webhook_key=resource.webhook_key,webhook_service=resource.webhook_service;var optionsList='';if(allow_simultaneous||webhook_service){optionsList=/*#__PURE__*/_jsxs(TextList,{component:TextListVariants.ul,children:[allow_simultaneous&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Concurrent Jobs\")}),webhook_service&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Webhooks\")})]});}var inventoryKind=(summary_fields===null||summary_fields===void 0?void 0:(_summary_fields$inven=summary_fields.inventory)===null||_summary_fields$inven===void 0?void 0:_summary_fields$inven.kind)==='smart'?'smart_inventory':'inventory';var recentJobs=summary_fields===null||summary_fields===void 0?void 0:(_summary_fields$recen=summary_fields.recent_jobs)===null||_summary_fields$recen===void 0?void 0:_summary_fields$recen.map(function(job){return _objectSpread(_objectSpread({},job),{},{type:'job'});});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Activity\"),value:/*#__PURE__*/_jsx(Sparkline,{jobs:recentJobs}),isEmpty:(summary_fields===null||summary_fields===void 0?void 0:(_summary_fields$recen2=summary_fields.recent_jobs)===null||_summary_fields$recen2===void 0?void 0:_summary_fields$recen2.length)===0}),(summary_fields===null||summary_fields===void 0?void 0:summary_fields.organization)&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Organization\"),value:/*#__PURE__*/_jsx(Link,{to:\"/organizations/\".concat(summary_fields.organization.id,\"/details\"),children:summary_fields===null||summary_fields===void 0?void 0:summary_fields.organization.name})}),(summary_fields===null||summary_fields===void 0?void 0:summary_fields.inventory)&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Inventory\"),value:/*#__PURE__*/_jsx(Link,{to:\"/\".concat(inventoryKind,\"/\").concat((_summary_fields$inven2=summary_fields.inventory)===null||_summary_fields$inven2===void 0?void 0:_summary_fields$inven2.id,\"/details\"),children:(_summary_fields$inven3=summary_fields.inventory)===null||_summary_fields$inven3===void 0?void 0:_summary_fields$inven3.name})}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Source Control Branch\"),value:scm_branch}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Limit\"),value:limit}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Webhook Service\"),value:toTitleCase(webhook_service)}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Webhook Key\"),value:webhook_key}),(related===null||related===void 0?void 0:related.webhook_receiver)&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Webhook URL\"),value:\"\".concat(window.location.origin).concat(related.webhook_receiver)}),optionsList&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Enabled Options\"),value:optionsList}),(summary_fields===null||summary_fields===void 0?void 0:summary_fields.webhook_credential)&&/*#__PURE__*/_jsx(Detail,{fullWidth:true,label:/*i18n*/i18n._(\"Webhook Credential\"),value:/*#__PURE__*/_jsx(CredentialChip,{credential:summary_fields.webhook_credential,isReadOnly:true},(_summary_fields$webho=summary_fields.webhook_credential)===null||_summary_fields$webho===void 0?void 0:_summary_fields$webho.id)}),(summary_fields===null||summary_fields===void 0?void 0:(_summary_fields$label=summary_fields.labels)===null||_summary_fields$label===void 0?void 0:_summary_fields$label.results)&&/*#__PURE__*/_jsx(Detail,{fullWidth:true,label:/*i18n*/i18n._(\"Labels\"),value:/*#__PURE__*/_jsx(ChipGroup,{numChips:5,totalChips:summary_fields.labels.results.length,ouiaId:\"prompt-wf-jt-label-chips\",children:summary_fields.labels.results.map(function(label){return/*#__PURE__*/_jsx(Chip,{isReadOnly:true,children:label.name},label.id);})}),isEmpty:(summary_fields===null||summary_fields===void 0?void 0:(_summary_fields$label2=summary_fields.labels)===null||_summary_fields$label2===void 0?void 0:(_summary_fields$label3=_summary_fields$label2.results)===null||_summary_fields$label3===void 0?void 0:_summary_fields$label3.length)===0}),extra_vars&&/*#__PURE__*/_jsx(VariablesDetail,{label:/*i18n*/i18n._(\"Variables\"),rows:4,value:extra_vars,name:\"extra_vars\",dataCy:\"prompt-wf-jt-detail-variables\"})]});}export default PromptWFJobTemplateDetail;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/components/PromptDetail/PromptWFJobTemplateDetail.js"],"names":["React","Link","Chip","TextList","TextListItem","TextListVariants","TextListItemVariants","toTitleCase","CredentialChip","ChipGroup","Detail","VariablesDetail","Sparkline","PromptWFJobTemplateDetail","resource","allow_simultaneous","extra_vars","limit","related","scm_branch","summary_fields","webhook_key","webhook_service","optionsList","ul","li","inventoryKind","inventory","kind","recentJobs","recent_jobs","map","job","type","length","organization","id","name","webhook_receiver","window","location","origin","webhook_credential","labels","results","label"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { t } from '@lingui/macro';\nimport { Link } from 'react-router-dom';\nimport {\n  Chip,\n  TextList,\n  TextListItem,\n  TextListVariants,\n  TextListItemVariants,\n} from '@patternfly/react-core';\nimport { toTitleCase } from 'util/strings';\nimport CredentialChip from '../CredentialChip';\nimport ChipGroup from '../ChipGroup';\nimport { Detail } from '../DetailList';\nimport { VariablesDetail } from '../CodeEditor';\nimport Sparkline from '../Sparkline';\n\nfunction PromptWFJobTemplateDetail({ resource }) {\n  const {\n    allow_simultaneous,\n    extra_vars,\n    limit,\n    related,\n    scm_branch,\n    summary_fields,\n    webhook_key,\n    webhook_service,\n  } = resource;\n\n  let optionsList = '';\n  if (allow_simultaneous || webhook_service) {\n    optionsList = (\n      <TextList component={TextListVariants.ul}>\n        {allow_simultaneous && (\n          <TextListItem component={TextListItemVariants.li}>\n            {t`Concurrent Jobs`}\n          </TextListItem>\n        )}\n        {webhook_service && (\n          <TextListItem component={TextListItemVariants.li}>\n            {t`Webhooks`}\n          </TextListItem>\n        )}\n      </TextList>\n    );\n  }\n\n  const inventoryKind =\n    summary_fields?.inventory?.kind === 'smart'\n      ? 'smart_inventory'\n      : 'inventory';\n\n  const recentJobs = summary_fields?.recent_jobs?.map((job) => ({\n    ...job,\n    type: 'job',\n  }));\n\n  return (\n    <>\n      <Detail\n        label={t`Activity`}\n        value={<Sparkline jobs={recentJobs} />}\n        isEmpty={summary_fields?.recent_jobs?.length === 0}\n      />\n      {summary_fields?.organization && (\n        <Detail\n          label={t`Organization`}\n          value={\n            <Link\n              to={`/organizations/${summary_fields.organization.id}/details`}\n            >\n              {summary_fields?.organization.name}\n            </Link>\n          }\n        />\n      )}\n      {summary_fields?.inventory && (\n        <Detail\n          label={t`Inventory`}\n          value={\n            <Link\n              to={`/${inventoryKind}/${summary_fields.inventory?.id}/details`}\n            >\n              {summary_fields.inventory?.name}\n            </Link>\n          }\n        />\n      )}\n      <Detail label={t`Source Control Branch`} value={scm_branch} />\n      <Detail label={t`Limit`} value={limit} />\n      <Detail label={t`Webhook Service`} value={toTitleCase(webhook_service)} />\n      <Detail label={t`Webhook Key`} value={webhook_key} />\n      {related?.webhook_receiver && (\n        <Detail\n          label={t`Webhook URL`}\n          value={`${window.location.origin}${related.webhook_receiver}`}\n        />\n      )}\n      {optionsList && <Detail label={t`Enabled Options`} value={optionsList} />}\n      {summary_fields?.webhook_credential && (\n        <Detail\n          fullWidth\n          label={t`Webhook Credential`}\n          value={\n            <CredentialChip\n              key={summary_fields.webhook_credential?.id}\n              credential={summary_fields.webhook_credential}\n              isReadOnly\n            />\n          }\n        />\n      )}\n      {summary_fields?.labels?.results && (\n        <Detail\n          fullWidth\n          label={t`Labels`}\n          value={\n            <ChipGroup\n              numChips={5}\n              totalChips={summary_fields.labels.results.length}\n              ouiaId=\"prompt-wf-jt-label-chips\"\n            >\n              {summary_fields.labels.results.map((label) => (\n                <Chip key={label.id} isReadOnly>\n                  {label.name}\n                </Chip>\n              ))}\n            </ChipGroup>\n          }\n          isEmpty={summary_fields?.labels?.results?.length === 0}\n        />\n      )}\n      {extra_vars && (\n        <VariablesDetail\n          label={t`Variables`}\n          rows={4}\n          value={extra_vars}\n          name=\"extra_vars\"\n          dataCy=\"prompt-wf-jt-detail-variables\"\n        />\n      )}\n    </>\n  );\n}\n\nexport default PromptWFJobTemplateDetail;\n"]},"metadata":{},"sourceType":"module"}