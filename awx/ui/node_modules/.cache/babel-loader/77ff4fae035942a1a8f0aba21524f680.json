{"ast":null,"code":"import{i18n}from\"@lingui/core\";/* eslint-disable react/jsx-no-useless-fragment */import React from'react';import{Link,Redirect}from'react-router-dom';import{Title,EmptyState,EmptyStateIcon,EmptyStateBody}from'@patternfly/react-core';import{ExclamationTriangleIcon}from'@patternfly/react-icons';import{useSession}from'contexts/Session';import ErrorDetail from'../ErrorDetail';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ContentError(_ref){var error=_ref.error,children=_ref.children,isNotFound=_ref.isNotFound;var _useSession=useSession(),logout=_useSession.logout;if(error&&error.response&&error.response.status===401){if(!error.response.headers['session-timeout']){logout();return null;}}var is404=isNotFound||error&&error.response&&error.response.status===404;var is401=error&&error.response&&error.response.status===401;return/*#__PURE__*/_jsx(_Fragment,{children:is401?/*#__PURE__*/_jsx(Redirect,{to:\"/login\"}):/*#__PURE__*/_jsxs(EmptyState,{variant:\"full\",children:[/*#__PURE__*/_jsx(EmptyStateIcon,{icon:ExclamationTriangleIcon}),/*#__PURE__*/_jsx(Title,{size:\"lg\",headingLevel:\"h3\",children:is404?/*i18n*/i18n._(\"Not Found\"):/*i18n*/i18n._(\"Something went wrong...\")}),/*#__PURE__*/_jsxs(EmptyStateBody,{children:[is404?/*i18n*/i18n._(\"The page you requested could not be found.\"):/*i18n*/i18n._(\"There was an error loading this content. Please reload the page.\"),' ',children||/*#__PURE__*/_jsx(Link,{to:\"/home\",children:/*i18n*/i18n._(\"Back to Dashboard.\")})]}),error&&/*#__PURE__*/_jsx(ErrorDetail,{error:error})]})});}ContentError.defaultProps={error:null,isNotFound:false};export{ContentError as _ContentError};export default ContentError;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/components/ContentError/ContentError.js"],"names":["React","Link","Redirect","Title","EmptyState","EmptyStateIcon","EmptyStateBody","ExclamationTriangleIcon","useSession","ErrorDetail","ContentError","error","children","isNotFound","logout","response","status","headers","is404","is401","defaultProps","_ContentError"],"mappings":"+BAAA,kDACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,QAAf,KAA+B,kBAA/B,CAIA,OACEC,KADF,CAEEC,UAFF,CAGEC,cAHF,CAIEC,cAJF,KAKO,wBALP,CAMA,OAASC,uBAAT,KAAwC,yBAAxC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,gBAAxB,C,6IAEA,QAASC,CAAAA,YAAT,MAAuD,IAA/BC,CAAAA,KAA+B,MAA/BA,KAA+B,CAAxBC,QAAwB,MAAxBA,QAAwB,CAAdC,UAAc,MAAdA,UAAc,CACrD,gBAAmBL,UAAU,EAA7B,CAAQM,MAAR,aAAQA,MAAR,CAEA,GAAIH,KAAK,EAAIA,KAAK,CAACI,QAAf,EAA2BJ,KAAK,CAACI,QAAN,CAAeC,MAAf,GAA0B,GAAzD,CAA8D,CAC5D,GAAI,CAACL,KAAK,CAACI,QAAN,CAAeE,OAAf,CAAuB,iBAAvB,CAAL,CAAgD,CAC9CH,MAAM,GACN,MAAO,KAAP,CACD,CACF,CACD,GAAMI,CAAAA,KAAK,CACTL,UAAU,EAAKF,KAAK,EAAIA,KAAK,CAACI,QAAf,EAA2BJ,KAAK,CAACI,QAAN,CAAeC,MAAf,GAA0B,GADtE,CAEA,GAAMG,CAAAA,KAAK,CAAGR,KAAK,EAAIA,KAAK,CAACI,QAAf,EAA2BJ,KAAK,CAACI,QAAN,CAAeC,MAAf,GAA0B,GAAnE,CACA,mBACE,yBACGG,KAAK,cACJ,KAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EADI,cAGJ,MAAC,UAAD,EAAY,OAAO,CAAC,MAApB,wBACE,KAAC,cAAD,EAAgB,IAAI,CAAEZ,uBAAtB,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,IAAZ,CAAiB,YAAY,CAAC,IAA9B,UACGW,KAAK,SAAG,mBAAH,SAAkB,iCAD1B,EAFF,cAKE,MAAC,cAAD,YACGA,KAAK,SACF,oDADE,SAEF,0EAHN,CAG2E,GAH3E,CAIGN,QAAQ,eAAI,KAAC,IAAD,EAAM,EAAE,CAAC,OAAT,kBAAkB,4BAAlB,EAJf,GALF,CAWGD,KAAK,eAAI,KAAC,WAAD,EAAa,KAAK,CAAEA,KAApB,EAXZ,GAJJ,EADF,CAqBD,CAKDD,YAAY,CAACU,YAAb,CAA4B,CAC1BT,KAAK,CAAE,IADmB,CAE1BE,UAAU,CAAE,KAFc,CAA5B,CAKA,OAASH,YAAY,GAAIW,CAAAA,aAAzB,EACA,cAAeX,CAAAA,YAAf","sourcesContent":["/* eslint-disable react/jsx-no-useless-fragment */\nimport React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { bool, instanceOf } from 'prop-types';\nimport { t } from '@lingui/macro';\n\nimport {\n  Title,\n  EmptyState,\n  EmptyStateIcon,\n  EmptyStateBody,\n} from '@patternfly/react-core';\nimport { ExclamationTriangleIcon } from '@patternfly/react-icons';\nimport { useSession } from 'contexts/Session';\nimport ErrorDetail from '../ErrorDetail';\n\nfunction ContentError({ error, children, isNotFound }) {\n  const { logout } = useSession();\n\n  if (error && error.response && error.response.status === 401) {\n    if (!error.response.headers['session-timeout']) {\n      logout();\n      return null;\n    }\n  }\n  const is404 =\n    isNotFound || (error && error.response && error.response.status === 404);\n  const is401 = error && error.response && error.response.status === 401;\n  return (\n    <>\n      {is401 ? (\n        <Redirect to=\"/login\" />\n      ) : (\n        <EmptyState variant=\"full\">\n          <EmptyStateIcon icon={ExclamationTriangleIcon} />\n          <Title size=\"lg\" headingLevel=\"h3\">\n            {is404 ? t`Not Found` : t`Something went wrong...`}\n          </Title>\n          <EmptyStateBody>\n            {is404\n              ? t`The page you requested could not be found.`\n              : t`There was an error loading this content. Please reload the page.`}{' '}\n            {children || <Link to=\"/home\">{t`Back to Dashboard.`}</Link>}\n          </EmptyStateBody>\n          {error && <ErrorDetail error={error} />}\n        </EmptyState>\n      )}\n    </>\n  );\n}\nContentError.propTypes = {\n  error: instanceOf(Error),\n  isNotFound: bool,\n};\nContentError.defaultProps = {\n  error: null,\n  isNotFound: false,\n};\n\nexport { ContentError as _ContentError };\nexport default ContentError;\n"]},"metadata":{},"sourceType":"module"}