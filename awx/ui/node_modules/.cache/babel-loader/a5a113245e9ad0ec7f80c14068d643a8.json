{"ast":null,"code":"import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{useHistory}from'react-router-dom';import{PageSection,Card}from'@patternfly/react-core';import{TeamsAPI}from'api';import{Config}from'contexts/Config';import{CardBody}from'components/Card';import TeamForm from'../shared/TeamForm';import{jsx as _jsx}from\"react/jsx-runtime\";function TeamAdd(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),submitError=_useState2[0],setSubmitError=_useState2[1];var history=useHistory();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var name,description,id,valuesToSend,_yield$TeamsAPI$creat,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;name=values.name,description=values.description,id=values.organization.id;valuesToSend={name:name,description:description,organization:id};_context.next=5;return TeamsAPI.create(valuesToSend);case 5:_yield$TeamsAPI$creat=_context.sent;response=_yield$TeamsAPI$creat.data;history.push(\"/teams/\".concat(response.id));_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);setSubmitError(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleCancel=function handleCancel(){history.push('/teams');};return/*#__PURE__*/_jsx(PageSection,{children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(Config,{children:function children(_ref2){var me=_ref2.me;return/*#__PURE__*/_jsx(TeamForm,{handleSubmit:handleSubmit,handleCancel:handleCancel,me:me||{},submitError:submitError});}})})})});}export{TeamAdd as _TeamAdd};export default TeamAdd;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/Team/TeamAdd/TeamAdd.js"],"names":["React","useState","useHistory","PageSection","Card","TeamsAPI","Config","CardBody","TeamForm","TeamAdd","submitError","setSubmitError","history","handleSubmit","values","name","description","id","organization","valuesToSend","create","response","data","push","handleCancel","me","_TeamAdd"],"mappings":"wTAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,WAAT,CAAsBC,IAAtB,KAAkC,wBAAlC,CAEA,OAASC,QAAT,KAAyB,KAAzB,CACA,OAASC,MAAT,KAAuB,iBAAvB,CACA,OAASC,QAAT,KAAyB,iBAAzB,CACA,MAAOC,CAAAA,QAAP,KAAqB,oBAArB,C,2CAEA,QAASC,CAAAA,OAAT,EAAmB,CACjB,cAAsCR,QAAQ,CAAC,IAAD,CAA9C,wCAAOS,WAAP,eAAoBC,cAApB,eACA,GAAMC,CAAAA,OAAO,CAAGV,UAAU,EAA1B,CAEA,GAAMW,CAAAA,YAAY,0FAAG,iBAAOC,MAAP,sMAGfC,IAHe,CAMbD,MANa,CAGfC,IAHe,CAIfC,WAJe,CAMbF,MANa,CAIfE,WAJe,CAKCC,EALD,CAMbH,MANa,CAKfI,YALe,CAKCD,EALD,CAOXE,YAPW,CAOI,CAAEJ,IAAI,CAAJA,IAAF,CAAQC,WAAW,CAAXA,WAAR,CAAqBE,YAAY,CAAED,EAAnC,CAPJ,uBAQgBZ,CAAAA,QAAQ,CAACe,MAAT,CAAgBD,YAAhB,CARhB,4CAQHE,QARG,uBAQTC,IARS,CASjBV,OAAO,CAACW,IAAR,kBAAuBF,QAAQ,CAACJ,EAAhC,GATiB,iFAWjBN,cAAc,aAAd,CAXiB,qEAAH,kBAAZE,CAAAA,YAAY,4CAAlB,CAeA,GAAMW,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBZ,OAAO,CAACW,IAAR,CAAa,QAAb,EACD,CAFD,CAIA,mBACE,KAAC,WAAD,wBACE,KAAC,IAAD,wBACE,KAAC,QAAD,wBACE,KAAC,MAAD,WACG,4BAAGE,CAAAA,EAAH,OAAGA,EAAH,oBACC,KAAC,QAAD,EACE,YAAY,CAAEZ,YADhB,CAEE,YAAY,CAAEW,YAFhB,CAGE,EAAE,CAAEC,EAAE,EAAI,EAHZ,CAIE,WAAW,CAAEf,WAJf,EADD,EADH,EADF,EADF,EADF,EADF,CAkBD,CAED,OAASD,OAAO,GAAIiB,CAAAA,QAApB,EACA,cAAejB,CAAAA,OAAf","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { PageSection, Card } from '@patternfly/react-core';\n\nimport { TeamsAPI } from 'api';\nimport { Config } from 'contexts/Config';\nimport { CardBody } from 'components/Card';\nimport TeamForm from '../shared/TeamForm';\n\nfunction TeamAdd() {\n  const [submitError, setSubmitError] = useState(null);\n  const history = useHistory();\n\n  const handleSubmit = async (values) => {\n    try {\n      const {\n        name,\n        description,\n        organization: { id },\n      } = values;\n      const valuesToSend = { name, description, organization: id };\n      const { data: response } = await TeamsAPI.create(valuesToSend);\n      history.push(`/teams/${response.id}`);\n    } catch (error) {\n      setSubmitError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push('/teams');\n  };\n\n  return (\n    <PageSection>\n      <Card>\n        <CardBody>\n          <Config>\n            {({ me }) => (\n              <TeamForm\n                handleSubmit={handleSubmit}\n                handleCancel={handleCancel}\n                me={me || {}}\n                submitError={submitError}\n              />\n            )}\n          </Config>\n        </CardBody>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport { TeamAdd as _TeamAdd };\nexport default TeamAdd;\n"]},"metadata":{},"sourceType":"module"}