{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"instanceGroup\",\"onSubmit\",\"onCancel\",\"submitError\"];import{i18n}from\"@lingui/core\";import React from'react';import{Formik}from'formik';import{Form}from'@patternfly/react-core';import FormField,{FormSubmitError}from'components/FormField';import FormActionGroup from'components/FormActionGroup';import{required,minMaxValue}from'util/validators';import{FormColumnLayout}from'components/FormLayout';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function InstanceGroupFormFields(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FormField,{name:\"name\",id:\"instance-group-name\",label:/*i18n*/i18n._(\"Name\"),type:\"text\",validate:required(null),isRequired:true}),/*#__PURE__*/_jsx(FormField,{id:\"instance-group-policy-instance-minimum\",label:/*i18n*/i18n._(\"Policy instance minimum\"),name:\"policy_instance_minimum\",type:\"number\",min:\"0\",validate:minMaxValue(0,2147483647),tooltip:/*i18n*/i18n._(\"Minimum number of instances that will be automatically\\nassigned to this group when new instances come online.\")}),/*#__PURE__*/_jsx(FormField,{id:\"instance-group-policy-instance-percentage\",label:/*i18n*/i18n._(\"Policy instance percentage\"),name:\"policy_instance_percentage\",type:\"number\",min:\"0\",max:\"100\",tooltip:/*i18n*/i18n._(\"Minimum percentage of all instances that will be automatically\\nassigned to this group when new instances come online.\"),validate:minMaxValue(0,100)})]});}function InstanceGroupForm(_ref){var _ref$instanceGroup=_ref.instanceGroup,instanceGroup=_ref$instanceGroup===void 0?{}:_ref$instanceGroup,_onSubmit=_ref.onSubmit,onCancel=_ref.onCancel,submitError=_ref.submitError,rest=_objectWithoutProperties(_ref,_excluded);var initialValues={name:instanceGroup.name||'',policy_instance_minimum:instanceGroup.policy_instance_minimum||0,policy_instance_percentage:instanceGroup.policy_instance_percentage||0};return/*#__PURE__*/_jsx(Formik,{initialValues:initialValues,onSubmit:function onSubmit(values){return _onSubmit(values);},children:function children(formik){return/*#__PURE__*/_jsx(Form,{autoComplete:\"off\",onSubmit:formik.handleSubmit,children:/*#__PURE__*/_jsxs(FormColumnLayout,{children:[/*#__PURE__*/_jsx(InstanceGroupFormFields,_objectSpread({},rest)),submitError&&/*#__PURE__*/_jsx(FormSubmitError,{error:submitError}),/*#__PURE__*/_jsx(FormActionGroup,{onCancel:onCancel,onSubmit:formik.handleSubmit})]})});}});}InstanceGroupForm.defaultProps={instanceGroup:{},submitError:null};export default InstanceGroupForm;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/InstanceGroup/shared/InstanceGroupForm.js"],"names":["React","Formik","Form","FormField","FormSubmitError","FormActionGroup","required","minMaxValue","FormColumnLayout","InstanceGroupFormFields","InstanceGroupForm","instanceGroup","onSubmit","onCancel","submitError","rest","initialValues","name","policy_instance_minimum","policy_instance_percentage","values","formik","handleSubmit","defaultProps"],"mappings":"oUAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,MAAT,KAAuB,QAAvB,CAGA,OAASC,IAAT,KAAqB,wBAArB,CAEA,MAAOC,CAAAA,SAAP,EAAoBC,eAApB,KAA2C,sBAA3C,CACA,MAAOC,CAAAA,eAAP,KAA4B,4BAA5B,CACA,OAASC,QAAT,CAAmBC,WAAnB,KAAsC,iBAAtC,CACA,OAASC,gBAAT,KAAiC,uBAAjC,C,6IAEA,QAASC,CAAAA,uBAAT,EAAmC,CACjC,mBACE,wCACE,KAAC,SAAD,EACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAC,qBAFL,CAGE,KAAK,SAAE,cAHT,CAIE,IAAI,CAAC,MAJP,CAKE,QAAQ,CAAEH,QAAQ,CAAC,IAAD,CALpB,CAME,UAAU,KANZ,EADF,cASE,KAAC,SAAD,EACE,EAAE,CAAC,wCADL,CAEE,KAAK,SAAE,iCAFT,CAGE,IAAI,CAAC,yBAHP,CAIE,IAAI,CAAC,QAJP,CAKE,GAAG,CAAC,GALN,CAME,QAAQ,CAAEC,WAAW,CAAC,CAAD,CAAI,UAAJ,CANvB,CAOE,OAAO,SAAE,wHAPX,EATF,cAmBE,KAAC,SAAD,EACE,EAAE,CAAC,2CADL,CAEE,KAAK,SAAE,oCAFT,CAGE,IAAI,CAAC,4BAHP,CAIE,IAAI,CAAC,QAJP,CAKE,GAAG,CAAC,GALN,CAME,GAAG,CAAC,KANN,CAOE,OAAO,SAAE,gIAPX,CASE,QAAQ,CAAEA,WAAW,CAAC,CAAD,CAAI,GAAJ,CATvB,EAnBF,GADF,CAiCD,CAED,QAASG,CAAAA,iBAAT,MAMG,6BALDC,aAKC,CALDA,aAKC,6BALe,EAKf,oBAJDC,SAIC,MAJDA,QAIC,CAHDC,QAGC,MAHDA,QAGC,CAFDC,WAEC,MAFDA,WAEC,CADEC,IACF,0CACD,GAAMC,CAAAA,aAAa,CAAG,CACpBC,IAAI,CAAEN,aAAa,CAACM,IAAd,EAAsB,EADR,CAEpBC,uBAAuB,CAAEP,aAAa,CAACO,uBAAd,EAAyC,CAF9C,CAGpBC,0BAA0B,CAAER,aAAa,CAACQ,0BAAd,EAA4C,CAHpD,CAAtB,CAKA,mBACE,KAAC,MAAD,EACE,aAAa,CAAEH,aADjB,CAEE,QAAQ,CAAE,kBAACI,MAAD,QAAYR,CAAAA,SAAQ,CAACQ,MAAD,CAApB,EAFZ,UAIG,kBAACC,MAAD,qBACC,KAAC,IAAD,EAAM,YAAY,CAAC,KAAnB,CAAyB,QAAQ,CAAEA,MAAM,CAACC,YAA1C,uBACE,MAAC,gBAAD,yBACE,KAAC,uBAAD,kBAA6BP,IAA7B,EADF,CAEGD,WAAW,eAAI,KAAC,eAAD,EAAiB,KAAK,CAAEA,WAAxB,EAFlB,cAGE,KAAC,eAAD,EACE,QAAQ,CAAED,QADZ,CAEE,QAAQ,CAAEQ,MAAM,CAACC,YAFnB,EAHF,GADF,EADD,EAJH,EADF,CAmBD,CASDZ,iBAAiB,CAACa,YAAlB,CAAiC,CAC/BZ,aAAa,CAAE,EADgB,CAE/BG,WAAW,CAAE,IAFkB,CAAjC,CAKA,cAAeJ,CAAAA,iBAAf","sourcesContent":["import React from 'react';\nimport { func, shape } from 'prop-types';\nimport { Formik } from 'formik';\n\nimport { t } from '@lingui/macro';\nimport { Form } from '@patternfly/react-core';\n\nimport FormField, { FormSubmitError } from 'components/FormField';\nimport FormActionGroup from 'components/FormActionGroup';\nimport { required, minMaxValue } from 'util/validators';\nimport { FormColumnLayout } from 'components/FormLayout';\n\nfunction InstanceGroupFormFields() {\n  return (\n    <>\n      <FormField\n        name=\"name\"\n        id=\"instance-group-name\"\n        label={t`Name`}\n        type=\"text\"\n        validate={required(null)}\n        isRequired\n      />\n      <FormField\n        id=\"instance-group-policy-instance-minimum\"\n        label={t`Policy instance minimum`}\n        name=\"policy_instance_minimum\"\n        type=\"number\"\n        min=\"0\"\n        validate={minMaxValue(0, 2147483647)}\n        tooltip={t`Minimum number of instances that will be automatically\n          assigned to this group when new instances come online.`}\n      />\n      <FormField\n        id=\"instance-group-policy-instance-percentage\"\n        label={t`Policy instance percentage`}\n        name=\"policy_instance_percentage\"\n        type=\"number\"\n        min=\"0\"\n        max=\"100\"\n        tooltip={t`Minimum percentage of all instances that will be automatically\n          assigned to this group when new instances come online.`}\n        validate={minMaxValue(0, 100)}\n      />\n    </>\n  );\n}\n\nfunction InstanceGroupForm({\n  instanceGroup = {},\n  onSubmit,\n  onCancel,\n  submitError,\n  ...rest\n}) {\n  const initialValues = {\n    name: instanceGroup.name || '',\n    policy_instance_minimum: instanceGroup.policy_instance_minimum || 0,\n    policy_instance_percentage: instanceGroup.policy_instance_percentage || 0,\n  };\n  return (\n    <Formik\n      initialValues={initialValues}\n      onSubmit={(values) => onSubmit(values)}\n    >\n      {(formik) => (\n        <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n          <FormColumnLayout>\n            <InstanceGroupFormFields {...rest} />\n            {submitError && <FormSubmitError error={submitError} />}\n            <FormActionGroup\n              onCancel={onCancel}\n              onSubmit={formik.handleSubmit}\n            />\n          </FormColumnLayout>\n        </Form>\n      )}\n    </Formik>\n  );\n}\n\nInstanceGroupForm.propTypes = {\n  instanceGroup: shape({}),\n  onCancel: func.isRequired,\n  onSubmit: func.isRequired,\n  submitError: shape({}),\n};\n\nInstanceGroupForm.defaultProps = {\n  instanceGroup: {},\n  submitError: null,\n};\n\nexport default InstanceGroupForm;\n"]},"metadata":{},"sourceType":"module"}