{"ast":null,"code":"import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{useHistory,useParams}from'react-router-dom';import{GroupsAPI}from'api';import InventoryGroupForm from'../shared/InventoryGroupForm';import{jsx as _jsx}from\"react/jsx-runtime\";function InventoryRelatedGroupAdd(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var history=useHistory();var _useParams=useParams(),id=_useParams.id,groupId=_useParams.groupId;var associateInventoryGroup=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var _yield$GroupsAPI$crea,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:values.inventory=id;_context.prev=1;_context.next=4;return GroupsAPI.create(values);case 4:_yield$GroupsAPI$crea=_context.sent;data=_yield$GroupsAPI$crea.data;_context.next=8;return GroupsAPI.associateChildGroup(groupId,data.id);case 8:history.push(\"/inventories/inventory/\".concat(id,\"/groups/\").concat(data.id,\"/details\"),{prevGroupId:groupId});_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);setError(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function associateInventoryGroup(_x){return _ref.apply(this,arguments);};}();var handleCancel=function handleCancel(){history.push(\"/inventories/inventory/\".concat(id,\"/groups/\").concat(groupId,\"/nested_groups\"));};return/*#__PURE__*/_jsx(InventoryGroupForm,{handleSubmit:associateInventoryGroup,handleCancel:handleCancel,error:error});}export default InventoryRelatedGroupAdd;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/Inventory/InventoryRelatedGroupAdd/InventoryRelatedGroupAdd.js"],"names":["React","useState","useHistory","useParams","GroupsAPI","InventoryGroupForm","InventoryRelatedGroupAdd","error","setError","history","id","groupId","associateInventoryGroup","values","inventory","create","data","associateChildGroup","push","prevGroupId","handleCancel"],"mappings":"wTAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,CAAqBC,SAArB,KAAsC,kBAAtC,CACA,OAASC,SAAT,KAA0B,KAA1B,CACA,MAAOC,CAAAA,kBAAP,KAA+B,8BAA/B,C,2CAEA,QAASC,CAAAA,wBAAT,EAAoC,CAClC,cAA0BL,QAAQ,CAAC,IAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CACA,eAAwBC,SAAS,EAAjC,CAAQO,EAAR,YAAQA,EAAR,CAAYC,OAAZ,YAAYA,OAAZ,CACA,GAAMC,CAAAA,uBAAuB,0FAAG,iBAAOC,MAAP,iJAC9BA,MAAM,CAACC,SAAP,CAAmBJ,EAAnB,CAD8B,sCAGLN,CAAAA,SAAS,CAACW,MAAV,CAAiBF,MAAjB,CAHK,4CAGpBG,IAHoB,uBAGpBA,IAHoB,uBAItBZ,CAAAA,SAAS,CAACa,mBAAV,CAA8BN,OAA9B,CAAuCK,IAAI,CAACN,EAA5C,CAJsB,QAK5BD,OAAO,CAACS,IAAR,kCAAuCR,EAAvC,oBAAoDM,IAAI,CAACN,EAAzD,aAAuE,CACrES,WAAW,CAAER,OADwD,CAAvE,EAL4B,iFAS5BH,QAAQ,aAAR,CAT4B,qEAAH,kBAAvBI,CAAAA,uBAAuB,4CAA7B,CAaA,GAAMQ,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBX,OAAO,CAACS,IAAR,kCAC4BR,EAD5B,oBACyCC,OADzC,oBAGD,CAJD,CAKA,mBACE,KAAC,kBAAD,EACE,YAAY,CAAEC,uBADhB,CAEE,YAAY,CAAEQ,YAFhB,CAGE,KAAK,CAAEb,KAHT,EADF,CAOD,CAED,cAAeD,CAAAA,wBAAf","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { GroupsAPI } from 'api';\nimport InventoryGroupForm from '../shared/InventoryGroupForm';\n\nfunction InventoryRelatedGroupAdd() {\n  const [error, setError] = useState(null);\n  const history = useHistory();\n  const { id, groupId } = useParams();\n  const associateInventoryGroup = async (values) => {\n    values.inventory = id;\n    try {\n      const { data } = await GroupsAPI.create(values);\n      await GroupsAPI.associateChildGroup(groupId, data.id);\n      history.push(`/inventories/inventory/${id}/groups/${data.id}/details`, {\n        prevGroupId: groupId,\n      });\n    } catch (err) {\n      setError(err);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(\n      `/inventories/inventory/${id}/groups/${groupId}/nested_groups`\n    );\n  };\n  return (\n    <InventoryGroupForm\n      handleSubmit={associateInventoryGroup}\n      handleCancel={handleCancel}\n      error={error}\n    />\n  );\n}\n\nexport default InventoryRelatedGroupAdd;\n"]},"metadata":{},"sourceType":"module"}