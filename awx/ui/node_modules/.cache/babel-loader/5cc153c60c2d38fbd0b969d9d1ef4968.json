{"ast":null,"code":"import{i18n}from\"@lingui/core\";import React from'react';import{TextList,TextListItem,TextListVariants,TextListItemVariants}from'@patternfly/react-core';import{Link}from'react-router-dom';import{Config}from'contexts/Config';import{toTitleCase}from'util/strings';import{Detail,DeletedDetail}from'../DetailList';import CredentialChip from'../CredentialChip';import ExecutionEnvironmentDetail from'../ExecutionEnvironmentDetail';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function PromptProjectDetail(_ref){var _summary_fields$crede;var resource=_ref.resource;var allow_override=resource.allow_override,custom_virtualenv=resource.custom_virtualenv,local_path=resource.local_path,scm_branch=resource.scm_branch,scm_clean=resource.scm_clean,scm_delete_on_update=resource.scm_delete_on_update,scm_track_submodules=resource.scm_track_submodules,scm_refspec=resource.scm_refspec,scm_type=resource.scm_type,scm_update_on_launch=resource.scm_update_on_launch,scm_update_cache_timeout=resource.scm_update_cache_timeout,scm_url=resource.scm_url,summary_fields=resource.summary_fields;var optionsList='';if(scm_clean||scm_delete_on_update||scm_track_submodules||scm_update_on_launch||allow_override){optionsList=/*#__PURE__*/_jsxs(TextList,{component:TextListVariants.ul,children:[scm_clean&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Discard local changes before syncing\")}),scm_delete_on_update&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Delete the project before syncing\")}),scm_track_submodules&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Track submodules latest commit on branch\")}),scm_update_on_launch&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Update revision on job launch\")}),allow_override&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Allow branch override\")})]});}var prefixCy='prompt-project-detail';return/*#__PURE__*/_jsxs(_Fragment,{children:[summary_fields!==null&&summary_fields!==void 0&&summary_fields.organization?/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Organization\"),dataCy:\"\".concat(prefixCy,\"-organization\"),value:/*#__PURE__*/_jsx(Link,{to:\"/organizations/\".concat(summary_fields.organization.id,\"/details\"),children:summary_fields===null||summary_fields===void 0?void 0:summary_fields.organization.name})}):/*#__PURE__*/_jsx(DeletedDetail,{label:/*i18n*/i18n._(\"Organization\")}),/*#__PURE__*/_jsx(ExecutionEnvironmentDetail,{virtualEnvironment:custom_virtualenv,executionEnvironment:summary_fields===null||summary_fields===void 0?void 0:summary_fields.default_environment,isDefaultEnvironment:true}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Source Control Type\"),dataCy:\"\".concat(prefixCy,\"-source-control-type\"),value:scm_type===''?/*i18n*/i18n._(\"Manual\"):toTitleCase(scm_type)}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Source Control URL\"),dataCy:\"\".concat(prefixCy,\"-source-control-url\"),value:scm_url}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Source Control Branch\"),dataCy:\"\".concat(prefixCy,\"-source-control-branch\"),value:scm_branch}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Source Control Refspec\"),dataCy:\"\".concat(prefixCy,\"-source-control-refspec\"),value:scm_refspec}),(summary_fields===null||summary_fields===void 0?void 0:(_summary_fields$crede=summary_fields.credential)===null||_summary_fields$crede===void 0?void 0:_summary_fields$crede.id)&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Source Control Credential\"),dataCy:\"\".concat(prefixCy,\"-source-control-credential\"),value:/*#__PURE__*/_jsx(CredentialChip,{credential:resource.summary_fields.credential,isReadOnly:true},resource.summary_fields.credential.id)}),optionsList&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Enabled Options\"),dataCy:\"\".concat(prefixCy,\"-enabled-options\"),value:optionsList}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Cache Timeout\"),dataCy:\"\".concat(prefixCy,\"-cache-timeout\"),value:\"\".concat(scm_update_cache_timeout,\" \").concat(/*i18n*/i18n._(\"Seconds\"))}),/*#__PURE__*/_jsx(Config,{children:function children(_ref2){var project_base_dir=_ref2.project_base_dir;return/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Project Base Path\"),dataCy:\"\".concat(prefixCy,\"-project-base-path\"),value:project_base_dir});}}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Playbook Directory\"),dataCy:\"\".concat(prefixCy,\"-playbook-directory\"),value:local_path})]});}export default PromptProjectDetail;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/components/PromptDetail/PromptProjectDetail.js"],"names":["React","TextList","TextListItem","TextListVariants","TextListItemVariants","Link","Config","toTitleCase","Detail","DeletedDetail","CredentialChip","ExecutionEnvironmentDetail","PromptProjectDetail","resource","allow_override","custom_virtualenv","local_path","scm_branch","scm_clean","scm_delete_on_update","scm_track_submodules","scm_refspec","scm_type","scm_update_on_launch","scm_update_cache_timeout","scm_url","summary_fields","optionsList","ul","li","prefixCy","organization","id","name","default_environment","credential","project_base_dir"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { t } from '@lingui/macro';\nimport {\n  TextList,\n  TextListItem,\n  TextListVariants,\n  TextListItemVariants,\n} from '@patternfly/react-core';\nimport { Link } from 'react-router-dom';\nimport { Config } from 'contexts/Config';\nimport { toTitleCase } from 'util/strings';\nimport { Detail, DeletedDetail } from '../DetailList';\nimport CredentialChip from '../CredentialChip';\nimport ExecutionEnvironmentDetail from '../ExecutionEnvironmentDetail';\n\nfunction PromptProjectDetail({ resource }) {\n  const {\n    allow_override,\n    custom_virtualenv,\n    local_path,\n    scm_branch,\n    scm_clean,\n    scm_delete_on_update,\n    scm_track_submodules,\n    scm_refspec,\n    scm_type,\n    scm_update_on_launch,\n    scm_update_cache_timeout,\n    scm_url,\n    summary_fields,\n  } = resource;\n\n  let optionsList = '';\n  if (\n    scm_clean ||\n    scm_delete_on_update ||\n    scm_track_submodules ||\n    scm_update_on_launch ||\n    allow_override\n  ) {\n    optionsList = (\n      <TextList component={TextListVariants.ul}>\n        {scm_clean && (\n          <TextListItem\n            component={TextListItemVariants.li}\n          >{t`Discard local changes before syncing`}</TextListItem>\n        )}\n        {scm_delete_on_update && (\n          <TextListItem\n            component={TextListItemVariants.li}\n          >{t`Delete the project before syncing`}</TextListItem>\n        )}\n        {scm_track_submodules && (\n          <TextListItem\n            component={TextListItemVariants.li}\n          >{t`Track submodules latest commit on branch`}</TextListItem>\n        )}\n        {scm_update_on_launch && (\n          <TextListItem\n            component={TextListItemVariants.li}\n          >{t`Update revision on job launch`}</TextListItem>\n        )}\n        {allow_override && (\n          <TextListItem\n            component={TextListItemVariants.li}\n          >{t`Allow branch override`}</TextListItem>\n        )}\n      </TextList>\n    );\n  }\n\n  const prefixCy = 'prompt-project-detail';\n  return (\n    <>\n      {summary_fields?.organization ? (\n        <Detail\n          label={t`Organization`}\n          dataCy={`${prefixCy}-organization`}\n          value={\n            <Link\n              to={`/organizations/${summary_fields.organization.id}/details`}\n            >\n              {summary_fields?.organization.name}\n            </Link>\n          }\n        />\n      ) : (\n        <DeletedDetail label={t`Organization`} />\n      )}\n      <ExecutionEnvironmentDetail\n        virtualEnvironment={custom_virtualenv}\n        executionEnvironment={summary_fields?.default_environment}\n        isDefaultEnvironment\n      />\n      <Detail\n        label={t`Source Control Type`}\n        dataCy={`${prefixCy}-source-control-type`}\n        value={scm_type === '' ? t`Manual` : toTitleCase(scm_type)}\n      />\n      <Detail\n        label={t`Source Control URL`}\n        dataCy={`${prefixCy}-source-control-url`}\n        value={scm_url}\n      />\n      <Detail\n        label={t`Source Control Branch`}\n        dataCy={`${prefixCy}-source-control-branch`}\n        value={scm_branch}\n      />\n      <Detail\n        label={t`Source Control Refspec`}\n        dataCy={`${prefixCy}-source-control-refspec`}\n        value={scm_refspec}\n      />\n      {summary_fields?.credential?.id && (\n        <Detail\n          label={t`Source Control Credential`}\n          dataCy={`${prefixCy}-source-control-credential`}\n          value={\n            <CredentialChip\n              key={resource.summary_fields.credential.id}\n              credential={resource.summary_fields.credential}\n              isReadOnly\n            />\n          }\n        />\n      )}\n      {optionsList && (\n        <Detail\n          label={t`Enabled Options`}\n          dataCy={`${prefixCy}-enabled-options`}\n          value={optionsList}\n        />\n      )}\n      <Detail\n        label={t`Cache Timeout`}\n        dataCy={`${prefixCy}-cache-timeout`}\n        value={`${scm_update_cache_timeout} ${t`Seconds`}`}\n      />\n      <Config>\n        {({ project_base_dir }) => (\n          <Detail\n            label={t`Project Base Path`}\n            dataCy={`${prefixCy}-project-base-path`}\n            value={project_base_dir}\n          />\n        )}\n      </Config>\n      <Detail\n        label={t`Playbook Directory`}\n        dataCy={`${prefixCy}-playbook-directory`}\n        value={local_path}\n      />\n    </>\n  );\n}\n\nexport default PromptProjectDetail;\n"]},"metadata":{},"sourceType":"module"}