{"ast":null,"code":"import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{useHistory}from'react-router-dom';import{CardBody}from'components/Card';import{UsersAPI}from'api';import UserForm from'../shared/UserForm';import{jsx as _jsx}from\"react/jsx-runtime\";function UserEdit(_ref){var user=_ref.user;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),formSubmitError=_useState2[0],setFormSubmitError=_useState2[1];var history=useHistory();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setFormSubmitError(null);_context.prev=1;delete values.organization;_context.next=5;return UsersAPI.update(user.id,values);case 5:history.push(\"/users/\".concat(user.id,\"/details\"));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);setFormSubmitError(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var handleCancel=function handleCancel(){history.push(\"/users/\".concat(user.id,\"/details\"));};return/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(UserForm,{user:user,handleCancel:handleCancel,handleSubmit:handleSubmit,submitError:formSubmitError})});}export default UserEdit;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/User/UserEdit/UserEdit.js"],"names":["React","useState","useHistory","CardBody","UsersAPI","UserForm","UserEdit","user","formSubmitError","setFormSubmitError","history","handleSubmit","values","organization","update","id","push","handleCancel"],"mappings":"wTAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,OAASC,QAAT,KAAyB,iBAAzB,CACA,OAASC,QAAT,KAAyB,KAAzB,CACA,MAAOC,CAAAA,QAAP,KAAqB,oBAArB,C,2CAEA,QAASC,CAAAA,QAAT,MAA4B,IAARC,CAAAA,IAAQ,MAARA,IAAQ,CAC1B,cAA8CN,QAAQ,CAAC,IAAD,CAAtD,wCAAOO,eAAP,eAAwBC,kBAAxB,eAEA,GAAMC,CAAAA,OAAO,CAAGR,UAAU,EAA1B,CAEA,GAAMS,CAAAA,YAAY,2FAAG,iBAAOC,MAAP,kHACnBH,kBAAkB,CAAC,IAAD,CAAlB,CADmB,gBAGjB,MAAOG,CAAAA,MAAM,CAACC,YAAd,CAHiB,sBAIXT,CAAAA,QAAQ,CAACU,MAAT,CAAgBP,IAAI,CAACQ,EAArB,CAAyBH,MAAzB,CAJW,QAKjBF,OAAO,CAACM,IAAR,kBAAuBT,IAAI,CAACQ,EAA5B,cALiB,+EAOjBN,kBAAkB,aAAlB,CAPiB,oEAAH,kBAAZE,CAAAA,YAAY,6CAAlB,CAWA,GAAMM,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBP,OAAO,CAACM,IAAR,kBAAuBT,IAAI,CAACQ,EAA5B,cACD,CAFD,CAIA,mBACE,KAAC,QAAD,wBACE,KAAC,QAAD,EACE,IAAI,CAAER,IADR,CAEE,YAAY,CAAEU,YAFhB,CAGE,YAAY,CAAEN,YAHhB,CAIE,WAAW,CAAEH,eAJf,EADF,EADF,CAUD,CAED,cAAeF,CAAAA,QAAf","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { CardBody } from 'components/Card';\nimport { UsersAPI } from 'api';\nimport UserForm from '../shared/UserForm';\n\nfunction UserEdit({ user }) {\n  const [formSubmitError, setFormSubmitError] = useState(null);\n\n  const history = useHistory();\n\n  const handleSubmit = async (values) => {\n    setFormSubmitError(null);\n    try {\n      delete values.organization;\n      await UsersAPI.update(user.id, values);\n      history.push(`/users/${user.id}/details`);\n    } catch (error) {\n      setFormSubmitError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(`/users/${user.id}/details`);\n  };\n\n  return (\n    <CardBody>\n      <UserForm\n        user={user}\n        handleCancel={handleCancel}\n        handleSubmit={handleSubmit}\n        submitError={formSubmitError}\n      />\n    </CardBody>\n  );\n}\n\nexport default UserEdit;\n"]},"metadata":{},"sourceType":"module"}