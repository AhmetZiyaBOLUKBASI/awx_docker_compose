{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _styled10 from\"styled-components\";import _styled9 from\"styled-components\";import _styled8 from\"styled-components\";import _styled7 from\"styled-components\";import _styled6 from\"styled-components\";import _styled5 from\"styled-components\";import _styled4 from\"styled-components\";import _styled3 from\"styled-components\";import _styled2 from\"styled-components\";import _styled from\"styled-components\";import{Trans}from\"@lingui/react\";import{i18n}from\"@lingui/core\";import React from'react';import styled from'styled-components';import{useField}from'formik';import{RRule}from'rrule';import{Checkbox as _Checkbox,FormGroup,Radio,TextInput}from'@patternfly/react-core';import{required,requiredPositiveInteger}from'util/validators';import AnsibleSelect from'../../AnsibleSelect';import FormField from'../../FormField';import DateTimePicker from'./DateTimePicker';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var RunOnRadio=styled(Radio).withConfig({displayName:\"FrequencyDetailSubform__RunOnRadio\",componentId:\"sc-13oou96-0\"})([\"display:flex;align-items:center;label{display:block;width:100%;}:not(:last-of-type){margin-bottom:10px;}select:not(:first-of-type){margin-left:10px;}\"]);var RunEveryLabel=styled.p.withConfig({displayName:\"FrequencyDetailSubform__RunEveryLabel\",componentId:\"sc-13oou96-1\"})([\"display:flex;align-items:center;\"]);var Checkbox=styled(_Checkbox).withConfig({displayName:\"FrequencyDetailSubform__Checkbox\",componentId:\"sc-13oou96-2\"})([\":not(:last-of-type){margin-right:10px;}\"]);var _StyledP=styled(\"p\").withConfig({displayName:\"FrequencyDetailSubform___StyledP\",componentId:\"sc-13oou96-3\"})([\"grid-column:1/-1\"]);var _StyledDiv=styled(\"div\").withConfig({displayName:\"FrequencyDetailSubform___StyledDiv\",componentId:\"sc-13oou96-4\"})([\"display:flex\"]);var _StyledTextInput=styled(TextInput).withConfig({displayName:\"FrequencyDetailSubform___StyledTextInput\",componentId:\"sc-13oou96-5\"})([\"margin-right:10px;\"]);var _StyledDiv2=styled(\"div\").withConfig({displayName:\"FrequencyDetailSubform___StyledDiv2\",componentId:\"sc-13oou96-6\"})([\"display:flex\"]);var _StyledDiv3=styled(\"div\").withConfig({displayName:\"FrequencyDetailSubform___StyledDiv3\",componentId:\"sc-13oou96-7\"})([\"display:flex;align-items:center;\"]);var _StyledSpan=styled(\"span\").withConfig({displayName:\"FrequencyDetailSubform___StyledSpan\",componentId:\"sc-13oou96-8\"})([\"margin-right:10px;\"]);var _StyledAnsibleSelect=styled(AnsibleSelect).withConfig({displayName:\"FrequencyDetailSubform___StyledAnsibleSelect\",componentId:\"sc-13oou96-9\"})([\"margin-right:10px\"]);var _StyledDiv4=styled(\"div\").withConfig({displayName:\"FrequencyDetailSubform___StyledDiv4\",componentId:\"sc-13oou96-10\"})([\"display:flex;align-items:center;\"]);var _StyledSpan2=styled(\"span\").withConfig({displayName:\"FrequencyDetailSubform___StyledSpan2\",componentId:\"sc-13oou96-11\"})([\"margin-right:10px;\"]);var _StyledSpan3=styled(\"span\").withConfig({displayName:\"FrequencyDetailSubform___StyledSpan3\",componentId:\"sc-13oou96-12\"})([\"margin-left:10px;\"]);var FrequencyDetailSubform=function FrequencyDetailSubform(_ref){var _daysOfWeek$value,_daysOfWeek$value2,_daysOfWeek$value3,_daysOfWeek$value4,_daysOfWeek$value5,_daysOfWeek$value6,_daysOfWeek$value7;var frequency=_ref.frequency,prefix=_ref.prefix;var id=prefix.replace('.','-');var _useField=useField({name:\"\".concat(prefix,\".runOnDayMonth\")}),_useField2=_slicedToArray(_useField,1),runOnDayMonth=_useField2[0];var _useField3=useField({name:\"\".concat(prefix,\".runOnDayNumber\")}),_useField4=_slicedToArray(_useField3,1),runOnDayNumber=_useField4[0];var _useField5=useField({name:\"\".concat(prefix,\".runOnTheOccurrence\")}),_useField6=_slicedToArray(_useField5,1),runOnTheOccurrence=_useField6[0];var _useField7=useField({name:\"\".concat(prefix,\".runOnTheDay\")}),_useField8=_slicedToArray(_useField7,1),runOnTheDay=_useField8[0];var _useField9=useField({name:\"\".concat(prefix,\".runOnTheMonth\")}),_useField10=_slicedToArray(_useField9,1),runOnTheMonth=_useField10[0];var _useField11=useField(\"\".concat(prefix,\".startDate\")),_useField12=_slicedToArray(_useField11,1),startDate=_useField12[0];var _useField13=useField({name:\"\".concat(prefix,\".daysOfWeek\"),validate:function validate(val){if(frequency==='week'){return required(/*i18n*/i18n._(\"Select a value for this field\"))((val===null||val===void 0?void 0:val.length)>0);}return undefined;}}),_useField14=_slicedToArray(_useField13,3),daysOfWeek=_useField14[0],daysOfWeekMeta=_useField14[1],daysOfWeekHelpers=_useField14[2];var _useField15=useField({name:\"\".concat(prefix,\".end\"),validate:required(/*i18n*/i18n._(\"Select a value for this field\"))}),_useField16=_slicedToArray(_useField15,2),end=_useField16[0],endMeta=_useField16[1];var _useField17=useField({name:\"\".concat(prefix,\".interval\"),validate:requiredPositiveInteger()}),_useField18=_slicedToArray(_useField17,2),interval=_useField18[0],intervalMeta=_useField18[1];var _useField19=useField({name:\"\".concat(prefix,\".runOn\"),validate:function validate(val){if(frequency==='month'||frequency==='year'){return required(/*i18n*/i18n._(\"Select a value for this field\"))(val);}return undefined;}}),_useField20=_slicedToArray(_useField19,2),runOn=_useField20[0],runOnMeta=_useField20[1];var monthOptions=[{key:'january',value:1,label:/*i18n*/i18n._(\"January\")},{key:'february',value:2,label:/*i18n*/i18n._(\"February\")},{key:'march',value:3,label:/*i18n*/i18n._(\"March\")},{key:'april',value:4,label:/*i18n*/i18n._(\"April\")},{key:'may',value:5,label:/*i18n*/i18n._(\"May\")},{key:'june',value:6,label:/*i18n*/i18n._(\"June\")},{key:'july',value:7,label:/*i18n*/i18n._(\"July\")},{key:'august',value:8,label:/*i18n*/i18n._(\"August\")},{key:'september',value:9,label:/*i18n*/i18n._(\"September\")},{key:'october',value:10,label:/*i18n*/i18n._(\"October\")},{key:'november',value:11,label:/*i18n*/i18n._(\"November\")},{key:'december',value:12,label:/*i18n*/i18n._(\"December\")}];var updateDaysOfWeek=function updateDaysOfWeek(day,checked){var newDaysOfWeek=daysOfWeek.value?_toConsumableArray(daysOfWeek.value):[];daysOfWeekHelpers.setTouched(true);if(checked){newDaysOfWeek.push(day);daysOfWeekHelpers.setValue(newDaysOfWeek);}else{daysOfWeekHelpers.setValue(newDaysOfWeek.filter(function(selectedDay){return selectedDay!==day;}));}};var getPeriodLabel=function getPeriodLabel(){switch(frequency){case'minute':return(/*i18n*/i18n._(\"Minute\"));case'hour':return(/*i18n*/i18n._(\"Hour\"));case'day':return(/*i18n*/i18n._(\"Day\"));case'week':return(/*i18n*/i18n._(\"Week\"));case'month':return(/*i18n*/i18n._(\"Month\"));case'year':return(/*i18n*/i18n._(\"Year\"));default:throw new Error(/*i18n*/i18n._(\"Frequency did not match an expected value\"));}};var getRunEveryLabel=function getRunEveryLabel(){var intervalValue=interval.value;switch(frequency){case'minute':return/*#__PURE__*/_jsx(Trans,{id:\"{intervalValue, plural, one {minute} other {minutes}}\",values:{intervalValue:intervalValue}});case'hour':return/*#__PURE__*/_jsx(Trans,{id:\"{intervalValue, plural, one {hour} other {hours}}\",values:{intervalValue:intervalValue}});case'day':return/*#__PURE__*/_jsx(Trans,{id:\"{intervalValue, plural, one {day} other {days}}\",values:{intervalValue:intervalValue}});case'week':return/*#__PURE__*/_jsx(Trans,{id:\"{intervalValue, plural, one {week} other {weeks}}\",values:{intervalValue:intervalValue}});case'month':return/*#__PURE__*/_jsx(Trans,{id:\"{intervalValue, plural, one {month} other {months}}\",values:{intervalValue:intervalValue}});case'year':return/*#__PURE__*/_jsx(Trans,{id:\"{intervalValue, plural, one {year} other {years}}\",values:{intervalValue:intervalValue}});default:throw new Error(/*i18n*/i18n._(\"Frequency did not match an expected value\"));}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(_StyledP,{children:/*#__PURE__*/_jsx(\"b\",{children:getPeriodLabel()})}),/*#__PURE__*/_jsx(FormGroup,{name:\"\".concat(prefix,\".interval\"),fieldId:\"schedule-run-every-\".concat(id),helperTextInvalid:intervalMeta.error,isRequired:true,validated:!intervalMeta.touched||!intervalMeta.error?'default':'error',label:/*i18n*/i18n._(\"Run every\"),children:/*#__PURE__*/_jsxs(_StyledDiv,{children:[/*#__PURE__*/_jsx(_StyledTextInput,_objectSpread(_objectSpread({id:\"schedule-run-every-\".concat(id),type:\"number\",min:\"1\",step:\"1\"},interval),{},{onChange:function onChange(value,event){interval.onChange(event);}})),/*#__PURE__*/_jsx(RunEveryLabel,{children:getRunEveryLabel()})]})}),frequency==='week'&&/*#__PURE__*/_jsx(FormGroup,{name:\"\".concat(prefix,\".daysOfWeek\"),fieldId:\"schedule-days-of-week-\".concat(id),helperTextInvalid:daysOfWeekMeta.error,isRequired:true,validated:!daysOfWeekMeta.touched||!daysOfWeekMeta.error?'default':'error',label:/*i18n*/i18n._(\"On days\"),children:/*#__PURE__*/_jsxs(_StyledDiv2,{children:[/*#__PURE__*/_jsx(Checkbox,{label:/*i18n*/i18n._(\"Sun\"),isChecked:(_daysOfWeek$value=daysOfWeek.value)===null||_daysOfWeek$value===void 0?void 0:_daysOfWeek$value.includes(RRule.SU),onChange:function onChange(checked){updateDaysOfWeek(RRule.SU,checked);},\"aria-label\":/*i18n*/i18n._(\"Sunday\"),id:\"schedule-days-of-week-sun-\".concat(id),ouiaId:\"schedule-days-of-week-sun-\".concat(id),name:\"\".concat(prefix,\".daysOfWeek\")}),/*#__PURE__*/_jsx(Checkbox,{label:/*i18n*/i18n._(\"Mon\"),isChecked:(_daysOfWeek$value2=daysOfWeek.value)===null||_daysOfWeek$value2===void 0?void 0:_daysOfWeek$value2.includes(RRule.MO),onChange:function onChange(checked){updateDaysOfWeek(RRule.MO,checked);},\"aria-label\":/*i18n*/i18n._(\"Monday\"),id:\"schedule-days-of-week-mon-\".concat(id),ouiaId:\"schedule-days-of-week-mon-\".concat(id),name:\"\".concat(prefix,\".daysOfWeek\")}),/*#__PURE__*/_jsx(Checkbox,{label:/*i18n*/i18n._(\"Tue\"),isChecked:(_daysOfWeek$value3=daysOfWeek.value)===null||_daysOfWeek$value3===void 0?void 0:_daysOfWeek$value3.includes(RRule.TU),onChange:function onChange(checked){updateDaysOfWeek(RRule.TU,checked);},\"aria-label\":/*i18n*/i18n._(\"Tuesday\"),id:\"schedule-days-of-week-tue-\".concat(id),ouiaId:\"schedule-days-of-week-tue-\".concat(id),name:\"\".concat(prefix,\".daysOfWeek\")}),/*#__PURE__*/_jsx(Checkbox,{label:/*i18n*/i18n._(\"Wed\"),isChecked:(_daysOfWeek$value4=daysOfWeek.value)===null||_daysOfWeek$value4===void 0?void 0:_daysOfWeek$value4.includes(RRule.WE),onChange:function onChange(checked){updateDaysOfWeek(RRule.WE,checked);},\"aria-label\":/*i18n*/i18n._(\"Wednesday\"),id:\"schedule-days-of-week-wed-\".concat(id),ouiaId:\"schedule-days-of-week-wed-\".concat(id),name:\"\".concat(prefix,\".daysOfWeek\")}),/*#__PURE__*/_jsx(Checkbox,{label:/*i18n*/i18n._(\"Thu\"),isChecked:(_daysOfWeek$value5=daysOfWeek.value)===null||_daysOfWeek$value5===void 0?void 0:_daysOfWeek$value5.includes(RRule.TH),onChange:function onChange(checked){updateDaysOfWeek(RRule.TH,checked);},\"aria-label\":/*i18n*/i18n._(\"Thursday\"),id:\"schedule-days-of-week-thu-\".concat(id),ouiaId:\"schedule-days-of-week-thu-\".concat(id),name:\"\".concat(prefix,\".daysOfWeek\")}),/*#__PURE__*/_jsx(Checkbox,{label:/*i18n*/i18n._(\"Fri\"),isChecked:(_daysOfWeek$value6=daysOfWeek.value)===null||_daysOfWeek$value6===void 0?void 0:_daysOfWeek$value6.includes(RRule.FR),onChange:function onChange(checked){updateDaysOfWeek(RRule.FR,checked);},\"aria-label\":/*i18n*/i18n._(\"Friday\"),id:\"schedule-days-of-week-fri-\".concat(id),ouiaId:\"schedule-days-of-week-fri-\".concat(id),name:\"\".concat(prefix,\".daysOfWeek\")}),/*#__PURE__*/_jsx(Checkbox,{label:/*i18n*/i18n._(\"Sat\"),isChecked:(_daysOfWeek$value7=daysOfWeek.value)===null||_daysOfWeek$value7===void 0?void 0:_daysOfWeek$value7.includes(RRule.SA),onChange:function onChange(checked){updateDaysOfWeek(RRule.SA,checked);},\"aria-label\":/*i18n*/i18n._(\"Saturday\"),id:\"schedule-days-of-week-sat-\".concat(id),ouiaId:\"schedule-days-of-week-sat-\".concat(id),name:\"\".concat(prefix,\".daysOfWeek\")})]})}),(frequency==='month'||frequency==='year')&&!Number.isNaN(new Date(startDate.value))&&/*#__PURE__*/_jsxs(FormGroup,{name:\"\".concat(prefix,\".runOn\"),fieldId:\"schedule-run-on-\".concat(id),helperTextInvalid:runOnMeta.error,isRequired:true,validated:!runOnMeta.touched||!runOnMeta.error?'default':'error',label:/*i18n*/i18n._(\"Run on\"),children:[/*#__PURE__*/_jsx(RunOnRadio,{id:\"schedule-run-on-day-\".concat(id),name:\"\".concat(prefix,\".runOn\"),label:/*#__PURE__*/_jsxs(_StyledDiv3,{children:[frequency==='month'&&/*#__PURE__*/_jsx(_StyledSpan,{id:\"radio-schedule-run-on-day\",children:/*#__PURE__*/_jsx(Trans,{id:\"Day\"})}),frequency==='year'&&/*#__PURE__*/_jsx(_StyledAnsibleSelect,_objectSpread({id:\"schedule-run-on-day-month-\".concat(id),isDisabled:runOn.value!=='day',data:monthOptions},runOnDayMonth)),/*#__PURE__*/_jsx(TextInput,_objectSpread(_objectSpread({id:\"schedule-run-on-day-number-\".concat(id),type:\"number\",min:\"1\",max:\"31\",step:\"1\",isDisabled:runOn.value!=='day'},runOnDayNumber),{},{onChange:function onChange(value,event){runOnDayNumber.onChange(event);}}))]}),value:\"day\",isChecked:runOn.value==='day',onChange:function onChange(value,event){event.target.value='day';runOn.onChange(event);}}),/*#__PURE__*/_jsx(RunOnRadio,{id:\"schedule-run-on-the-\".concat(id),name:\"\".concat(prefix,\".runOn\"),label:/*#__PURE__*/_jsxs(_StyledDiv4,{children:[/*#__PURE__*/_jsx(_StyledSpan2,{id:\"radio-schedule-run-on-the-\".concat(id),children:/*#__PURE__*/_jsx(Trans,{id:\"The\"})}),/*#__PURE__*/_jsx(AnsibleSelect,_objectSpread({id:\"schedule-run-on-the-occurrence-\".concat(id),isDisabled:runOn.value!=='the',data:[{value:1,key:'first',label:/*i18n*/i18n._(\"First\")},{value:2,key:'second',label:/*i18n*/i18n._(\"Second\")},{value:3,key:'third',label:/*i18n*/i18n._(\"Third\")},{value:4,key:'fourth',label:/*i18n*/i18n._(\"Fourth\")},{value:5,key:'fifth',label:/*i18n*/i18n._(\"Fifth\")},{value:-1,key:'last',label:/*i18n*/i18n._(\"Last\")}]},runOnTheOccurrence)),/*#__PURE__*/_jsx(AnsibleSelect,_objectSpread({id:\"schedule-run-on-the-day-\".concat(id),isDisabled:runOn.value!=='the',data:[{value:'sunday',key:'sunday',label:/*i18n*/i18n._(\"Sunday\")},{value:'monday',key:'monday',label:/*i18n*/i18n._(\"Monday\")},{value:'tuesday',key:'tuesday',label:/*i18n*/i18n._(\"Tuesday\")},{value:'wednesday',key:'wednesday',label:/*i18n*/i18n._(\"Wednesday\")},{value:'thursday',key:'thursday',label:/*i18n*/i18n._(\"Thursday\")},{value:'friday',key:'friday',label:/*i18n*/i18n._(\"Friday\")},{value:'saturday',key:'saturday',label:/*i18n*/i18n._(\"Saturday\")},{value:'day',key:'day',label:/*i18n*/i18n._(\"Day\")},{value:'weekday',key:'weekday',label:/*i18n*/i18n._(\"Weekday\")},{value:'weekendDay',key:'weekendDay',label:/*i18n*/i18n._(\"Weekend day\")}]},runOnTheDay)),frequency==='year'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(_StyledSpan3,{id:\"of-schedule-run-on-the-month-\".concat(id),children:/*#__PURE__*/_jsx(Trans,{id:\"of\"})}),/*#__PURE__*/_jsx(AnsibleSelect,_objectSpread({id:\"schedule-run-on-the-month-\".concat(id),isDisabled:runOn.value!=='the',data:monthOptions},runOnTheMonth))]})]}),value:\"the\",isChecked:runOn.value==='the',onChange:function onChange(value,event){event.target.value='the';runOn.onChange(event);}})]}),/*#__PURE__*/_jsxs(FormGroup,{name:\"\".concat(prefix,\".end\"),fieldId:\"schedule-end-\".concat(id),helperTextInvalid:endMeta.error,isRequired:true,validated:!endMeta.touched||!endMeta.error?'default':'error',label:/*i18n*/i18n._(\"End\"),children:[/*#__PURE__*/_jsx(Radio,{id:\"end-never-\".concat(id),name:\"\".concat(prefix,\".end\"),label:/*i18n*/i18n._(\"Never\"),value:\"never\",isChecked:end.value==='never',onChange:function onChange(value,event){event.target.value='never';end.onChange(event);},ouiaId:\"end-never-radio-button-\".concat(id)}),/*#__PURE__*/_jsx(Radio,{id:\"end-after-\".concat(id),name:\"\".concat(prefix,\".end\"),label:/*i18n*/i18n._(\"After number of occurrences\"),value:\"after\",isChecked:end.value==='after',onChange:function onChange(value,event){event.target.value='after';end.onChange(event);},ouiaId:\"end-after-radio-button-\".concat(id)}),/*#__PURE__*/_jsx(Radio,{id:\"end-on-date-\".concat(id),name:\"\".concat(prefix,\".end\"),label:/*i18n*/i18n._(\"On date\"),value:\"onDate\",isChecked:end.value==='onDate',onChange:function onChange(value,event){event.target.value='onDate';end.onChange(event);},ouiaId:\"end-on-radio-button-\".concat(id)})]}),(end===null||end===void 0?void 0:end.value)==='after'&&/*#__PURE__*/_jsx(FormField,{id:\"schedule-occurrences-\".concat(id),label:/*i18n*/i18n._(\"Occurrences\"),name:\"\".concat(prefix,\".occurrences\"),type:\"number\",min:\"1\",step:\"1\",isRequired:true}),(end===null||end===void 0?void 0:end.value)==='onDate'&&/*#__PURE__*/_jsx(DateTimePicker,{dateFieldName:\"\".concat(prefix,\".endDate\"),timeFieldName:\"\".concat(prefix,\".endTime\"),label:/*i18n*/i18n._(\"End date/time\")})]});};export default FrequencyDetailSubform;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/components/Schedule/shared/FrequencyDetailSubform.js"],"names":["React","styled","useField","RRule","Checkbox","_Checkbox","FormGroup","Radio","TextInput","required","requiredPositiveInteger","AnsibleSelect","FormField","DateTimePicker","RunOnRadio","RunEveryLabel","p","FrequencyDetailSubform","frequency","prefix","id","replace","name","runOnDayMonth","runOnDayNumber","runOnTheOccurrence","runOnTheDay","runOnTheMonth","startDate","validate","val","length","undefined","daysOfWeek","daysOfWeekMeta","daysOfWeekHelpers","end","endMeta","interval","intervalMeta","runOn","runOnMeta","monthOptions","key","value","label","updateDaysOfWeek","day","checked","newDaysOfWeek","setTouched","push","setValue","filter","selectedDay","getPeriodLabel","Error","getRunEveryLabel","intervalValue","error","touched","event","onChange","includes","SU","MO","TU","WE","TH","FR","SA","Number","isNaN","Date","target"],"mappings":"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","sourcesContent":["import 'styled-components/macro';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { useField } from 'formik';\n\nimport { t, Trans, Plural } from '@lingui/macro';\nimport { RRule } from 'rrule';\nimport {\n  Checkbox as _Checkbox,\n  FormGroup,\n  Radio,\n  TextInput,\n} from '@patternfly/react-core';\nimport { required, requiredPositiveInteger } from 'util/validators';\nimport AnsibleSelect from '../../AnsibleSelect';\nimport FormField from '../../FormField';\nimport DateTimePicker from './DateTimePicker';\n\nconst RunOnRadio = styled(Radio)`\n  display: flex;\n  align-items: center;\n\n  label {\n    display: block;\n    width: 100%;\n  }\n\n  :not(:last-of-type) {\n    margin-bottom: 10px;\n  }\n\n  select:not(:first-of-type) {\n    margin-left: 10px;\n  }\n`;\n\nconst RunEveryLabel = styled.p`\n  display: flex;\n  align-items: center;\n`;\n\nconst Checkbox = styled(_Checkbox)`\n  :not(:last-of-type) {\n    margin-right: 10px;\n  }\n`;\n\nconst FrequencyDetailSubform = ({ frequency, prefix }) => {\n  const id = prefix.replace('.', '-');\n  const [runOnDayMonth] = useField({\n    name: `${prefix}.runOnDayMonth`,\n  });\n  const [runOnDayNumber] = useField({\n    name: `${prefix}.runOnDayNumber`,\n  });\n  const [runOnTheOccurrence] = useField({\n    name: `${prefix}.runOnTheOccurrence`,\n  });\n  const [runOnTheDay] = useField({\n    name: `${prefix}.runOnTheDay`,\n  });\n  const [runOnTheMonth] = useField({\n    name: `${prefix}.runOnTheMonth`,\n  });\n  const [startDate] = useField(`${prefix}.startDate`);\n\n  const [daysOfWeek, daysOfWeekMeta, daysOfWeekHelpers] = useField({\n    name: `${prefix}.daysOfWeek`,\n    validate: (val) => {\n      if (frequency === 'week') {\n        return required(t`Select a value for this field`)(val?.length > 0);\n      }\n      return undefined;\n    },\n  });\n  const [end, endMeta] = useField({\n    name: `${prefix}.end`,\n    validate: required(t`Select a value for this field`),\n  });\n  const [interval, intervalMeta] = useField({\n    name: `${prefix}.interval`,\n    validate: requiredPositiveInteger(),\n  });\n  const [runOn, runOnMeta] = useField({\n    name: `${prefix}.runOn`,\n    validate: (val) => {\n      if (frequency === 'month' || frequency === 'year') {\n        return required(t`Select a value for this field`)(val);\n      }\n      return undefined;\n    },\n  });\n\n  const monthOptions = [\n    {\n      key: 'january',\n      value: 1,\n      label: t`January`,\n    },\n    {\n      key: 'february',\n      value: 2,\n      label: t`February`,\n    },\n    {\n      key: 'march',\n      value: 3,\n      label: t`March`,\n    },\n    {\n      key: 'april',\n      value: 4,\n      label: t`April`,\n    },\n    {\n      key: 'may',\n      value: 5,\n      label: t`May`,\n    },\n    {\n      key: 'june',\n      value: 6,\n      label: t`June`,\n    },\n    {\n      key: 'july',\n      value: 7,\n      label: t`July`,\n    },\n    {\n      key: 'august',\n      value: 8,\n      label: t`August`,\n    },\n    {\n      key: 'september',\n      value: 9,\n      label: t`September`,\n    },\n    {\n      key: 'october',\n      value: 10,\n      label: t`October`,\n    },\n    {\n      key: 'november',\n      value: 11,\n      label: t`November`,\n    },\n    {\n      key: 'december',\n      value: 12,\n      label: t`December`,\n    },\n  ];\n\n  const updateDaysOfWeek = (day, checked) => {\n    const newDaysOfWeek = daysOfWeek.value ? [...daysOfWeek.value] : [];\n    daysOfWeekHelpers.setTouched(true);\n    if (checked) {\n      newDaysOfWeek.push(day);\n      daysOfWeekHelpers.setValue(newDaysOfWeek);\n    } else {\n      daysOfWeekHelpers.setValue(\n        newDaysOfWeek.filter((selectedDay) => selectedDay !== day)\n      );\n    }\n  };\n\n  const getPeriodLabel = () => {\n    switch (frequency) {\n      case 'minute':\n        return t`Minute`;\n      case 'hour':\n        return t`Hour`;\n      case 'day':\n        return t`Day`;\n      case 'week':\n        return t`Week`;\n      case 'month':\n        return t`Month`;\n      case 'year':\n        return t`Year`;\n      default:\n        throw new Error(t`Frequency did not match an expected value`);\n    }\n  };\n\n  const getRunEveryLabel = () => {\n    const intervalValue = interval.value;\n\n    switch (frequency) {\n      case 'minute':\n        return <Plural value={intervalValue} one=\"minute\" other=\"minutes\" />;\n      case 'hour':\n        return <Plural value={intervalValue} one=\"hour\" other=\"hours\" />;\n      case 'day':\n        return <Plural value={intervalValue} one=\"day\" other=\"days\" />;\n      case 'week':\n        return <Plural value={intervalValue} one=\"week\" other=\"weeks\" />;\n      case 'month':\n        return <Plural value={intervalValue} one=\"month\" other=\"months\" />;\n      case 'year':\n        return <Plural value={intervalValue} one=\"year\" other=\"years\" />;\n      default:\n        throw new Error(t`Frequency did not match an expected value`);\n    }\n  };\n\n  return (\n    <>\n      <p css=\"grid-column: 1/-1\">\n        <b>{getPeriodLabel()}</b>\n      </p>\n      <FormGroup\n        name={`${prefix}.interval`}\n        fieldId={`schedule-run-every-${id}`}\n        helperTextInvalid={intervalMeta.error}\n        isRequired\n        validated={\n          !intervalMeta.touched || !intervalMeta.error ? 'default' : 'error'\n        }\n        label={t`Run every`}\n      >\n        <div css=\"display: flex\">\n          <TextInput\n            css=\"margin-right: 10px;\"\n            id={`schedule-run-every-${id}`}\n            type=\"number\"\n            min=\"1\"\n            step=\"1\"\n            {...interval}\n            onChange={(value, event) => {\n              interval.onChange(event);\n            }}\n          />\n          <RunEveryLabel>{getRunEveryLabel()}</RunEveryLabel>\n        </div>\n      </FormGroup>\n      {frequency === 'week' && (\n        <FormGroup\n          name={`${prefix}.daysOfWeek`}\n          fieldId={`schedule-days-of-week-${id}`}\n          helperTextInvalid={daysOfWeekMeta.error}\n          isRequired\n          validated={\n            !daysOfWeekMeta.touched || !daysOfWeekMeta.error\n              ? 'default'\n              : 'error'\n          }\n          label={t`On days`}\n        >\n          <div css=\"display: flex\">\n            <Checkbox\n              label={t`Sun`}\n              isChecked={daysOfWeek.value?.includes(RRule.SU)}\n              onChange={(checked) => {\n                updateDaysOfWeek(RRule.SU, checked);\n              }}\n              aria-label={t`Sunday`}\n              id={`schedule-days-of-week-sun-${id}`}\n              ouiaId={`schedule-days-of-week-sun-${id}`}\n              name={`${prefix}.daysOfWeek`}\n            />\n            <Checkbox\n              label={t`Mon`}\n              isChecked={daysOfWeek.value?.includes(RRule.MO)}\n              onChange={(checked) => {\n                updateDaysOfWeek(RRule.MO, checked);\n              }}\n              aria-label={t`Monday`}\n              id={`schedule-days-of-week-mon-${id}`}\n              ouiaId={`schedule-days-of-week-mon-${id}`}\n              name={`${prefix}.daysOfWeek`}\n            />\n            <Checkbox\n              label={t`Tue`}\n              isChecked={daysOfWeek.value?.includes(RRule.TU)}\n              onChange={(checked) => {\n                updateDaysOfWeek(RRule.TU, checked);\n              }}\n              aria-label={t`Tuesday`}\n              id={`schedule-days-of-week-tue-${id}`}\n              ouiaId={`schedule-days-of-week-tue-${id}`}\n              name={`${prefix}.daysOfWeek`}\n            />\n            <Checkbox\n              label={t`Wed`}\n              isChecked={daysOfWeek.value?.includes(RRule.WE)}\n              onChange={(checked) => {\n                updateDaysOfWeek(RRule.WE, checked);\n              }}\n              aria-label={t`Wednesday`}\n              id={`schedule-days-of-week-wed-${id}`}\n              ouiaId={`schedule-days-of-week-wed-${id}`}\n              name={`${prefix}.daysOfWeek`}\n            />\n            <Checkbox\n              label={t`Thu`}\n              isChecked={daysOfWeek.value?.includes(RRule.TH)}\n              onChange={(checked) => {\n                updateDaysOfWeek(RRule.TH, checked);\n              }}\n              aria-label={t`Thursday`}\n              id={`schedule-days-of-week-thu-${id}`}\n              ouiaId={`schedule-days-of-week-thu-${id}`}\n              name={`${prefix}.daysOfWeek`}\n            />\n            <Checkbox\n              label={t`Fri`}\n              isChecked={daysOfWeek.value?.includes(RRule.FR)}\n              onChange={(checked) => {\n                updateDaysOfWeek(RRule.FR, checked);\n              }}\n              aria-label={t`Friday`}\n              id={`schedule-days-of-week-fri-${id}`}\n              ouiaId={`schedule-days-of-week-fri-${id}`}\n              name={`${prefix}.daysOfWeek`}\n            />\n            <Checkbox\n              label={t`Sat`}\n              isChecked={daysOfWeek.value?.includes(RRule.SA)}\n              onChange={(checked) => {\n                updateDaysOfWeek(RRule.SA, checked);\n              }}\n              aria-label={t`Saturday`}\n              id={`schedule-days-of-week-sat-${id}`}\n              ouiaId={`schedule-days-of-week-sat-${id}`}\n              name={`${prefix}.daysOfWeek`}\n            />\n          </div>\n        </FormGroup>\n      )}\n      {(frequency === 'month' || frequency === 'year') &&\n        !Number.isNaN(new Date(startDate.value)) && (\n          <FormGroup\n            name={`${prefix}.runOn`}\n            fieldId={`schedule-run-on-${id}`}\n            helperTextInvalid={runOnMeta.error}\n            isRequired\n            validated={\n              !runOnMeta.touched || !runOnMeta.error ? 'default' : 'error'\n            }\n            label={t`Run on`}\n          >\n            <RunOnRadio\n              id={`schedule-run-on-day-${id}`}\n              name={`${prefix}.runOn`}\n              label={\n                <div css=\"display: flex;align-items: center;\">\n                  {frequency === 'month' && (\n                    <span\n                      id=\"radio-schedule-run-on-day\"\n                      css=\"margin-right: 10px;\"\n                    >\n                      <Trans>Day</Trans>\n                    </span>\n                  )}\n                  {frequency === 'year' && (\n                    <AnsibleSelect\n                      id={`schedule-run-on-day-month-${id}`}\n                      css=\"margin-right: 10px\"\n                      isDisabled={runOn.value !== 'day'}\n                      data={monthOptions}\n                      {...runOnDayMonth}\n                    />\n                  )}\n                  <TextInput\n                    id={`schedule-run-on-day-number-${id}`}\n                    type=\"number\"\n                    min=\"1\"\n                    max=\"31\"\n                    step=\"1\"\n                    isDisabled={runOn.value !== 'day'}\n                    {...runOnDayNumber}\n                    onChange={(value, event) => {\n                      runOnDayNumber.onChange(event);\n                    }}\n                  />\n                </div>\n              }\n              value=\"day\"\n              isChecked={runOn.value === 'day'}\n              onChange={(value, event) => {\n                event.target.value = 'day';\n                runOn.onChange(event);\n              }}\n            />\n            <RunOnRadio\n              id={`schedule-run-on-the-${id}`}\n              name={`${prefix}.runOn`}\n              label={\n                <div css=\"display: flex;align-items: center;\">\n                  <span\n                    id={`radio-schedule-run-on-the-${id}`}\n                    css=\"margin-right: 10px;\"\n                  >\n                    <Trans>The</Trans>\n                  </span>\n                  <AnsibleSelect\n                    id={`schedule-run-on-the-occurrence-${id}`}\n                    isDisabled={runOn.value !== 'the'}\n                    data={[\n                      { value: 1, key: 'first', label: t`First` },\n                      {\n                        value: 2,\n                        key: 'second',\n                        label: t`Second`,\n                      },\n                      { value: 3, key: 'third', label: t`Third` },\n                      {\n                        value: 4,\n                        key: 'fourth',\n                        label: t`Fourth`,\n                      },\n                      { value: 5, key: 'fifth', label: t`Fifth` },\n                      { value: -1, key: 'last', label: t`Last` },\n                    ]}\n                    {...runOnTheOccurrence}\n                  />\n                  <AnsibleSelect\n                    id={`schedule-run-on-the-day-${id}`}\n                    isDisabled={runOn.value !== 'the'}\n                    data={[\n                      {\n                        value: 'sunday',\n                        key: 'sunday',\n                        label: t`Sunday`,\n                      },\n                      {\n                        value: 'monday',\n                        key: 'monday',\n                        label: t`Monday`,\n                      },\n                      {\n                        value: 'tuesday',\n                        key: 'tuesday',\n                        label: t`Tuesday`,\n                      },\n                      {\n                        value: 'wednesday',\n                        key: 'wednesday',\n                        label: t`Wednesday`,\n                      },\n                      {\n                        value: 'thursday',\n                        key: 'thursday',\n                        label: t`Thursday`,\n                      },\n                      {\n                        value: 'friday',\n                        key: 'friday',\n                        label: t`Friday`,\n                      },\n                      {\n                        value: 'saturday',\n                        key: 'saturday',\n                        label: t`Saturday`,\n                      },\n                      { value: 'day', key: 'day', label: t`Day` },\n                      {\n                        value: 'weekday',\n                        key: 'weekday',\n                        label: t`Weekday`,\n                      },\n                      {\n                        value: 'weekendDay',\n                        key: 'weekendDay',\n                        label: t`Weekend day`,\n                      },\n                    ]}\n                    {...runOnTheDay}\n                  />\n                  {frequency === 'year' && (\n                    <>\n                      <span\n                        id={`of-schedule-run-on-the-month-${id}`}\n                        css=\"margin-left: 10px;\"\n                      >\n                        <Trans>of</Trans>\n                      </span>\n                      <AnsibleSelect\n                        id={`schedule-run-on-the-month-${id}`}\n                        isDisabled={runOn.value !== 'the'}\n                        data={monthOptions}\n                        {...runOnTheMonth}\n                      />\n                    </>\n                  )}\n                </div>\n              }\n              value=\"the\"\n              isChecked={runOn.value === 'the'}\n              onChange={(value, event) => {\n                event.target.value = 'the';\n                runOn.onChange(event);\n              }}\n            />\n          </FormGroup>\n        )}\n      <FormGroup\n        name={`${prefix}.end`}\n        fieldId={`schedule-end-${id}`}\n        helperTextInvalid={endMeta.error}\n        isRequired\n        validated={!endMeta.touched || !endMeta.error ? 'default' : 'error'}\n        label={t`End`}\n      >\n        <Radio\n          id={`end-never-${id}`}\n          name={`${prefix}.end`}\n          label={t`Never`}\n          value=\"never\"\n          isChecked={end.value === 'never'}\n          onChange={(value, event) => {\n            event.target.value = 'never';\n            end.onChange(event);\n          }}\n          ouiaId={`end-never-radio-button-${id}`}\n        />\n        <Radio\n          id={`end-after-${id}`}\n          name={`${prefix}.end`}\n          label={t`After number of occurrences`}\n          value=\"after\"\n          isChecked={end.value === 'after'}\n          onChange={(value, event) => {\n            event.target.value = 'after';\n            end.onChange(event);\n          }}\n          ouiaId={`end-after-radio-button-${id}`}\n        />\n        <Radio\n          id={`end-on-date-${id}`}\n          name={`${prefix}.end`}\n          label={t`On date`}\n          value=\"onDate\"\n          isChecked={end.value === 'onDate'}\n          onChange={(value, event) => {\n            event.target.value = 'onDate';\n            end.onChange(event);\n          }}\n          ouiaId={`end-on-radio-button-${id}`}\n        />\n      </FormGroup>\n      {end?.value === 'after' && (\n        <FormField\n          id={`schedule-occurrences-${id}`}\n          label={t`Occurrences`}\n          name={`${prefix}.occurrences`}\n          type=\"number\"\n          min=\"1\"\n          step=\"1\"\n          isRequired\n        />\n      )}\n      {end?.value === 'onDate' && (\n        <DateTimePicker\n          dateFieldName={`${prefix}.endDate`}\n          timeFieldName={`${prefix}.endTime`}\n          label={t`End date/time`}\n        />\n      )}\n    </>\n  );\n};\n\nexport default FrequencyDetailSubform;\n"]},"metadata":{},"sourceType":"module"}