{"ast":null,"code":"import _defineProperty from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{i18n}from\"@lingui/core\";import React,{useState,useCallback}from'react';import{Route,useRouteMatch,Switch}from'react-router-dom';import ScreenHeader from'components/ScreenHeader/ScreenHeader';import PersistentFilters from'components/PersistentFilters';import{Config}from'contexts/Config';import UsersList from'./UserList/UserList';import UserAdd from'./UserAdd/UserAdd';import User from'./User';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Users(){var _useState=useState({'/users':/*i18n*/i18n._(\"Users\"),'/users/add':/*i18n*/i18n._(\"Create New User\")}),_useState2=_slicedToArray(_useState,2),breadcrumbConfig=_useState2[0],setBreadcrumbConfig=_useState2[1];var match=useRouteMatch();var addUserBreadcrumb=useCallback(function(user,token){var _setBreadcrumbConfig;if(!user){return;}setBreadcrumbConfig((_setBreadcrumbConfig={'/users':/*i18n*/i18n._(\"Users\"),'/users/add':/*i18n*/i18n._(\"Create New User\")},_defineProperty(_setBreadcrumbConfig,\"/users/\".concat(user.id),\"\".concat(user.username)),_defineProperty(_setBreadcrumbConfig,\"/users/\".concat(user.id,\"/edit\"),/*i18n*/i18n._(\"Edit Details\")),_defineProperty(_setBreadcrumbConfig,\"/users/\".concat(user.id,\"/details\"),/*i18n*/i18n._(\"Details\")),_defineProperty(_setBreadcrumbConfig,\"/users/\".concat(user.id,\"/roles\"),/*i18n*/i18n._(\"Roles\")),_defineProperty(_setBreadcrumbConfig,\"/users/\".concat(user.id,\"/teams\"),/*i18n*/i18n._(\"Teams\")),_defineProperty(_setBreadcrumbConfig,\"/users/\".concat(user.id,\"/organizations\"),/*i18n*/i18n._(\"Organizations\")),_defineProperty(_setBreadcrumbConfig,\"/users/\".concat(user.id,\"/tokens\"),/*i18n*/i18n._(\"Tokens\")),_defineProperty(_setBreadcrumbConfig,\"/users/\".concat(user.id,\"/tokens/add\"),/*i18n*/i18n._(\"Create user token\")),_defineProperty(_setBreadcrumbConfig,\"/users/\".concat(user.id,\"/tokens/\").concat(token&&token.id,\"/details\"),/*i18n*/i18n._(\"Details\")),_setBreadcrumbConfig));},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ScreenHeader,{streamType:\"user\",breadcrumbConfig:breadcrumbConfig}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"\".concat(match.path,\"/add\"),children:/*#__PURE__*/_jsx(UserAdd,{})}),/*#__PURE__*/_jsx(Route,{path:\"\".concat(match.path,\"/:id\"),children:/*#__PURE__*/_jsx(Config,{children:function children(_ref){var me=_ref.me;return/*#__PURE__*/_jsx(User,{setBreadcrumb:addUserBreadcrumb,me:me||{}});}})}),/*#__PURE__*/_jsx(Route,{path:\"\".concat(match.path),children:/*#__PURE__*/_jsx(PersistentFilters,{pageKey:\"users\",children:/*#__PURE__*/_jsx(UsersList,{})})})]})]});}export{Users as _Users};export default Users;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/User/Users.js"],"names":["React","useState","useCallback","Route","useRouteMatch","Switch","ScreenHeader","PersistentFilters","Config","UsersList","UserAdd","User","Users","breadcrumbConfig","setBreadcrumbConfig","match","addUserBreadcrumb","user","token","id","username","path","me","_Users"],"mappings":"+OAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,WAA1B,KAA6C,OAA7C,CACA,OAASC,KAAT,CAAgBC,aAAhB,CAA+BC,MAA/B,KAA6C,kBAA7C,CAIA,MAAOC,CAAAA,YAAP,KAAyB,sCAAzB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,8BAA9B,CACA,OAASC,MAAT,KAAuB,iBAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,qBAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,C,6IAEA,QAASC,CAAAA,KAAT,EAAiB,CACf,cAAgDX,QAAQ,CAAC,CACvD,iBAAU,eAD6C,CAEvD,qBAAc,yBAFyC,CAAD,CAAxD,wCAAOY,gBAAP,eAAyBC,mBAAzB,eAIA,GAAMC,CAAAA,KAAK,CAAGX,aAAa,EAA3B,CAEA,GAAMY,CAAAA,iBAAiB,CAAGd,WAAW,CAAC,SAACe,IAAD,CAAOC,KAAP,CAAiB,0BACrD,GAAI,CAACD,IAAL,CAAW,CACT,OACD,CAEDH,mBAAmB,wBACjB,iBAAU,eADO,CAEjB,qBAAc,yBAFG,wDAGNG,IAAI,CAACE,EAHC,YAGSF,IAAI,CAACG,QAHd,yDAINH,IAAI,CAACE,EAJC,kBAIW,sBAJX,wDAKNF,IAAI,CAACE,EALC,qBAKc,iBALd,wDAMNF,IAAI,CAACE,EANC,mBAMY,eANZ,wDAONF,IAAI,CAACE,EAPC,mBAOY,eAPZ,wDAQNF,IAAI,CAACE,EARC,2BAQoB,uBARpB,wDASNF,IAAI,CAACE,EATC,oBASa,gBATb,wDAUNF,IAAI,CAACE,EAVC,wBAUiB,2BAVjB,wDAWNF,IAAI,CAACE,EAXC,oBAWYD,KAAK,EAAIA,KAAK,CAACC,EAX3B,qBAW0C,iBAX1C,wBAAnB,CAaD,CAlBoC,CAkBlC,EAlBkC,CAArC,CAmBA,mBACE,wCACE,KAAC,YAAD,EAAc,UAAU,CAAC,MAAzB,CAAgC,gBAAgB,CAAEN,gBAAlD,EADF,cAEE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,WAAKE,KAAK,CAACM,IAAX,QAAX,uBACE,KAAC,OAAD,IADF,EADF,cAIE,KAAC,KAAD,EAAO,IAAI,WAAKN,KAAK,CAACM,IAAX,QAAX,uBACE,KAAC,MAAD,WACG,2BAAGC,CAAAA,EAAH,MAAGA,EAAH,oBACC,KAAC,IAAD,EAAM,aAAa,CAAEN,iBAArB,CAAwC,EAAE,CAAEM,EAAE,EAAI,EAAlD,EADD,EADH,EADF,EAJF,cAWE,KAAC,KAAD,EAAO,IAAI,WAAKP,KAAK,CAACM,IAAX,CAAX,uBACE,KAAC,iBAAD,EAAmB,OAAO,CAAC,OAA3B,uBACE,KAAC,SAAD,IADF,EADF,EAXF,GAFF,GADF,CAsBD,CAED,OAAST,KAAK,GAAIW,CAAAA,MAAlB,EACA,cAAeX,CAAAA,KAAf","sourcesContent":["import React, { useState, useCallback } from 'react';\nimport { Route, useRouteMatch, Switch } from 'react-router-dom';\n\nimport { t } from '@lingui/macro';\n\nimport ScreenHeader from 'components/ScreenHeader/ScreenHeader';\nimport PersistentFilters from 'components/PersistentFilters';\nimport { Config } from 'contexts/Config';\nimport UsersList from './UserList/UserList';\nimport UserAdd from './UserAdd/UserAdd';\nimport User from './User';\n\nfunction Users() {\n  const [breadcrumbConfig, setBreadcrumbConfig] = useState({\n    '/users': t`Users`,\n    '/users/add': t`Create New User`,\n  });\n  const match = useRouteMatch();\n\n  const addUserBreadcrumb = useCallback((user, token) => {\n    if (!user) {\n      return;\n    }\n\n    setBreadcrumbConfig({\n      '/users': t`Users`,\n      '/users/add': t`Create New User`,\n      [`/users/${user.id}`]: `${user.username}`,\n      [`/users/${user.id}/edit`]: t`Edit Details`,\n      [`/users/${user.id}/details`]: t`Details`,\n      [`/users/${user.id}/roles`]: t`Roles`,\n      [`/users/${user.id}/teams`]: t`Teams`,\n      [`/users/${user.id}/organizations`]: t`Organizations`,\n      [`/users/${user.id}/tokens`]: t`Tokens`,\n      [`/users/${user.id}/tokens/add`]: t`Create user token`,\n      [`/users/${user.id}/tokens/${token && token.id}/details`]: t`Details`,\n    });\n  }, []);\n  return (\n    <>\n      <ScreenHeader streamType=\"user\" breadcrumbConfig={breadcrumbConfig} />\n      <Switch>\n        <Route path={`${match.path}/add`}>\n          <UserAdd />\n        </Route>\n        <Route path={`${match.path}/:id`}>\n          <Config>\n            {({ me }) => (\n              <User setBreadcrumb={addUserBreadcrumb} me={me || {}} />\n            )}\n          </Config>\n        </Route>\n        <Route path={`${match.path}`}>\n          <PersistentFilters pageKey=\"users\">\n            <UsersList />\n          </PersistentFilters>\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nexport { Users as _Users };\nexport default Users;\n"]},"metadata":{},"sourceType":"module"}