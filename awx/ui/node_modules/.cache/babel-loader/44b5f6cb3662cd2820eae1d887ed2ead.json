{"ast":null,"code":"import _styled from\"styled-components\";import React from'react';import{useLocation,useHistory}from'react-router-dom';import{Thead,Tr,Th as PFTh}from'@patternfly/react-table';import styled from'styled-components';import{parseQueryString,updateQueryString}from'util/qs';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Th=styled(PFTh).withConfig({displayName:\"HeaderRow__Th\",componentId:\"zpwcqq-0\"})([\"--pf-c-table--cell--Overflow:initial;--pf-c-table--cell--MaxWidth:none;\"]);var _StyledTh=styled(Th).withConfig({displayName:\"HeaderRow___StyledTh\",componentId:\"zpwcqq-1\"})([\"\",\"\"],function(p){return p._css;});export default function HeaderRow(_ref){var _params$order_by,_qsConfig$defaultPara,_params$order_by2;var qsConfig=_ref.qsConfig,isExpandable=_ref.isExpandable,isSelectable=_ref.isSelectable,children=_ref.children;var location=useLocation();var history=useHistory();var params=parseQueryString(qsConfig,location.search);var onSort=function onSort(key,order){var qs=updateQueryString(qsConfig,location.search,{order_by:order==='asc'?key:\"-\".concat(key),page:null});history.push(qs?\"\".concat(location.pathname,\"?\").concat(qs):location.pathname);};var sortKey=(_params$order_by=params.order_by)===null||_params$order_by===void 0?void 0:_params$order_by.replace('-','');var sortBy={index:sortKey||((_qsConfig$defaultPara=qsConfig.defaultParams)===null||_qsConfig$defaultPara===void 0?void 0:_qsConfig$defaultPara.order_by),direction:(_params$order_by2=params.order_by)!==null&&_params$order_by2!==void 0&&_params$order_by2.startsWith('-')?'desc':'asc'};var idPrefix=\"\".concat(qsConfig.namespace,\"-table-sort\");// empty first Th aligns with checkboxes in table rows\nreturn/*#__PURE__*/_jsx(Thead,{children:/*#__PURE__*/_jsxs(Tr,{ouiaId:\"paginated-table-header-row\",children:[isExpandable&&/*#__PURE__*/_jsx(Th,{}),isSelectable&&/*#__PURE__*/_jsx(Th,{}),React.Children.map(children,function(child){return child&&/*#__PURE__*/React.cloneElement(child,{onSort:onSort,sortBy:sortBy,columnIndex:child.props.sortKey,idPrefix:idPrefix});})]})});}HeaderRow.defaultProps={isSelectable:true};export function HeaderCell(_ref2){var sortKey=_ref2.sortKey,_onSort=_ref2.onSort,sortBy=_ref2.sortBy,columnIndex=_ref2.columnIndex,idPrefix=_ref2.idPrefix,className=_ref2.className,children=_ref2.children,tooltip=_ref2.tooltip;var sort=sortKey?{onSort:function onSort(event,key,order){return _onSort(sortKey,order);},sortBy:sortBy,columnIndex:columnIndex}:null;return/*#__PURE__*/_jsx(_StyledTh,{info:tooltip&&{popover:/*#__PURE__*/_jsx(\"div\",{children:tooltip})},id:sortKey?\"\".concat(idPrefix,\"-\").concat(sortKey):null,className:className,sort:sort,_css:children==='Actions'?'text-align: right':null,children:children});}","map":{"version":3,"sources":["/awx_devel/awx/ui/src/components/PaginatedTable/HeaderRow.js"],"names":["React","useLocation","useHistory","Thead","Tr","Th","PFTh","styled","parseQueryString","updateQueryString","HeaderRow","qsConfig","isExpandable","isSelectable","children","location","history","params","search","onSort","key","order","qs","order_by","page","push","pathname","sortKey","replace","sortBy","index","defaultParams","direction","startsWith","idPrefix","namespace","Children","map","child","cloneElement","columnIndex","props","defaultProps","HeaderCell","className","tooltip","sort","event","popover"],"mappings":"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","sourcesContent":["import 'styled-components/macro';\nimport React from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { Thead, Tr, Th as PFTh } from '@patternfly/react-table';\nimport styled from 'styled-components';\nimport { parseQueryString, updateQueryString } from 'util/qs';\n\nconst Th = styled(PFTh)`\n  --pf-c-table--cell--Overflow: initial;\n  --pf-c-table--cell--MaxWidth: none;\n`;\n\nexport default function HeaderRow({\n  qsConfig,\n  isExpandable,\n  isSelectable,\n  children,\n}) {\n  const location = useLocation();\n  const history = useHistory();\n\n  const params = parseQueryString(qsConfig, location.search);\n\n  const onSort = (key, order) => {\n    const qs = updateQueryString(qsConfig, location.search, {\n      order_by: order === 'asc' ? key : `-${key}`,\n      page: null,\n    });\n    history.push(qs ? `${location.pathname}?${qs}` : location.pathname);\n  };\n\n  const sortKey = params.order_by?.replace('-', '');\n  const sortBy = {\n    index: sortKey || qsConfig.defaultParams?.order_by,\n    direction: params.order_by?.startsWith('-') ? 'desc' : 'asc',\n  };\n  const idPrefix = `${qsConfig.namespace}-table-sort`;\n\n  // empty first Th aligns with checkboxes in table rows\n  return (\n    <Thead>\n      <Tr ouiaId=\"paginated-table-header-row\">\n        {isExpandable && <Th />}\n        {isSelectable && <Th />}\n        {React.Children.map(\n          children,\n          (child) =>\n            child &&\n            React.cloneElement(child, {\n              onSort,\n              sortBy,\n              columnIndex: child.props.sortKey,\n              idPrefix,\n            })\n        )}\n      </Tr>\n    </Thead>\n  );\n}\n\nHeaderRow.defaultProps = {\n  isSelectable: true,\n};\n\nexport function HeaderCell({\n  sortKey,\n  onSort,\n  sortBy,\n  columnIndex,\n  idPrefix,\n  className,\n  children,\n  tooltip,\n}) {\n  const sort = sortKey\n    ? {\n        onSort: (event, key, order) => onSort(sortKey, order),\n        sortBy,\n        columnIndex,\n      }\n    : null;\n  return (\n    <Th\n      info={\n        tooltip && {\n          popover: <div>{tooltip}</div>,\n        }\n      }\n      id={sortKey ? `${idPrefix}-${sortKey}` : null}\n      className={className}\n      sort={sort}\n      css={children === 'Actions' ? 'text-align: right' : null}\n    >\n      {children}\n    </Th>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}