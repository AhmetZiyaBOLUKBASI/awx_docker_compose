{"ast":null,"code":"import _taggedTemplateLiteral from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import React from'react';import{Tab as PFTab,Tabs as PFTabs,TabTitleText}from'@patternfly/react-core';import{useHistory,useLocation}from'react-router-dom';import styled from'styled-components';import{jsx as _jsx}from\"react/jsx-runtime\";var Tabs=styled(PFTabs)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  & > ul {\\n    flex-grow: 1;\\n  }\\n\"])));var Tab=styled(PFTab)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  \",\"\\n\"])),function(props){return props.hasstyle&&\"\".concat(props.hasstyle);});function RoutedTabs(_ref){var tabsArray=_ref.tabsArray;var history=useHistory();var location=useLocation();var getActiveTabId=function getActiveTabId(){var match=tabsArray.find(function(tab){return tab.link===location.pathname;});if(match){return match.id;}var subpathMatch=tabsArray.find(function(tab){return location.pathname.startsWith(tab.link);});if(subpathMatch){return subpathMatch.id;}return 0;};var handleTabSelect=function handleTabSelect(event,eventKey){var match=tabsArray.find(function(tab){return tab.id===eventKey;});if(match){event.preventDefault();var link=match.isBackButton?\"\".concat(match.link,\"?restoreFilters=true\"):match.link;history.push(link);}};return/*#__PURE__*/_jsx(Tabs,{activeKey:getActiveTabId(),onSelect:handleTabSelect,ouiaId:\"routed-tabs\",children:tabsArray.map(function(tab){return/*#__PURE__*/_jsx(Tab,{\"aria-label\":typeof tab.name==='string'?tab.name:null,eventKey:tab.id,href:!tab.hasstyle&&\"#\".concat(tab.link),title:/*#__PURE__*/_jsx(TabTitleText,{children:tab.name}),\"aria-controls\":\"\",ouiaId:\"\".concat(tab.name,\"-tab\"),hasstyle:tab.hasstyle},tab.id);})});}export default RoutedTabs;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/components/RoutedTabs/RoutedTabs.js"],"names":["React","Tab","PFTab","Tabs","PFTabs","TabTitleText","useHistory","useLocation","styled","props","hasstyle","RoutedTabs","tabsArray","history","location","getActiveTabId","match","find","tab","link","pathname","id","subpathMatch","startsWith","handleTabSelect","event","eventKey","preventDefault","isBackButton","push","map","name"],"mappings":"4JAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OACEC,GAAG,GAAIC,CAAAA,KADT,CAEEC,IAAI,GAAIC,CAAAA,MAFV,CAGEC,YAHF,KAIO,wBAJP,CAKA,OAASC,UAAT,CAAqBC,WAArB,KAAwC,kBAAxC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,C,2CAEA,GAAML,CAAAA,IAAI,CAAGK,MAAM,CAACJ,MAAD,CAAT,uGAAV,CAMA,GAAMH,CAAAA,GAAG,CAAGO,MAAM,CAACN,KAAD,CAAT,4EACL,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACC,QAAN,YAAqBD,KAAK,CAACC,QAA3B,CAAX,EADK,CAAT,CAIA,QAASC,CAAAA,UAAT,MAAmC,IAAbC,CAAAA,SAAa,MAAbA,SAAa,CACjC,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CACA,GAAMQ,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CAEA,GAAMQ,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,GAAMC,CAAAA,KAAK,CAAGJ,SAAS,CAACK,IAAV,CAAe,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,GAAaL,QAAQ,CAACM,QAA/B,EAAf,CAAd,CACA,GAAIJ,KAAJ,CAAW,CACT,MAAOA,CAAAA,KAAK,CAACK,EAAb,CACD,CACD,GAAMC,CAAAA,YAAY,CAAGV,SAAS,CAACK,IAAV,CAAe,SAACC,GAAD,QAClCJ,CAAAA,QAAQ,CAACM,QAAT,CAAkBG,UAAlB,CAA6BL,GAAG,CAACC,IAAjC,CADkC,EAAf,CAArB,CAGA,GAAIG,YAAJ,CAAkB,CAChB,MAAOA,CAAAA,YAAY,CAACD,EAApB,CACD,CACD,MAAO,EAAP,CACD,CAZD,CAcA,GAAMG,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAQC,QAAR,CAAqB,CAC3C,GAAMV,CAAAA,KAAK,CAAGJ,SAAS,CAACK,IAAV,CAAe,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACG,EAAJ,GAAWK,QAApB,EAAf,CAAd,CACA,GAAIV,KAAJ,CAAW,CACTS,KAAK,CAACE,cAAN,GACA,GAAMR,CAAAA,IAAI,CAAGH,KAAK,CAACY,YAAN,WACNZ,KAAK,CAACG,IADA,yBAETH,KAAK,CAACG,IAFV,CAGAN,OAAO,CAACgB,IAAR,CAAaV,IAAb,EACD,CACF,CATD,CAUA,mBACE,KAAC,IAAD,EACE,SAAS,CAAEJ,cAAc,EAD3B,CAEE,QAAQ,CAAES,eAFZ,CAGE,MAAM,CAAC,aAHT,UAKGZ,SAAS,CAACkB,GAAV,CAAc,SAACZ,GAAD,qBACb,KAAC,GAAD,EACE,aAAY,MAAOA,CAAAA,GAAG,CAACa,IAAX,GAAoB,QAApB,CAA+Bb,GAAG,CAACa,IAAnC,CAA0C,IADxD,CAEE,QAAQ,CAAEb,GAAG,CAACG,EAFhB,CAIE,IAAI,CAAE,CAACH,GAAG,CAACR,QAAL,aAAqBQ,GAAG,CAACC,IAAzB,CAJR,CAKE,KAAK,cAAE,KAAC,YAAD,WAAeD,GAAG,CAACa,IAAnB,EALT,CAME,gBAAc,EANhB,CAOE,MAAM,WAAKb,GAAG,CAACa,IAAT,QAPR,CAQE,QAAQ,CAAEb,GAAG,CAACR,QARhB,EAGOQ,GAAG,CAACG,EAHX,CADa,EAAd,CALH,EADF,CAoBD,CAWD,cAAeV,CAAAA,UAAf","sourcesContent":["import React from 'react';\nimport { shape, string, number, arrayOf, node, oneOfType } from 'prop-types';\nimport {\n  Tab as PFTab,\n  Tabs as PFTabs,\n  TabTitleText,\n} from '@patternfly/react-core';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\n\nconst Tabs = styled(PFTabs)`\n  & > ul {\n    flex-grow: 1;\n  }\n`;\n\nconst Tab = styled(PFTab)`\n  ${(props) => props.hasstyle && `${props.hasstyle}`}\n`;\n\nfunction RoutedTabs({ tabsArray }) {\n  const history = useHistory();\n  const location = useLocation();\n\n  const getActiveTabId = () => {\n    const match = tabsArray.find((tab) => tab.link === location.pathname);\n    if (match) {\n      return match.id;\n    }\n    const subpathMatch = tabsArray.find((tab) =>\n      location.pathname.startsWith(tab.link)\n    );\n    if (subpathMatch) {\n      return subpathMatch.id;\n    }\n    return 0;\n  };\n\n  const handleTabSelect = (event, eventKey) => {\n    const match = tabsArray.find((tab) => tab.id === eventKey);\n    if (match) {\n      event.preventDefault();\n      const link = match.isBackButton\n        ? `${match.link}?restoreFilters=true`\n        : match.link;\n      history.push(link);\n    }\n  };\n  return (\n    <Tabs\n      activeKey={getActiveTabId()}\n      onSelect={handleTabSelect}\n      ouiaId=\"routed-tabs\"\n    >\n      {tabsArray.map((tab) => (\n        <Tab\n          aria-label={typeof tab.name === 'string' ? tab.name : null}\n          eventKey={tab.id}\n          key={tab.id}\n          href={!tab.hasstyle && `#${tab.link}`}\n          title={<TabTitleText>{tab.name}</TabTitleText>}\n          aria-controls=\"\"\n          ouiaId={`${tab.name}-tab`}\n          hasstyle={tab.hasstyle}\n        />\n      ))}\n    </Tabs>\n  );\n}\n\nRoutedTabs.propTypes = {\n  tabsArray: arrayOf(\n    shape({\n      id: number.isRequired,\n      name: oneOfType([string.isRequired, node.isRequired]),\n    })\n  ).isRequired,\n};\n\nexport default RoutedTabs;\n"]},"metadata":{},"sourceType":"module"}