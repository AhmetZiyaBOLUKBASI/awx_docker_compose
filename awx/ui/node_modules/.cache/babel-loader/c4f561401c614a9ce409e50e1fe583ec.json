{"ast":null,"code":"import _defineProperty from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{i18n}from\"@lingui/core\";import React,{useState,useCallback}from'react';import{Route,withRouter,Switch}from'react-router-dom';import ScreenHeader from'components/ScreenHeader/ScreenHeader';import PersistentFilters from'components/PersistentFilters';import ProjectsList from'./ProjectList/ProjectList';import ProjectAdd from'./ProjectAdd/ProjectAdd';import Project from'./Project';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Projects(){var _useState=useState({'/projects':/*i18n*/i18n._(\"Projects\"),'/projects/add':/*i18n*/i18n._(\"Create New Project\")}),_useState2=_slicedToArray(_useState,2),breadcrumbConfig=_useState2[0],setBreadcrumbConfig=_useState2[1];var buildBreadcrumbConfig=useCallback(function(project,nested){var _setBreadcrumbConfig;if(!project){return;}var projectSchedulesPath=\"/projects/\".concat(project.id,\"/schedules\");setBreadcrumbConfig((_setBreadcrumbConfig={'/projects':/*i18n*/i18n._(\"Projects\"),'/projects/add':/*i18n*/i18n._(\"Create New Project\")},_defineProperty(_setBreadcrumbConfig,\"/projects/\".concat(project.id),\"\".concat(project.name)),_defineProperty(_setBreadcrumbConfig,\"/projects/\".concat(project.id,\"/edit\"),/*i18n*/i18n._(\"Edit Details\")),_defineProperty(_setBreadcrumbConfig,\"/projects/\".concat(project.id,\"/details\"),/*i18n*/i18n._(\"Details\")),_defineProperty(_setBreadcrumbConfig,\"/projects/\".concat(project.id,\"/access\"),/*i18n*/i18n._(\"Access\")),_defineProperty(_setBreadcrumbConfig,\"/projects/\".concat(project.id,\"/notifications\"),/*i18n*/i18n._(\"Notifications\")),_defineProperty(_setBreadcrumbConfig,\"/projects/\".concat(project.id,\"/job_templates\"),/*i18n*/i18n._(\"Job Templates\")),_defineProperty(_setBreadcrumbConfig,\"\".concat(projectSchedulesPath),/*i18n*/i18n._(\"Schedules\")),_defineProperty(_setBreadcrumbConfig,\"\".concat(projectSchedulesPath,\"/add\"),/*i18n*/i18n._(\"Create New Schedule\")),_defineProperty(_setBreadcrumbConfig,\"\".concat(projectSchedulesPath,\"/\").concat(nested===null||nested===void 0?void 0:nested.id),\"\".concat(nested===null||nested===void 0?void 0:nested.name)),_defineProperty(_setBreadcrumbConfig,\"\".concat(projectSchedulesPath,\"/\").concat(nested===null||nested===void 0?void 0:nested.id,\"/details\"),/*i18n*/i18n._(\"Schedule Details\")),_defineProperty(_setBreadcrumbConfig,\"\".concat(projectSchedulesPath,\"/\").concat(nested===null||nested===void 0?void 0:nested.id,\"/edit\"),/*i18n*/i18n._(\"Edit Details\")),_setBreadcrumbConfig));},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ScreenHeader,{streamType:\"project\",breadcrumbConfig:breadcrumbConfig}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/projects/add\",children:/*#__PURE__*/_jsx(ProjectAdd,{})}),/*#__PURE__*/_jsx(Route,{path:\"/projects/:id\",children:/*#__PURE__*/_jsx(Project,{setBreadcrumb:buildBreadcrumbConfig})}),/*#__PURE__*/_jsx(Route,{path:\"/projects\",children:/*#__PURE__*/_jsx(PersistentFilters,{pageKey:\"projects\",children:/*#__PURE__*/_jsx(ProjectsList,{})})})]})]});}export{Projects as _Projects};export default withRouter(Projects);","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/Project/Projects.js"],"names":["React","useState","useCallback","Route","withRouter","Switch","ScreenHeader","PersistentFilters","ProjectsList","ProjectAdd","Project","Projects","breadcrumbConfig","setBreadcrumbConfig","buildBreadcrumbConfig","project","nested","projectSchedulesPath","id","name","_Projects"],"mappings":"+OAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,WAA1B,KAA6C,OAA7C,CACA,OAASC,KAAT,CAAgBC,UAAhB,CAA4BC,MAA5B,KAA0C,kBAA1C,CAEA,MAAOC,CAAAA,YAAP,KAAyB,sCAAzB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,8BAA9B,CACA,MAAOC,CAAAA,YAAP,KAAyB,2BAAzB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,C,6IAEA,QAASC,CAAAA,QAAT,EAAoB,CAClB,cAAgDV,QAAQ,CAAC,CACvD,oBAAa,kBAD0C,CAEvD,wBAAiB,4BAFsC,CAAD,CAAxD,wCAAOW,gBAAP,eAAyBC,mBAAzB,eAKA,GAAMC,CAAAA,qBAAqB,CAAGZ,WAAW,CAAC,SAACa,OAAD,CAAUC,MAAV,CAAqB,0BAC7D,GAAI,CAACD,OAAL,CAAc,CACZ,OACD,CACD,GAAME,CAAAA,oBAAoB,qBAAgBF,OAAO,CAACG,EAAxB,cAA1B,CACAL,mBAAmB,wBACjB,oBAAa,kBADI,CAEjB,wBAAiB,4BAFA,2DAGHE,OAAO,CAACG,EAHL,YAGeH,OAAO,CAACI,IAHvB,4DAIHJ,OAAO,CAACG,EAJL,kBAIiB,sBAJjB,2DAKHH,OAAO,CAACG,EALL,qBAKoB,iBALpB,2DAMHH,OAAO,CAACG,EANL,oBAMmB,gBANnB,2DAOHH,OAAO,CAACG,EAPL,2BAO0B,uBAP1B,2DAQHH,OAAO,CAACG,EARL,2BAQ0B,uBAR1B,iDAUbD,oBAVa,UAUY,mBAVZ,iDAWbA,oBAXa,iBAWgB,6BAXhB,iDAYbA,oBAZa,aAYWD,MAZX,SAYWA,MAZX,iBAYWA,MAAM,CAAEE,EAZnB,YAY6BF,MAZ7B,SAY6BA,MAZ7B,iBAY6BA,MAAM,CAAEG,IAZrC,kDAabF,oBAba,aAaWD,MAbX,SAaWA,MAbX,iBAaWA,MAAM,CAAEE,EAbnB,qBAakC,0BAblC,iDAcbD,oBAda,aAcWD,MAdX,SAcWA,MAdX,iBAcWA,MAAM,CAAEE,EAdnB,kBAc+B,sBAd/B,wBAAnB,CAgBD,CArBwC,CAqBtC,EArBsC,CAAzC,CAuBA,mBACE,wCACE,KAAC,YAAD,EAAc,UAAU,CAAC,SAAzB,CAAmC,gBAAgB,CAAEN,gBAArD,EADF,cAEE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,eAAZ,uBACE,KAAC,UAAD,IADF,EADF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,eAAZ,uBACE,KAAC,OAAD,EAAS,aAAa,CAAEE,qBAAxB,EADF,EAJF,cAOE,KAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,uBACE,KAAC,iBAAD,EAAmB,OAAO,CAAC,UAA3B,uBACE,KAAC,YAAD,IADF,EADF,EAPF,GAFF,GADF,CAkBD,CAED,OAASH,QAAQ,GAAIS,CAAAA,SAArB,EACA,cAAehB,CAAAA,UAAU,CAACO,QAAD,CAAzB","sourcesContent":["import React, { useState, useCallback } from 'react';\nimport { Route, withRouter, Switch } from 'react-router-dom';\nimport { t } from '@lingui/macro';\nimport ScreenHeader from 'components/ScreenHeader/ScreenHeader';\nimport PersistentFilters from 'components/PersistentFilters';\nimport ProjectsList from './ProjectList/ProjectList';\nimport ProjectAdd from './ProjectAdd/ProjectAdd';\nimport Project from './Project';\n\nfunction Projects() {\n  const [breadcrumbConfig, setBreadcrumbConfig] = useState({\n    '/projects': t`Projects`,\n    '/projects/add': t`Create New Project`,\n  });\n\n  const buildBreadcrumbConfig = useCallback((project, nested) => {\n    if (!project) {\n      return;\n    }\n    const projectSchedulesPath = `/projects/${project.id}/schedules`;\n    setBreadcrumbConfig({\n      '/projects': t`Projects`,\n      '/projects/add': t`Create New Project`,\n      [`/projects/${project.id}`]: `${project.name}`,\n      [`/projects/${project.id}/edit`]: t`Edit Details`,\n      [`/projects/${project.id}/details`]: t`Details`,\n      [`/projects/${project.id}/access`]: t`Access`,\n      [`/projects/${project.id}/notifications`]: t`Notifications`,\n      [`/projects/${project.id}/job_templates`]: t`Job Templates`,\n\n      [`${projectSchedulesPath}`]: t`Schedules`,\n      [`${projectSchedulesPath}/add`]: t`Create New Schedule`,\n      [`${projectSchedulesPath}/${nested?.id}`]: `${nested?.name}`,\n      [`${projectSchedulesPath}/${nested?.id}/details`]: t`Schedule Details`,\n      [`${projectSchedulesPath}/${nested?.id}/edit`]: t`Edit Details`,\n    });\n  }, []);\n\n  return (\n    <>\n      <ScreenHeader streamType=\"project\" breadcrumbConfig={breadcrumbConfig} />\n      <Switch>\n        <Route path=\"/projects/add\">\n          <ProjectAdd />\n        </Route>\n        <Route path=\"/projects/:id\">\n          <Project setBreadcrumb={buildBreadcrumbConfig} />\n        </Route>\n        <Route path=\"/projects\">\n          <PersistentFilters pageKey=\"projects\">\n            <ProjectsList />\n          </PersistentFilters>\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nexport { Projects as _Projects };\nexport default withRouter(Projects);\n"]},"metadata":{},"sourceType":"module"}