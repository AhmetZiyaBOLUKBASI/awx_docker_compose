{"ast":null,"code":"import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import{i18n}from\"@lingui/core\";import React,{useState,useCallback}from'react';import{Link,useHistory}from'react-router-dom';import{Button,TextList,TextListItem,TextListItemVariants,TextListVariants}from'@patternfly/react-core';import AlertModal from'components/AlertModal';import{CardBody,CardActionsRow}from'components/Card';import{Detail,ArrayDetail,DetailList,DeletedDetail,UserDateDetail}from'components/DetailList';import CodeDetail from'components/DetailList/CodeDetail';import DeleteButton from'components/DeleteButton';import ErrorDetail from'components/ErrorDetail';import{NotificationTemplatesAPI,NotificationsAPI}from'api';import useRequest,{useDismissableError}from'hooks/useRequest';import StatusLabel from'components/StatusLabel';import hasCustomMessages from'../shared/hasCustomMessages';import{NOTIFICATION_TYPES}from'../constants';import helpText from'../shared/Notifications.helptext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var NUM_RETRIES=25;var RETRY_TIMEOUT=5000;function NotificationTemplateDetail(_ref){var _template$summary_fie,_template$summary_fie2,_template$summary_fie3,_summary_fields$user_,_summary_fields$user_2;var template=_ref.template,defaultMessages=_ref.defaultMessages;var history=useHistory();var _useState=useState((_template$summary_fie=(_template$summary_fie2=template.summary_fields)===null||_template$summary_fie2===void 0?void 0:(_template$summary_fie3=_template$summary_fie2.recent_notifications[0])===null||_template$summary_fie3===void 0?void 0:_template$summary_fie3.status)!==null&&_template$summary_fie!==void 0?_template$summary_fie:undefined),_useState2=_slicedToArray(_useState,2),testStatus=_useState2[0],setTestStatus=_useState2[1];var created=template.created,modified=template.modified,configuration=template.notification_configuration,summary_fields=template.summary_fields,messages=template.messages;var renderOptionsField=configuration.use_ssl||configuration.use_tls;var renderOptions=/*#__PURE__*/_jsxs(TextList,{component:TextListVariants.ul,children:[configuration.use_ssl&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Use SSL\")}),configuration.use_tls&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Use TLS\")})]});var _useRequest=useRequest(useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return NotificationTemplatesAPI.destroy(template.id);case 2:history.push(\"/notification_templates\");case 3:case\"end\":return _context.stop();}}},_callee);})),[template.id,history])),deleteTemplate=_useRequest.request,isLoading=_useRequest.isLoading,deleteError=_useRequest.error;var _useRequest2=useRequest(useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var retries,_yield$NotificationTe,notificationId,pollForStatusChange,_pollForStatusChange;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_pollForStatusChange=function _pollForStatusChange3(){_pollForStatusChange=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _yield$NotificationsA,notification;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return NotificationsAPI.readDetail(notificationId);case 2:_yield$NotificationsA=_context2.sent;notification=_yield$NotificationsA.data;if(!(notification.status!=='pending')){_context2.next=7;break;}setTestStatus(notification.status);return _context2.abrupt(\"return\");case 7:retries--;if(retries>0){setTimeout(pollForStatusChange,RETRY_TIMEOUT);}case 9:case\"end\":return _context2.stop();}}},_callee2);}));return _pollForStatusChange.apply(this,arguments);};pollForStatusChange=function _pollForStatusChange2(){return _pollForStatusChange.apply(this,arguments);};setTestStatus('running');retries=NUM_RETRIES;_context3.next=6;return NotificationTemplatesAPI.test(template.id);case 6:_yield$NotificationTe=_context3.sent;notificationId=_yield$NotificationTe.data.notification;setTimeout(pollForStatusChange,RETRY_TIMEOUT);case 9:case\"end\":return _context3.stop();}}},_callee3);})),[template.id])),sendTestNotification=_useRequest2.request,testError=_useRequest2.error;var _useDismissableError=useDismissableError(deleteError||testError),error=_useDismissableError.error,dismissError=_useDismissableError.dismissError;var typeMessageDefaults=defaultMessages===null||defaultMessages===void 0?void 0:defaultMessages[template===null||template===void 0?void 0:template.notification_type];return/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(DetailList,{gutter:\"sm\",children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Name\"),value:template.name,dataCy:\"nt-detail-name\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Description\"),value:template.description,dataCy:\"nt-detail-description\"}),summary_fields.recent_notifications.length?/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Status\"),value:/*#__PURE__*/_jsx(StatusLabel,{status:testStatus})}):null,summary_fields.organization?/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Organization\"),value:/*#__PURE__*/_jsx(Link,{to:\"/organizations/\".concat(summary_fields.organization.id,\"/details\"),children:summary_fields.organization.name})}):/*#__PURE__*/_jsx(DeletedDetail,{label:/*i18n*/i18n._(\"Organization\")}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Notification Type\"),value:NOTIFICATION_TYPES[template.notification_type]||template.notification_type,dataCy:\"nt-detail-type\"}),template.notification_type==='email'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Username\"),value:configuration.username,dataCy:\"nt-detail-username\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Host\"),value:configuration.host,dataCy:\"nt-detail-host\"}),/*#__PURE__*/_jsx(ArrayDetail,{label:/*i18n*/i18n._(\"Recipient List\"),helpText:helpText.emailRecepients,value:configuration.recipients,dataCy:\"nt-detail-recipients\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Sender Email\"),value:configuration.sender,dataCy:\"nt-detail-sender\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Port\"),value:configuration.port,dataCy:\"nt-detail-port\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Timeout\"),helpText:helpText.emailTimeout,value:configuration.timeout,dataCy:\"nt-detail-timeout\"}),renderOptionsField&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Email Options\"),value:renderOptions,helpText:helpText.emailOptions})]}),template.notification_type==='grafana'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Grafana URL\"),helpText:helpText.grafanaUrl,value:configuration.grafana_url,dataCy:\"nt-detail-grafana-url\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"ID of the Dashboard\"),value:configuration.dashboardId,dataCy:\"nt-detail-dashboard-id\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"ID of the Panel\"),value:configuration.panelId,dataCy:\"nt-detail-panel-id\"}),/*#__PURE__*/_jsx(ArrayDetail,{label:/*i18n*/i18n._(\"Tags for the Annotation\"),helpText:helpText.grafanaTags,value:configuration.annotation_tags,dataCy:\"nt-detail-\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Disable SSL Verification\"),value:configuration.grafana_no_verify_ssl?/*i18n*/i18n._(\"True\"):/*i18n*/i18n._(\"False\"),dataCy:\"nt-detail-disable-ssl\"})]}),template.notification_type==='irc'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"IRC Server Port\"),value:configuration.port,dataCy:\"nt-detail-irc-port\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"IRC Server Address\"),value:configuration.server,dataCy:\"nt-detail-irc-server\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"IRC Nick\"),value:configuration.nickname,dataCy:\"nt-detail-irc-nickname\"}),/*#__PURE__*/_jsx(ArrayDetail,{label:/*i18n*/i18n._(\"Destination Channels or Users\"),helpText:helpText.ircTargets,value:configuration.targets,dataCy:\"nt-detail-channels\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"SSL Connection\"),value:configuration.use_ssl?/*i18n*/i18n._(\"True\"):/*i18n*/i18n._(\"False\"),dataCy:\"nt-detail-irc-ssl\"})]}),template.notification_type==='mattermost'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Target URL\"),value:configuration.mattermost_url,dataCy:\"nt-detail-mattermost-url\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Username\"),value:configuration.mattermost_username,dataCy:\"nt-detail-mattermost-username\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Channel\"),value:configuration.mattermost_channel,dataCy:\"nt-detail-mattermost_channel\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Icon URL\"),value:configuration.mattermost_icon_url,dataCy:\"nt-detail-mattermost-icon-url\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Disable SSL Verification\"),value:configuration.mattermost_no_verify_ssl?/*i18n*/i18n._(\"True\"):/*i18n*/i18n._(\"False\"),dataCy:\"nt-detail-disable-ssl\"})]}),template.notification_type==='pagerduty'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Pagerduty Subdomain\"),value:configuration.subdomain,dataCy:\"nt-detail-pagerduty-subdomain\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"API Service/Integration Key\"),value:configuration.service_key,dataCy:\"nt-detail-pagerduty-service-key\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Client Identifier\"),value:configuration.client_name,dataCy:\"nt-detail-pagerduty-client-name\"})]}),template.notification_type==='rocketchat'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Target URL\"),value:configuration.rocketchat_url,dataCy:\"nt-detail-rocketchat-url\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Username\"),value:configuration.rocketchat_username,dataCy:\"nt-detail-rocketchat-username\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Icon URL\"),value:configuration.rocketchat_icon_url,dataCy:\"nt-detail-rocketchat-icon-url\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Disable SSL Verification\"),value:configuration.rocketchat_no_verify_ssl?/*i18n*/i18n._(\"True\"):/*i18n*/i18n._(\"False\"),dataCy:\"nt-detail-disable-ssl\"})]}),template.notification_type==='slack'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ArrayDetail,{helpText:helpText.slackChannels,label:/*i18n*/i18n._(\"Destination Channels\"),value:configuration.channels,dataCy:\"nt-detail-slack-channels\"}),/*#__PURE__*/_jsx(Detail,{helpText:helpText.slackColor,label:/*i18n*/i18n._(\"Notification Color\"),value:configuration.hex_color,dataCy:\"nt-detail-slack-color\"})]}),template.notification_type==='twilio'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Source Phone Number\"),helpText:helpText.twilioSourcePhoneNumber,value:configuration.from_number,dataCy:\"nt-detail-twilio-source-phone\"}),/*#__PURE__*/_jsx(ArrayDetail,{label:/*i18n*/i18n._(\"Destination SMS Number(s)\"),helpText:helpText.twilioDestinationNumbers,value:configuration.to_numbers,dataCy:\"nt-detail-twilio-destination-numbers\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Account SID\"),value:configuration.account_sid,dataCy:\"nt-detail-twilio-account-sid\"})]}),template.notification_type==='webhook'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Username\"),value:configuration.username,dataCy:\"nt-detail-webhook-password\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Target URL\"),value:configuration.url,dataCy:\"nt-detail-webhook-url\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Disable SSL Verification\"),value:configuration.disable_ssl_verification?/*i18n*/i18n._(\"True\"):/*i18n*/i18n._(\"False\"),dataCy:\"nt-detail-disable-ssl\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"HTTP Method\"),value:configuration.http_method,dataCy:\"nt-detail-webhook-http-method\"}),/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"HTTP Headers\"),helpText:helpText.webhookHeaders,value:JSON.stringify(configuration.headers),mode:\"json\",rows:6,dataCy:\"nt-detail-webhook-headers\"})]}),/*#__PURE__*/_jsx(UserDateDetail,{label:/*i18n*/i18n._(\"Created\"),date:created,user:summary_fields===null||summary_fields===void 0?void 0:summary_fields.created_by}),/*#__PURE__*/_jsx(UserDateDetail,{label:/*i18n*/i18n._(\"Last Modified\"),date:modified,user:summary_fields===null||summary_fields===void 0?void 0:summary_fields.modified_by}),typeMessageDefaults&&hasCustomMessages(messages,typeMessageDefaults)?/*#__PURE__*/_jsx(CustomMessageDetails,{messages:messages,defaults:typeMessageDefaults,type:template.notification_type}):null]}),/*#__PURE__*/_jsxs(CardActionsRow,{children:[((_summary_fields$user_=summary_fields.user_capabilities)===null||_summary_fields$user_===void 0?void 0:_summary_fields$user_.edit)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{ouiaId:\"notification-template-detail-edit-button\",component:Link,to:\"/notification_templates/\".concat(template.id,\"/edit\"),\"aria-label\":/*i18n*/i18n._(\"Edit\"),children:/*i18n*/i18n._(\"Edit\")}),/*#__PURE__*/_jsx(Button,{onClick:sendTestNotification,variant:\"secondary\",isDisabled:testStatus===('running'||'pending'),children:/*i18n*/i18n._(\"Test\")})]}),((_summary_fields$user_2=summary_fields.user_capabilities)===null||_summary_fields$user_2===void 0?void 0:_summary_fields$user_2.delete)&&/*#__PURE__*/_jsx(DeleteButton,{name:template.name,modalTitle:/*i18n*/i18n._(\"Delete Notification\"),onConfirm:deleteTemplate,isDisabled:isLoading,children:/*i18n*/i18n._(\"Delete\")})]}),error&&/*#__PURE__*/_jsxs(AlertModal,{isOpen:error,variant:\"error\",title:/*i18n*/i18n._(\"Error!\"),onClose:dismissError,children:[deleteError?/*i18n*/i18n._(\"Failed to delete notification.\"):/*i18n*/i18n._(\"Notification test failed.\"),/*#__PURE__*/_jsx(ErrorDetail,{error:error})]})]});}function CustomMessageDetails(_ref4){var _messages$started,_defaults$started,_messages$started2,_defaults$started2,_messages$success,_defaults$success,_messages$success2,_defaults$success2,_messages$error,_defaults$error,_messages$error2,_defaults$error2,_messages$workflow_ap,_messages$workflow_ap2,_messages$workflow_ap3,_messages$workflow_ap4,_messages$workflow_ap5,_messages$workflow_ap6,_messages$workflow_ap7,_messages$workflow_ap8,_messages$workflow_ap9,_messages$workflow_ap10,_messages$workflow_ap11,_messages$workflow_ap12,_messages$workflow_ap13,_messages$workflow_ap14,_messages$workflow_ap15,_messages$workflow_ap16;var messages=_ref4.messages,defaults=_ref4.defaults,type=_ref4.type;var showMessages=type!=='webhook';var showBodies=['email','pagerduty','webhook'].includes(type);return/*#__PURE__*/_jsxs(_Fragment,{children:[showMessages&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Start message\"),value:((_messages$started=messages.started)===null||_messages$started===void 0?void 0:_messages$started.message)||((_defaults$started=defaults.started)===null||_defaults$started===void 0?void 0:_defaults$started.message),mode:\"jinja2\",rows:2,fullWidth:true}),showBodies&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Start message body\"),value:((_messages$started2=messages.started)===null||_messages$started2===void 0?void 0:_messages$started2.body)||((_defaults$started2=defaults.started)===null||_defaults$started2===void 0?void 0:_defaults$started2.body),mode:\"jinja2\",rows:6,fullWidth:true}),showMessages&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Success message\"),value:((_messages$success=messages.success)===null||_messages$success===void 0?void 0:_messages$success.message)||((_defaults$success=defaults.success)===null||_defaults$success===void 0?void 0:_defaults$success.message),mode:\"jinja2\",rows:2,fullWidth:true}),showBodies&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Success message body\"),value:((_messages$success2=messages.success)===null||_messages$success2===void 0?void 0:_messages$success2.body)||((_defaults$success2=defaults.success)===null||_defaults$success2===void 0?void 0:_defaults$success2.body),mode:\"jinja2\",rows:6,fullWidth:true}),showMessages&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Error message\"),value:((_messages$error=messages.error)===null||_messages$error===void 0?void 0:_messages$error.message)||((_defaults$error=defaults.error)===null||_defaults$error===void 0?void 0:_defaults$error.message),mode:\"jinja2\",rows:2,fullWidth:true}),showBodies&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Error message body\"),value:((_messages$error2=messages.error)===null||_messages$error2===void 0?void 0:_messages$error2.body)||((_defaults$error2=defaults.error)===null||_defaults$error2===void 0?void 0:_defaults$error2.body),mode:\"jinja2\",rows:6,fullWidth:true}),showMessages&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Workflow approved message\"),value:((_messages$workflow_ap=messages.workflow_approval)===null||_messages$workflow_ap===void 0?void 0:(_messages$workflow_ap2=_messages$workflow_ap.approved)===null||_messages$workflow_ap2===void 0?void 0:_messages$workflow_ap2.message)||defaults.workflow_approval.approved.message,mode:\"jinja2\",rows:2,fullWidth:true}),showBodies&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Workflow approved message body\"),value:((_messages$workflow_ap3=messages.workflow_approval)===null||_messages$workflow_ap3===void 0?void 0:(_messages$workflow_ap4=_messages$workflow_ap3.approved)===null||_messages$workflow_ap4===void 0?void 0:_messages$workflow_ap4.body)||defaults.workflow_approval.approved.body,mode:\"jinja2\",rows:6,fullWidth:true}),showMessages&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Workflow denied message\"),value:((_messages$workflow_ap5=messages.workflow_approval)===null||_messages$workflow_ap5===void 0?void 0:(_messages$workflow_ap6=_messages$workflow_ap5.denied)===null||_messages$workflow_ap6===void 0?void 0:_messages$workflow_ap6.message)||defaults.workflow_approval.denied.message,mode:\"jinja2\",rows:2,fullWidth:true}),showBodies&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Workflow denied message body\"),value:((_messages$workflow_ap7=messages.workflow_approval)===null||_messages$workflow_ap7===void 0?void 0:(_messages$workflow_ap8=_messages$workflow_ap7.denied)===null||_messages$workflow_ap8===void 0?void 0:_messages$workflow_ap8.body)||defaults.workflow_approval.denied.body,mode:\"jinja2\",rows:6,fullWidth:true}),showMessages&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Workflow pending message\"),value:((_messages$workflow_ap9=messages.workflow_approval)===null||_messages$workflow_ap9===void 0?void 0:(_messages$workflow_ap10=_messages$workflow_ap9.running)===null||_messages$workflow_ap10===void 0?void 0:_messages$workflow_ap10.message)||defaults.workflow_approval.running.message,mode:\"jinja2\",rows:2,fullWidth:true}),showBodies&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Workflow pending message body\"),value:((_messages$workflow_ap11=messages.workflow_approval)===null||_messages$workflow_ap11===void 0?void 0:(_messages$workflow_ap12=_messages$workflow_ap11.running)===null||_messages$workflow_ap12===void 0?void 0:_messages$workflow_ap12.body)||defaults.workflow_approval.running.body,mode:\"jinja2\",rows:6,fullWidth:true}),showMessages&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Workflow timed out message\"),value:((_messages$workflow_ap13=messages.workflow_approval)===null||_messages$workflow_ap13===void 0?void 0:(_messages$workflow_ap14=_messages$workflow_ap13.timed_out)===null||_messages$workflow_ap14===void 0?void 0:_messages$workflow_ap14.message)||defaults.workflow_approval.timed_out.message,mode:\"jinja2\",rows:2,fullWidth:true}),showBodies&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Workflow timed out message body\"),value:((_messages$workflow_ap15=messages.workflow_approval)===null||_messages$workflow_ap15===void 0?void 0:(_messages$workflow_ap16=_messages$workflow_ap15.timed_out)===null||_messages$workflow_ap16===void 0?void 0:_messages$workflow_ap16.body)||defaults.workflow_approval.timed_out.body,mode:\"jinja2\",rows:6,fullWidth:true})]});}export default NotificationTemplateDetail;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/NotificationTemplate/NotificationTemplateDetail/NotificationTemplateDetail.js"],"names":["React","useState","useCallback","Link","useHistory","Button","TextList","TextListItem","TextListItemVariants","TextListVariants","AlertModal","CardBody","CardActionsRow","Detail","ArrayDetail","DetailList","DeletedDetail","UserDateDetail","CodeDetail","DeleteButton","ErrorDetail","NotificationTemplatesAPI","NotificationsAPI","useRequest","useDismissableError","StatusLabel","hasCustomMessages","NOTIFICATION_TYPES","helpText","NUM_RETRIES","RETRY_TIMEOUT","NotificationTemplateDetail","template","defaultMessages","history","summary_fields","recent_notifications","status","undefined","testStatus","setTestStatus","created","modified","configuration","notification_configuration","messages","renderOptionsField","use_ssl","use_tls","renderOptions","ul","li","destroy","id","push","deleteTemplate","request","isLoading","deleteError","error","pollForStatusChange","readDetail","notificationId","notification","data","retries","setTimeout","test","sendTestNotification","testError","dismissError","typeMessageDefaults","notification_type","name","description","length","organization","username","host","emailRecepients","recipients","sender","port","emailTimeout","timeout","emailOptions","grafanaUrl","grafana_url","dashboardId","panelId","grafanaTags","annotation_tags","grafana_no_verify_ssl","server","nickname","ircTargets","targets","mattermost_url","mattermost_username","mattermost_channel","mattermost_icon_url","mattermost_no_verify_ssl","subdomain","service_key","client_name","rocketchat_url","rocketchat_username","rocketchat_icon_url","rocketchat_no_verify_ssl","slackChannels","channels","slackColor","hex_color","twilioSourcePhoneNumber","from_number","twilioDestinationNumbers","to_numbers","account_sid","url","disable_ssl_verification","http_method","webhookHeaders","JSON","stringify","headers","created_by","modified_by","user_capabilities","edit","delete","CustomMessageDetails","defaults","type","showMessages","showBodies","includes","started","message","body","success","workflow_approval","approved","denied","running","timed_out"],"mappings":"uVAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,WAA1B,KAA6C,OAA7C,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,OACEC,MADF,CAEEC,QAFF,CAGEC,YAHF,CAIEC,oBAJF,CAKEC,gBALF,KAMO,wBANP,CAQA,MAAOC,CAAAA,UAAP,KAAuB,uBAAvB,CACA,OAASC,QAAT,CAAmBC,cAAnB,KAAyC,iBAAzC,CACA,OACEC,MADF,CAEEC,WAFF,CAGEC,UAHF,CAIEC,aAJF,CAKEC,cALF,KAMO,uBANP,CAOA,MAAOC,CAAAA,UAAP,KAAuB,kCAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,yBAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,wBAAxB,CACA,OAASC,wBAAT,CAAmCC,gBAAnC,KAA2D,KAA3D,CACA,MAAOC,CAAAA,UAAP,EAAqBC,mBAArB,KAAgD,kBAAhD,CACA,MAAOC,CAAAA,WAAP,KAAwB,wBAAxB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,6BAA9B,CACA,OAASC,kBAAT,KAAmC,cAAnC,CACA,MAAOC,CAAAA,QAAP,KAAqB,kCAArB,C,6IAEA,GAAMC,CAAAA,WAAW,CAAG,EAApB,CACA,GAAMC,CAAAA,aAAa,CAAG,IAAtB,CAEA,QAASC,CAAAA,0BAAT,MAAmE,yHAA7BC,CAAAA,QAA6B,MAA7BA,QAA6B,CAAnBC,eAAmB,MAAnBA,eAAmB,CACjE,GAAMC,CAAAA,OAAO,CAAG9B,UAAU,EAA1B,CACA,cAAoCH,QAAQ,gDAC1C+B,QAAQ,CAACG,cADiC,yEAC1C,uBAAyBC,oBAAzB,CAA8C,CAA9C,CAD0C,iDAC1C,uBAAkDC,MADR,+DACkBC,SADlB,CAA5C,wCAAOC,UAAP,eAAmBC,aAAnB,eAGA,GACEC,CAAAA,OADF,CAMIT,QANJ,CACES,OADF,CAEEC,QAFF,CAMIV,QANJ,CAEEU,QAFF,CAG8BC,aAH9B,CAMIX,QANJ,CAGEY,0BAHF,CAIET,cAJF,CAMIH,QANJ,CAIEG,cAJF,CAKEU,QALF,CAMIb,QANJ,CAKEa,QALF,CAQA,GAAMC,CAAAA,kBAAkB,CAAGH,aAAa,CAACI,OAAd,EAAyBJ,aAAa,CAACK,OAAlE,CAEA,GAAMC,CAAAA,aAAa,cACjB,MAAC,QAAD,EAAU,SAAS,CAAExC,gBAAgB,CAACyC,EAAtC,WACGP,aAAa,CAACI,OAAd,eACC,KAAC,YAAD,EAAc,SAAS,CAAEvC,oBAAoB,CAAC2C,EAA9C,kBACG,iBADH,EAFJ,CAMGR,aAAa,CAACK,OAAd,eACC,KAAC,YAAD,EAAc,SAAS,CAAExC,oBAAoB,CAAC2C,EAA9C,kBACG,iBADH,EAPJ,GADF,CAeA,gBAII5B,UAAU,CACZrB,WAAW,sEAAC,yJACJmB,CAAAA,wBAAwB,CAAC+B,OAAzB,CAAiCpB,QAAQ,CAACqB,EAA1C,CADI,QAEVnB,OAAO,CAACoB,IAAR,4BAFU,sDAAD,GAGR,CAACtB,QAAQ,CAACqB,EAAV,CAAcnB,OAAd,CAHQ,CADC,CAJd,CACWqB,cADX,aACEC,OADF,CAEEC,SAFF,aAEEA,SAFF,CAGSC,WAHT,aAGEC,KAHF,CAWA,iBAA4DpC,UAAU,CACpErB,WAAW,sEAAC,qEAQK0D,mBARL,6QAQV,sMACuCtC,CAAAA,gBAAgB,CAACuC,UAAjB,CACnCC,cADmC,CADvC,6CACgBC,YADhB,uBACUC,IADV,MAIMD,YAAY,CAAC1B,MAAb,GAAwB,SAJ9B,2BAKIG,aAAa,CAACuB,YAAY,CAAC1B,MAAd,CAAb,CALJ,yCAQE4B,OAAO,GACP,GAAIA,OAAO,CAAG,CAAd,CAAiB,CACfC,UAAU,CAACN,mBAAD,CAAsB9B,aAAtB,CAAV,CACD,CAXH,wDARU,uDAQK8B,mBARL,sFACVpB,aAAa,CAAC,SAAD,CAAb,CAEIyB,OAHM,CAGIpC,WAHJ,wBAMAR,CAAAA,wBAAwB,CAAC8C,IAAzB,CAA8BnC,QAAQ,CAACqB,EAAvC,CANA,6CAKcS,cALd,uBAKRE,IALQ,CAKAD,YALA,CAsBVG,UAAU,CAACN,mBAAD,CAAsB9B,aAAtB,CAAV,CAtBU,wDAAD,GAuBR,CAACE,QAAQ,CAACqB,EAAV,CAvBQ,CADyD,CAAtE,CAAiBe,oBAAjB,cAAQZ,OAAR,CAA8Ca,SAA9C,cAAuCV,KAAvC,CA2BA,yBAAgCnC,mBAAmB,CAACkC,WAAW,EAAIW,SAAhB,CAAnD,CAAQV,KAAR,sBAAQA,KAAR,CAAeW,YAAf,sBAAeA,YAAf,CACA,GAAMC,CAAAA,mBAAmB,CAAGtC,eAAH,SAAGA,eAAH,iBAAGA,eAAe,CAAGD,QAAH,SAAGA,QAAH,iBAAGA,QAAQ,CAAEwC,iBAAb,CAA3C,CACA,mBACE,MAAC,QAAD,yBACE,MAAC,UAAD,EAAY,MAAM,CAAC,IAAnB,wBACE,KAAC,MAAD,EAAQ,KAAK,SAAE,cAAf,CAAwB,KAAK,CAAExC,QAAQ,CAACyC,IAAxC,CAA8C,MAAM,CAAC,gBAArD,EADF,cAEE,KAAC,MAAD,EACE,KAAK,SAAE,qBADT,CAEE,KAAK,CAAEzC,QAAQ,CAAC0C,WAFlB,CAGE,MAAM,CAAC,uBAHT,EAFF,CAOGvC,cAAc,CAACC,oBAAf,CAAoCuC,MAApC,cACC,KAAC,MAAD,EACE,KAAK,SAAE,gBADT,CAEE,KAAK,cAAE,KAAC,WAAD,EAAa,MAAM,CAAEpC,UAArB,EAFT,EADD,CAKG,IAZN,CAaGJ,cAAc,CAACyC,YAAf,cACC,KAAC,MAAD,EACE,KAAK,SAAE,sBADT,CAEE,KAAK,cACH,KAAC,IAAD,EACE,EAAE,0BAAoBzC,cAAc,CAACyC,YAAf,CAA4BvB,EAAhD,YADJ,UAGGlB,cAAc,CAACyC,YAAf,CAA4BH,IAH/B,EAHJ,EADD,cAYC,KAAC,aAAD,EAAe,KAAK,SAAE,sBAAtB,EAzBJ,cA2BE,KAAC,MAAD,EACE,KAAK,SAAE,2BADT,CAEE,KAAK,CACH9C,kBAAkB,CAACK,QAAQ,CAACwC,iBAAV,CAAlB,EACAxC,QAAQ,CAACwC,iBAJb,CAME,MAAM,CAAC,gBANT,EA3BF,CAmCGxC,QAAQ,CAACwC,iBAAT,GAA+B,OAA/B,eACC,wCACE,KAAC,MAAD,EACE,KAAK,SAAE,kBADT,CAEE,KAAK,CAAE7B,aAAa,CAACkC,QAFvB,CAGE,MAAM,CAAC,oBAHT,EADF,cAME,KAAC,MAAD,EACE,KAAK,SAAE,cADT,CAEE,KAAK,CAAElC,aAAa,CAACmC,IAFvB,CAGE,MAAM,CAAC,gBAHT,EANF,cAWE,KAAC,WAAD,EACE,KAAK,SAAE,wBADT,CAEE,QAAQ,CAAElD,QAAQ,CAACmD,eAFrB,CAGE,KAAK,CAAEpC,aAAa,CAACqC,UAHvB,CAIE,MAAM,CAAC,sBAJT,EAXF,cAiBE,KAAC,MAAD,EACE,KAAK,SAAE,sBADT,CAEE,KAAK,CAAErC,aAAa,CAACsC,MAFvB,CAGE,MAAM,CAAC,kBAHT,EAjBF,cAsBE,KAAC,MAAD,EACE,KAAK,SAAE,cADT,CAEE,KAAK,CAAEtC,aAAa,CAACuC,IAFvB,CAGE,MAAM,CAAC,gBAHT,EAtBF,cA2BE,KAAC,MAAD,EACE,KAAK,SAAE,iBADT,CAEE,QAAQ,CAAEtD,QAAQ,CAACuD,YAFrB,CAGE,KAAK,CAAExC,aAAa,CAACyC,OAHvB,CAIE,MAAM,CAAC,mBAJT,EA3BF,CAiCGtC,kBAAkB,eACjB,KAAC,MAAD,EACE,KAAK,SAAE,uBADT,CAEE,KAAK,CAAEG,aAFT,CAGE,QAAQ,CAAErB,QAAQ,CAACyD,YAHrB,EAlCJ,GApCJ,CA8EGrD,QAAQ,CAACwC,iBAAT,GAA+B,SAA/B,eACC,wCACE,KAAC,MAAD,EACE,KAAK,SAAE,qBADT,CAEE,QAAQ,CAAE5C,QAAQ,CAAC0D,UAFrB,CAGE,KAAK,CAAE3C,aAAa,CAAC4C,WAHvB,CAIE,MAAM,CAAC,uBAJT,EADF,cAOE,KAAC,MAAD,EACE,KAAK,SAAE,6BADT,CAEE,KAAK,CAAE5C,aAAa,CAAC6C,WAFvB,CAGE,MAAM,CAAC,wBAHT,EAPF,cAYE,KAAC,MAAD,EACE,KAAK,SAAE,yBADT,CAEE,KAAK,CAAE7C,aAAa,CAAC8C,OAFvB,CAGE,MAAM,CAAC,oBAHT,EAZF,cAiBE,KAAC,WAAD,EACE,KAAK,SAAE,iCADT,CAEE,QAAQ,CAAE7D,QAAQ,CAAC8D,WAFrB,CAGE,KAAK,CAAE/C,aAAa,CAACgD,eAHvB,CAIE,MAAM,CAAC,YAJT,EAjBF,cAuBE,KAAC,MAAD,EACE,KAAK,SAAE,kCADT,CAEE,KAAK,CAAEhD,aAAa,CAACiD,qBAAd,SAAsC,cAAtC,SAAgD,eAFzD,CAGE,MAAM,CAAC,uBAHT,EAvBF,GA/EJ,CA6GG5D,QAAQ,CAACwC,iBAAT,GAA+B,KAA/B,eACC,wCACE,KAAC,MAAD,EACE,KAAK,SAAE,yBADT,CAEE,KAAK,CAAE7B,aAAa,CAACuC,IAFvB,CAGE,MAAM,CAAC,oBAHT,EADF,cAME,KAAC,MAAD,EACE,KAAK,SAAE,4BADT,CAEE,KAAK,CAAEvC,aAAa,CAACkD,MAFvB,CAGE,MAAM,CAAC,sBAHT,EANF,cAWE,KAAC,MAAD,EACE,KAAK,SAAE,kBADT,CAEE,KAAK,CAAElD,aAAa,CAACmD,QAFvB,CAGE,MAAM,CAAC,wBAHT,EAXF,cAgBE,KAAC,WAAD,EACE,KAAK,SAAE,uCADT,CAEE,QAAQ,CAAElE,QAAQ,CAACmE,UAFrB,CAGE,KAAK,CAAEpD,aAAa,CAACqD,OAHvB,CAIE,MAAM,CAAC,oBAJT,EAhBF,cAsBE,KAAC,MAAD,EACE,KAAK,SAAE,wBADT,CAEE,KAAK,CAAErD,aAAa,CAACI,OAAd,SAAwB,cAAxB,SAAkC,eAF3C,CAGE,MAAM,CAAC,mBAHT,EAtBF,GA9GJ,CA2IGf,QAAQ,CAACwC,iBAAT,GAA+B,YAA/B,eACC,wCACE,KAAC,MAAD,EACE,KAAK,SAAE,oBADT,CAEE,KAAK,CAAE7B,aAAa,CAACsD,cAFvB,CAGE,MAAM,CAAC,0BAHT,EADF,cAME,KAAC,MAAD,EACE,KAAK,SAAE,kBADT,CAEE,KAAK,CAAEtD,aAAa,CAACuD,mBAFvB,CAGE,MAAM,CAAC,+BAHT,EANF,cAWE,KAAC,MAAD,EACE,KAAK,SAAE,iBADT,CAEE,KAAK,CAAEvD,aAAa,CAACwD,kBAFvB,CAGE,MAAM,CAAC,8BAHT,EAXF,cAgBE,KAAC,MAAD,EACE,KAAK,SAAE,kBADT,CAEE,KAAK,CAAExD,aAAa,CAACyD,mBAFvB,CAGE,MAAM,CAAC,+BAHT,EAhBF,cAqBE,KAAC,MAAD,EACE,KAAK,SAAE,kCADT,CAEE,KAAK,CACHzD,aAAa,CAAC0D,wBAAd,SAAyC,cAAzC,SAAmD,eAHvD,CAKE,MAAM,CAAC,uBALT,EArBF,GA5IJ,CA0KGrE,QAAQ,CAACwC,iBAAT,GAA+B,WAA/B,eACC,wCACE,KAAC,MAAD,EACE,KAAK,SAAE,6BADT,CAEE,KAAK,CAAE7B,aAAa,CAAC2D,SAFvB,CAGE,MAAM,CAAC,+BAHT,EADF,cAME,KAAC,MAAD,EACE,KAAK,SAAE,qCADT,CAEE,KAAK,CAAE3D,aAAa,CAAC4D,WAFvB,CAGE,MAAM,CAAC,iCAHT,EANF,cAWE,KAAC,MAAD,EACE,KAAK,SAAE,2BADT,CAEE,KAAK,CAAE5D,aAAa,CAAC6D,WAFvB,CAGE,MAAM,CAAC,iCAHT,EAXF,GA3KJ,CA6LGxE,QAAQ,CAACwC,iBAAT,GAA+B,YAA/B,eACC,wCACE,KAAC,MAAD,EACE,KAAK,SAAE,oBADT,CAEE,KAAK,CAAE7B,aAAa,CAAC8D,cAFvB,CAGE,MAAM,CAAC,0BAHT,EADF,cAME,KAAC,MAAD,EACE,KAAK,SAAE,kBADT,CAEE,KAAK,CAAE9D,aAAa,CAAC+D,mBAFvB,CAGE,MAAM,CAAC,+BAHT,EANF,cAWE,KAAC,MAAD,EACE,KAAK,SAAE,kBADT,CAEE,KAAK,CAAE/D,aAAa,CAACgE,mBAFvB,CAGE,MAAM,CAAC,+BAHT,EAXF,cAgBE,KAAC,MAAD,EACE,KAAK,SAAE,kCADT,CAEE,KAAK,CACHhE,aAAa,CAACiE,wBAAd,SAAyC,cAAzC,SAAmD,eAHvD,CAKE,MAAM,CAAC,uBALT,EAhBF,GA9LJ,CAuNG5E,QAAQ,CAACwC,iBAAT,GAA+B,OAA/B,eACC,wCACE,KAAC,WAAD,EACE,QAAQ,CAAE5C,QAAQ,CAACiF,aADrB,CAEE,KAAK,SAAE,8BAFT,CAGE,KAAK,CAAElE,aAAa,CAACmE,QAHvB,CAIE,MAAM,CAAC,0BAJT,EADF,cAOE,KAAC,MAAD,EACE,QAAQ,CAAElF,QAAQ,CAACmF,UADrB,CAEE,KAAK,SAAE,4BAFT,CAGE,KAAK,CAAEpE,aAAa,CAACqE,SAHvB,CAIE,MAAM,CAAC,uBAJT,EAPF,GAxNJ,CAuOGhF,QAAQ,CAACwC,iBAAT,GAA+B,QAA/B,eACC,wCACE,KAAC,MAAD,EACE,KAAK,SAAE,6BADT,CAEE,QAAQ,CAAE5C,QAAQ,CAACqF,uBAFrB,CAGE,KAAK,CAAEtE,aAAa,CAACuE,WAHvB,CAIE,MAAM,CAAC,+BAJT,EADF,cAOE,KAAC,WAAD,EACE,KAAK,SAAE,mCADT,CAEE,QAAQ,CAAEtF,QAAQ,CAACuF,wBAFrB,CAGE,KAAK,CAAExE,aAAa,CAACyE,UAHvB,CAIE,MAAM,CAAC,sCAJT,EAPF,cAaE,KAAC,MAAD,EACE,KAAK,SAAE,qBADT,CAEE,KAAK,CAAEzE,aAAa,CAAC0E,WAFvB,CAGE,MAAM,CAAC,8BAHT,EAbF,GAxOJ,CA4PGrF,QAAQ,CAACwC,iBAAT,GAA+B,SAA/B,eACC,wCACE,KAAC,MAAD,EACE,KAAK,SAAE,kBADT,CAEE,KAAK,CAAE7B,aAAa,CAACkC,QAFvB,CAGE,MAAM,CAAC,4BAHT,EADF,cAME,KAAC,MAAD,EACE,KAAK,SAAE,oBADT,CAEE,KAAK,CAAElC,aAAa,CAAC2E,GAFvB,CAGE,MAAM,CAAC,uBAHT,EANF,cAWE,KAAC,MAAD,EACE,KAAK,SAAE,kCADT,CAEE,KAAK,CACH3E,aAAa,CAAC4E,wBAAd,SAAyC,cAAzC,SAAmD,eAHvD,CAKE,MAAM,CAAC,uBALT,EAXF,cAkBE,KAAC,MAAD,EACE,KAAK,SAAE,qBADT,CAEE,KAAK,CAAE5E,aAAa,CAAC6E,WAFvB,CAGE,MAAM,CAAC,+BAHT,EAlBF,cAuBE,KAAC,UAAD,EACE,KAAK,SAAE,sBADT,CAEE,QAAQ,CAAE5F,QAAQ,CAAC6F,cAFrB,CAGE,KAAK,CAAEC,IAAI,CAACC,SAAL,CAAehF,aAAa,CAACiF,OAA7B,CAHT,CAIE,IAAI,CAAC,MAJP,CAKE,IAAI,CAAE,CALR,CAME,MAAM,CAAC,2BANT,EAvBF,GA7PJ,cA8RE,KAAC,cAAD,EACE,KAAK,SAAE,iBADT,CAEE,IAAI,CAAEnF,OAFR,CAGE,IAAI,CAAEN,cAAF,SAAEA,cAAF,iBAAEA,cAAc,CAAE0F,UAHxB,EA9RF,cAmSE,KAAC,cAAD,EACE,KAAK,SAAE,uBADT,CAEE,IAAI,CAAEnF,QAFR,CAGE,IAAI,CAAEP,cAAF,SAAEA,cAAF,iBAAEA,cAAc,CAAE2F,WAHxB,EAnSF,CAwSGvD,mBAAmB,EACpB7C,iBAAiB,CAACmB,QAAD,CAAW0B,mBAAX,CADhB,cAEC,KAAC,oBAAD,EACE,QAAQ,CAAE1B,QADZ,CAEE,QAAQ,CAAE0B,mBAFZ,CAGE,IAAI,CAAEvC,QAAQ,CAACwC,iBAHjB,EAFD,CAOG,IA/SN,GADF,cAkTE,MAAC,cAAD,YACG,wBAAArC,cAAc,CAAC4F,iBAAf,sEAAkCC,IAAlC,gBACC,wCACE,KAAC,MAAD,EACE,MAAM,CAAC,0CADT,CAEE,SAAS,CAAE7H,IAFb,CAGE,EAAE,mCAA6B6B,QAAQ,CAACqB,EAAtC,SAHJ,CAIE,qBAAY,cAJd,kBAMG,cANH,EADF,cASE,KAAC,MAAD,EACE,OAAO,CAAEe,oBADX,CAEE,OAAO,CAAC,WAFV,CAGE,UAAU,CAAE7B,UAAU,IAAM,WAAa,SAAnB,CAHxB,kBAIE,cAJF,EATF,GAFJ,CAkBG,yBAAAJ,cAAc,CAAC4F,iBAAf,wEAAkCE,MAAlC,gBACC,KAAC,YAAD,EACE,IAAI,CAAEjG,QAAQ,CAACyC,IADjB,CAEE,UAAU,SAAE,6BAFd,CAGE,SAAS,CAAElB,cAHb,CAIE,UAAU,CAAEE,SAJd,kBAMG,gBANH,EAnBJ,GAlTF,CA+UGE,KAAK,eACJ,MAAC,UAAD,EACE,MAAM,CAAEA,KADV,CAEE,OAAO,CAAC,OAFV,CAGE,KAAK,SAAE,gBAHT,CAIE,OAAO,CAAEW,YAJX,WAMGZ,WAAW,SACR,wCADQ,SAER,mCARN,cASE,KAAC,WAAD,EAAa,KAAK,CAAEC,KAApB,EATF,GAhVJ,GADF,CA+VD,CAED,QAASuE,CAAAA,oBAAT,OAA4D,olBAA5BrF,CAAAA,QAA4B,OAA5BA,QAA4B,CAAlBsF,QAAkB,OAAlBA,QAAkB,CAARC,IAAQ,OAARA,IAAQ,CAC1D,GAAMC,CAAAA,YAAY,CAAGD,IAAI,GAAK,SAA9B,CACA,GAAME,CAAAA,UAAU,CAAG,CAAC,OAAD,CAAU,WAAV,CAAuB,SAAvB,EAAkCC,QAAlC,CAA2CH,IAA3C,CAAnB,CAEA,mBACE,2BACGC,YAAY,eACX,KAAC,UAAD,EACE,KAAK,SAAE,uBADT,CAEE,KAAK,CAAE,oBAAAxF,QAAQ,CAAC2F,OAAT,8DAAkBC,OAAlB,uBAA6BN,QAAQ,CAACK,OAAtC,4CAA6B,kBAAkBC,OAA/C,CAFT,CAGE,IAAI,CAAC,QAHP,CAIE,IAAI,CAAE,CAJR,CAKE,SAAS,KALX,EAFJ,CAUGH,UAAU,eACT,KAAC,UAAD,EACE,KAAK,SAAE,4BADT,CAEE,KAAK,CAAE,qBAAAzF,QAAQ,CAAC2F,OAAT,gEAAkBE,IAAlB,wBAA0BP,QAAQ,CAACK,OAAnC,6CAA0B,mBAAkBE,IAA5C,CAFT,CAGE,IAAI,CAAC,QAHP,CAIE,IAAI,CAAE,CAJR,CAKE,SAAS,KALX,EAXJ,CAmBGL,YAAY,eACX,KAAC,UAAD,EACE,KAAK,SAAE,yBADT,CAEE,KAAK,CAAE,oBAAAxF,QAAQ,CAAC8F,OAAT,8DAAkBF,OAAlB,uBAA6BN,QAAQ,CAACQ,OAAtC,4CAA6B,kBAAkBF,OAA/C,CAFT,CAGE,IAAI,CAAC,QAHP,CAIE,IAAI,CAAE,CAJR,CAKE,SAAS,KALX,EApBJ,CA4BGH,UAAU,eACT,KAAC,UAAD,EACE,KAAK,SAAE,8BADT,CAEE,KAAK,CAAE,qBAAAzF,QAAQ,CAAC8F,OAAT,gEAAkBD,IAAlB,wBAA0BP,QAAQ,CAACQ,OAAnC,6CAA0B,mBAAkBD,IAA5C,CAFT,CAGE,IAAI,CAAC,QAHP,CAIE,IAAI,CAAE,CAJR,CAKE,SAAS,KALX,EA7BJ,CAqCGL,YAAY,eACX,KAAC,UAAD,EACE,KAAK,SAAE,uBADT,CAEE,KAAK,CAAE,kBAAAxF,QAAQ,CAACc,KAAT,0DAAgB8E,OAAhB,qBAA2BN,QAAQ,CAACxE,KAApC,0CAA2B,gBAAgB8E,OAA3C,CAFT,CAGE,IAAI,CAAC,QAHP,CAIE,IAAI,CAAE,CAJR,CAKE,SAAS,KALX,EAtCJ,CA8CGH,UAAU,eACT,KAAC,UAAD,EACE,KAAK,SAAE,4BADT,CAEE,KAAK,CAAE,mBAAAzF,QAAQ,CAACc,KAAT,4DAAgB+E,IAAhB,sBAAwBP,QAAQ,CAACxE,KAAjC,2CAAwB,iBAAgB+E,IAAxC,CAFT,CAGE,IAAI,CAAC,QAHP,CAIE,IAAI,CAAE,CAJR,CAKE,SAAS,KALX,EA/CJ,CAuDGL,YAAY,eACX,KAAC,UAAD,EACE,KAAK,SAAE,mCADT,CAEE,KAAK,CACH,wBAAAxF,QAAQ,CAAC+F,iBAAT,8FAA4BC,QAA5B,wEAAsCJ,OAAtC,GACAN,QAAQ,CAACS,iBAAT,CAA2BC,QAA3B,CAAoCJ,OAJxC,CAME,IAAI,CAAC,QANP,CAOE,IAAI,CAAE,CAPR,CAQE,SAAS,KARX,EAxDJ,CAmEGH,UAAU,eACT,KAAC,UAAD,EACE,KAAK,SAAE,wCADT,CAEE,KAAK,CACH,yBAAAzF,QAAQ,CAAC+F,iBAAT,gGAA4BC,QAA5B,wEAAsCH,IAAtC,GACAP,QAAQ,CAACS,iBAAT,CAA2BC,QAA3B,CAAoCH,IAJxC,CAME,IAAI,CAAC,QANP,CAOE,IAAI,CAAE,CAPR,CAQE,SAAS,KARX,EApEJ,CA+EGL,YAAY,eACX,KAAC,UAAD,EACE,KAAK,SAAE,iCADT,CAEE,KAAK,CACH,yBAAAxF,QAAQ,CAAC+F,iBAAT,gGAA4BE,MAA5B,wEAAoCL,OAApC,GACAN,QAAQ,CAACS,iBAAT,CAA2BE,MAA3B,CAAkCL,OAJtC,CAME,IAAI,CAAC,QANP,CAOE,IAAI,CAAE,CAPR,CAQE,SAAS,KARX,EAhFJ,CA2FGH,UAAU,eACT,KAAC,UAAD,EACE,KAAK,SAAE,sCADT,CAEE,KAAK,CACH,yBAAAzF,QAAQ,CAAC+F,iBAAT,gGAA4BE,MAA5B,wEAAoCJ,IAApC,GACAP,QAAQ,CAACS,iBAAT,CAA2BE,MAA3B,CAAkCJ,IAJtC,CAME,IAAI,CAAC,QANP,CAOE,IAAI,CAAE,CAPR,CAQE,SAAS,KARX,EA5FJ,CAuGGL,YAAY,eACX,KAAC,UAAD,EACE,KAAK,SAAE,kCADT,CAEE,KAAK,CACH,yBAAAxF,QAAQ,CAAC+F,iBAAT,iGAA4BG,OAA5B,0EAAqCN,OAArC,GACAN,QAAQ,CAACS,iBAAT,CAA2BG,OAA3B,CAAmCN,OAJvC,CAME,IAAI,CAAC,QANP,CAOE,IAAI,CAAE,CAPR,CAQE,SAAS,KARX,EAxGJ,CAmHGH,UAAU,eACT,KAAC,UAAD,EACE,KAAK,SAAE,uCADT,CAEE,KAAK,CACH,0BAAAzF,QAAQ,CAAC+F,iBAAT,mGAA4BG,OAA5B,0EAAqCL,IAArC,GACAP,QAAQ,CAACS,iBAAT,CAA2BG,OAA3B,CAAmCL,IAJvC,CAME,IAAI,CAAC,QANP,CAOE,IAAI,CAAE,CAPR,CAQE,SAAS,KARX,EApHJ,CA+HGL,YAAY,eACX,KAAC,UAAD,EACE,KAAK,SAAE,oCADT,CAEE,KAAK,CACH,0BAAAxF,QAAQ,CAAC+F,iBAAT,mGAA4BI,SAA5B,0EAAuCP,OAAvC,GACAN,QAAQ,CAACS,iBAAT,CAA2BI,SAA3B,CAAqCP,OAJzC,CAME,IAAI,CAAC,QANP,CAOE,IAAI,CAAE,CAPR,CAQE,SAAS,KARX,EAhIJ,CA2IGH,UAAU,eACT,KAAC,UAAD,EACE,KAAK,SAAE,yCADT,CAEE,KAAK,CACH,0BAAAzF,QAAQ,CAAC+F,iBAAT,mGAA4BI,SAA5B,0EAAuCN,IAAvC,GACAP,QAAQ,CAACS,iBAAT,CAA2BI,SAA3B,CAAqCN,IAJzC,CAME,IAAI,CAAC,QANP,CAOE,IAAI,CAAE,CAPR,CAQE,SAAS,KARX,EA5IJ,GADF,CA0JD,CAED,cAAe3G,CAAAA,0BAAf","sourcesContent":["import React, { useState, useCallback } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport {\n  Button,\n  TextList,\n  TextListItem,\n  TextListItemVariants,\n  TextListVariants,\n} from '@patternfly/react-core';\nimport { t } from '@lingui/macro';\nimport AlertModal from 'components/AlertModal';\nimport { CardBody, CardActionsRow } from 'components/Card';\nimport {\n  Detail,\n  ArrayDetail,\n  DetailList,\n  DeletedDetail,\n  UserDateDetail,\n} from 'components/DetailList';\nimport CodeDetail from 'components/DetailList/CodeDetail';\nimport DeleteButton from 'components/DeleteButton';\nimport ErrorDetail from 'components/ErrorDetail';\nimport { NotificationTemplatesAPI, NotificationsAPI } from 'api';\nimport useRequest, { useDismissableError } from 'hooks/useRequest';\nimport StatusLabel from 'components/StatusLabel';\nimport hasCustomMessages from '../shared/hasCustomMessages';\nimport { NOTIFICATION_TYPES } from '../constants';\nimport helpText from '../shared/Notifications.helptext';\n\nconst NUM_RETRIES = 25;\nconst RETRY_TIMEOUT = 5000;\n\nfunction NotificationTemplateDetail({ template, defaultMessages }) {\n  const history = useHistory();\n  const [testStatus, setTestStatus] = useState(\n    template.summary_fields?.recent_notifications[0]?.status ?? undefined\n  );\n  const {\n    created,\n    modified,\n    notification_configuration: configuration,\n    summary_fields,\n    messages,\n  } = template;\n\n  const renderOptionsField = configuration.use_ssl || configuration.use_tls;\n\n  const renderOptions = (\n    <TextList component={TextListVariants.ul}>\n      {configuration.use_ssl && (\n        <TextListItem component={TextListItemVariants.li}>\n          {t`Use SSL`}\n        </TextListItem>\n      )}\n      {configuration.use_tls && (\n        <TextListItem component={TextListItemVariants.li}>\n          {t`Use TLS`}\n        </TextListItem>\n      )}\n    </TextList>\n  );\n\n  const {\n    request: deleteTemplate,\n    isLoading,\n    error: deleteError,\n  } = useRequest(\n    useCallback(async () => {\n      await NotificationTemplatesAPI.destroy(template.id);\n      history.push(`/notification_templates`);\n    }, [template.id, history])\n  );\n\n  const { request: sendTestNotification, error: testError } = useRequest(\n    useCallback(async () => {\n      setTestStatus('running');\n\n      let retries = NUM_RETRIES;\n      const {\n        data: { notification: notificationId },\n      } = await NotificationTemplatesAPI.test(template.id);\n\n      async function pollForStatusChange() {\n        const { data: notification } = await NotificationsAPI.readDetail(\n          notificationId\n        );\n        if (notification.status !== 'pending') {\n          setTestStatus(notification.status);\n          return;\n        }\n        retries--;\n        if (retries > 0) {\n          setTimeout(pollForStatusChange, RETRY_TIMEOUT);\n        }\n      }\n\n      setTimeout(pollForStatusChange, RETRY_TIMEOUT);\n    }, [template.id])\n  );\n\n  const { error, dismissError } = useDismissableError(deleteError || testError);\n  const typeMessageDefaults = defaultMessages?.[template?.notification_type];\n  return (\n    <CardBody>\n      <DetailList gutter=\"sm\">\n        <Detail label={t`Name`} value={template.name} dataCy=\"nt-detail-name\" />\n        <Detail\n          label={t`Description`}\n          value={template.description}\n          dataCy=\"nt-detail-description\"\n        />\n        {summary_fields.recent_notifications.length ? (\n          <Detail\n            label={t`Status`}\n            value={<StatusLabel status={testStatus} />}\n          />\n        ) : null}\n        {summary_fields.organization ? (\n          <Detail\n            label={t`Organization`}\n            value={\n              <Link\n                to={`/organizations/${summary_fields.organization.id}/details`}\n              >\n                {summary_fields.organization.name}\n              </Link>\n            }\n          />\n        ) : (\n          <DeletedDetail label={t`Organization`} />\n        )}\n        <Detail\n          label={t`Notification Type`}\n          value={\n            NOTIFICATION_TYPES[template.notification_type] ||\n            template.notification_type\n          }\n          dataCy=\"nt-detail-type\"\n        />\n        {template.notification_type === 'email' && (\n          <>\n            <Detail\n              label={t`Username`}\n              value={configuration.username}\n              dataCy=\"nt-detail-username\"\n            />\n            <Detail\n              label={t`Host`}\n              value={configuration.host}\n              dataCy=\"nt-detail-host\"\n            />\n            <ArrayDetail\n              label={t`Recipient List`}\n              helpText={helpText.emailRecepients}\n              value={configuration.recipients}\n              dataCy=\"nt-detail-recipients\"\n            />\n            <Detail\n              label={t`Sender Email`}\n              value={configuration.sender}\n              dataCy=\"nt-detail-sender\"\n            />\n            <Detail\n              label={t`Port`}\n              value={configuration.port}\n              dataCy=\"nt-detail-port\"\n            />\n            <Detail\n              label={t`Timeout`}\n              helpText={helpText.emailTimeout}\n              value={configuration.timeout}\n              dataCy=\"nt-detail-timeout\"\n            />\n            {renderOptionsField && (\n              <Detail\n                label={t`Email Options`}\n                value={renderOptions}\n                helpText={helpText.emailOptions}\n              />\n            )}\n          </>\n        )}\n        {template.notification_type === 'grafana' && (\n          <>\n            <Detail\n              label={t`Grafana URL`}\n              helpText={helpText.grafanaUrl}\n              value={configuration.grafana_url}\n              dataCy=\"nt-detail-grafana-url\"\n            />\n            <Detail\n              label={t`ID of the Dashboard`}\n              value={configuration.dashboardId}\n              dataCy=\"nt-detail-dashboard-id\"\n            />\n            <Detail\n              label={t`ID of the Panel`}\n              value={configuration.panelId}\n              dataCy=\"nt-detail-panel-id\"\n            />\n            <ArrayDetail\n              label={t`Tags for the Annotation`}\n              helpText={helpText.grafanaTags}\n              value={configuration.annotation_tags}\n              dataCy=\"nt-detail-\"\n            />\n            <Detail\n              label={t`Disable SSL Verification`}\n              value={configuration.grafana_no_verify_ssl ? t`True` : t`False`}\n              dataCy=\"nt-detail-disable-ssl\"\n            />\n          </>\n        )}\n        {template.notification_type === 'irc' && (\n          <>\n            <Detail\n              label={t`IRC Server Port`}\n              value={configuration.port}\n              dataCy=\"nt-detail-irc-port\"\n            />\n            <Detail\n              label={t`IRC Server Address`}\n              value={configuration.server}\n              dataCy=\"nt-detail-irc-server\"\n            />\n            <Detail\n              label={t`IRC Nick`}\n              value={configuration.nickname}\n              dataCy=\"nt-detail-irc-nickname\"\n            />\n            <ArrayDetail\n              label={t`Destination Channels or Users`}\n              helpText={helpText.ircTargets}\n              value={configuration.targets}\n              dataCy=\"nt-detail-channels\"\n            />\n            <Detail\n              label={t`SSL Connection`}\n              value={configuration.use_ssl ? t`True` : t`False`}\n              dataCy=\"nt-detail-irc-ssl\"\n            />\n          </>\n        )}\n        {template.notification_type === 'mattermost' && (\n          <>\n            <Detail\n              label={t`Target URL`}\n              value={configuration.mattermost_url}\n              dataCy=\"nt-detail-mattermost-url\"\n            />\n            <Detail\n              label={t`Username`}\n              value={configuration.mattermost_username}\n              dataCy=\"nt-detail-mattermost-username\"\n            />\n            <Detail\n              label={t`Channel`}\n              value={configuration.mattermost_channel}\n              dataCy=\"nt-detail-mattermost_channel\"\n            />\n            <Detail\n              label={t`Icon URL`}\n              value={configuration.mattermost_icon_url}\n              dataCy=\"nt-detail-mattermost-icon-url\"\n            />\n            <Detail\n              label={t`Disable SSL Verification`}\n              value={\n                configuration.mattermost_no_verify_ssl ? t`True` : t`False`\n              }\n              dataCy=\"nt-detail-disable-ssl\"\n            />\n          </>\n        )}\n        {template.notification_type === 'pagerduty' && (\n          <>\n            <Detail\n              label={t`Pagerduty Subdomain`}\n              value={configuration.subdomain}\n              dataCy=\"nt-detail-pagerduty-subdomain\"\n            />\n            <Detail\n              label={t`API Service/Integration Key`}\n              value={configuration.service_key}\n              dataCy=\"nt-detail-pagerduty-service-key\"\n            />\n            <Detail\n              label={t`Client Identifier`}\n              value={configuration.client_name}\n              dataCy=\"nt-detail-pagerduty-client-name\"\n            />\n          </>\n        )}\n        {template.notification_type === 'rocketchat' && (\n          <>\n            <Detail\n              label={t`Target URL`}\n              value={configuration.rocketchat_url}\n              dataCy=\"nt-detail-rocketchat-url\"\n            />\n            <Detail\n              label={t`Username`}\n              value={configuration.rocketchat_username}\n              dataCy=\"nt-detail-rocketchat-username\"\n            />\n            <Detail\n              label={t`Icon URL`}\n              value={configuration.rocketchat_icon_url}\n              dataCy=\"nt-detail-rocketchat-icon-url\"\n            />\n            <Detail\n              label={t`Disable SSL Verification`}\n              value={\n                configuration.rocketchat_no_verify_ssl ? t`True` : t`False`\n              }\n              dataCy=\"nt-detail-disable-ssl\"\n            />\n          </>\n        )}\n        {template.notification_type === 'slack' && (\n          <>\n            <ArrayDetail\n              helpText={helpText.slackChannels}\n              label={t`Destination Channels`}\n              value={configuration.channels}\n              dataCy=\"nt-detail-slack-channels\"\n            />\n            <Detail\n              helpText={helpText.slackColor}\n              label={t`Notification Color`}\n              value={configuration.hex_color}\n              dataCy=\"nt-detail-slack-color\"\n            />\n          </>\n        )}\n        {template.notification_type === 'twilio' && (\n          <>\n            <Detail\n              label={t`Source Phone Number`}\n              helpText={helpText.twilioSourcePhoneNumber}\n              value={configuration.from_number}\n              dataCy=\"nt-detail-twilio-source-phone\"\n            />\n            <ArrayDetail\n              label={t`Destination SMS Number(s)`}\n              helpText={helpText.twilioDestinationNumbers}\n              value={configuration.to_numbers}\n              dataCy=\"nt-detail-twilio-destination-numbers\"\n            />\n            <Detail\n              label={t`Account SID`}\n              value={configuration.account_sid}\n              dataCy=\"nt-detail-twilio-account-sid\"\n            />\n          </>\n        )}\n        {template.notification_type === 'webhook' && (\n          <>\n            <Detail\n              label={t`Username`}\n              value={configuration.username}\n              dataCy=\"nt-detail-webhook-password\"\n            />\n            <Detail\n              label={t`Target URL`}\n              value={configuration.url}\n              dataCy=\"nt-detail-webhook-url\"\n            />\n            <Detail\n              label={t`Disable SSL Verification`}\n              value={\n                configuration.disable_ssl_verification ? t`True` : t`False`\n              }\n              dataCy=\"nt-detail-disable-ssl\"\n            />\n            <Detail\n              label={t`HTTP Method`}\n              value={configuration.http_method}\n              dataCy=\"nt-detail-webhook-http-method\"\n            />\n            <CodeDetail\n              label={t`HTTP Headers`}\n              helpText={helpText.webhookHeaders}\n              value={JSON.stringify(configuration.headers)}\n              mode=\"json\"\n              rows={6}\n              dataCy=\"nt-detail-webhook-headers\"\n            />\n          </>\n        )}\n        <UserDateDetail\n          label={t`Created`}\n          date={created}\n          user={summary_fields?.created_by}\n        />\n        <UserDateDetail\n          label={t`Last Modified`}\n          date={modified}\n          user={summary_fields?.modified_by}\n        />\n        {typeMessageDefaults &&\n        hasCustomMessages(messages, typeMessageDefaults) ? (\n          <CustomMessageDetails\n            messages={messages}\n            defaults={typeMessageDefaults}\n            type={template.notification_type}\n          />\n        ) : null}\n      </DetailList>\n      <CardActionsRow>\n        {summary_fields.user_capabilities?.edit && (\n          <>\n            <Button\n              ouiaId=\"notification-template-detail-edit-button\"\n              component={Link}\n              to={`/notification_templates/${template.id}/edit`}\n              aria-label={t`Edit`}\n            >\n              {t`Edit`}\n            </Button>\n            <Button\n              onClick={sendTestNotification}\n              variant=\"secondary\"\n              isDisabled={testStatus === ('running' || 'pending')}\n            >{t`Test`}</Button>\n          </>\n        )}\n        {summary_fields.user_capabilities?.delete && (\n          <DeleteButton\n            name={template.name}\n            modalTitle={t`Delete Notification`}\n            onConfirm={deleteTemplate}\n            isDisabled={isLoading}\n          >\n            {t`Delete`}\n          </DeleteButton>\n        )}\n      </CardActionsRow>\n      {error && (\n        <AlertModal\n          isOpen={error}\n          variant=\"error\"\n          title={t`Error!`}\n          onClose={dismissError}\n        >\n          {deleteError\n            ? t`Failed to delete notification.`\n            : t`Notification test failed.`}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\n\nfunction CustomMessageDetails({ messages, defaults, type }) {\n  const showMessages = type !== 'webhook';\n  const showBodies = ['email', 'pagerduty', 'webhook'].includes(type);\n\n  return (\n    <>\n      {showMessages && (\n        <CodeDetail\n          label={t`Start message`}\n          value={messages.started?.message || defaults.started?.message}\n          mode=\"jinja2\"\n          rows={2}\n          fullWidth\n        />\n      )}\n      {showBodies && (\n        <CodeDetail\n          label={t`Start message body`}\n          value={messages.started?.body || defaults.started?.body}\n          mode=\"jinja2\"\n          rows={6}\n          fullWidth\n        />\n      )}\n      {showMessages && (\n        <CodeDetail\n          label={t`Success message`}\n          value={messages.success?.message || defaults.success?.message}\n          mode=\"jinja2\"\n          rows={2}\n          fullWidth\n        />\n      )}\n      {showBodies && (\n        <CodeDetail\n          label={t`Success message body`}\n          value={messages.success?.body || defaults.success?.body}\n          mode=\"jinja2\"\n          rows={6}\n          fullWidth\n        />\n      )}\n      {showMessages && (\n        <CodeDetail\n          label={t`Error message`}\n          value={messages.error?.message || defaults.error?.message}\n          mode=\"jinja2\"\n          rows={2}\n          fullWidth\n        />\n      )}\n      {showBodies && (\n        <CodeDetail\n          label={t`Error message body`}\n          value={messages.error?.body || defaults.error?.body}\n          mode=\"jinja2\"\n          rows={6}\n          fullWidth\n        />\n      )}\n      {showMessages && (\n        <CodeDetail\n          label={t`Workflow approved message`}\n          value={\n            messages.workflow_approval?.approved?.message ||\n            defaults.workflow_approval.approved.message\n          }\n          mode=\"jinja2\"\n          rows={2}\n          fullWidth\n        />\n      )}\n      {showBodies && (\n        <CodeDetail\n          label={t`Workflow approved message body`}\n          value={\n            messages.workflow_approval?.approved?.body ||\n            defaults.workflow_approval.approved.body\n          }\n          mode=\"jinja2\"\n          rows={6}\n          fullWidth\n        />\n      )}\n      {showMessages && (\n        <CodeDetail\n          label={t`Workflow denied message`}\n          value={\n            messages.workflow_approval?.denied?.message ||\n            defaults.workflow_approval.denied.message\n          }\n          mode=\"jinja2\"\n          rows={2}\n          fullWidth\n        />\n      )}\n      {showBodies && (\n        <CodeDetail\n          label={t`Workflow denied message body`}\n          value={\n            messages.workflow_approval?.denied?.body ||\n            defaults.workflow_approval.denied.body\n          }\n          mode=\"jinja2\"\n          rows={6}\n          fullWidth\n        />\n      )}\n      {showMessages && (\n        <CodeDetail\n          label={t`Workflow pending message`}\n          value={\n            messages.workflow_approval?.running?.message ||\n            defaults.workflow_approval.running.message\n          }\n          mode=\"jinja2\"\n          rows={2}\n          fullWidth\n        />\n      )}\n      {showBodies && (\n        <CodeDetail\n          label={t`Workflow pending message body`}\n          value={\n            messages.workflow_approval?.running?.body ||\n            defaults.workflow_approval.running.body\n          }\n          mode=\"jinja2\"\n          rows={6}\n          fullWidth\n        />\n      )}\n      {showMessages && (\n        <CodeDetail\n          label={t`Workflow timed out message`}\n          value={\n            messages.workflow_approval?.timed_out?.message ||\n            defaults.workflow_approval.timed_out.message\n          }\n          mode=\"jinja2\"\n          rows={2}\n          fullWidth\n        />\n      )}\n      {showBodies && (\n        <CodeDetail\n          label={t`Workflow timed out message body`}\n          value={\n            messages.workflow_approval?.timed_out?.body ||\n            defaults.workflow_approval.timed_out.body\n          }\n          mode=\"jinja2\"\n          rows={6}\n          fullWidth\n        />\n      )}\n    </>\n  );\n}\n\nexport default NotificationTemplateDetail;\n"]},"metadata":{},"sourceType":"module"}