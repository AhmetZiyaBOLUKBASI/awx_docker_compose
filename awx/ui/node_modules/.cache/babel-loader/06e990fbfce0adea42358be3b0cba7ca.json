{"ast":null,"code":"import{i18n}from\"@lingui/core\";import React from'react';import{Link}from'react-router-dom';import getScheduleUrl from'util/getScheduleUrl';import Detail from'./Detail';import{jsx as _jsx}from\"react/jsx-runtime\";var getLaunchedByDetails=function getLaunchedByDetails(job){var _job$summary_fields=job.summary_fields,createdBy=_job$summary_fields.created_by,jobTemplate=_job$summary_fields.job_template,workflowJT=_job$summary_fields.workflow_job_template,schedule=_job$summary_fields.schedule;if(!createdBy&&!schedule){return{};}var link;var value;switch(job.launch_type){case'webhook':value=/*i18n*/i18n._(\"Webhook\");link=jobTemplate&&\"/templates/job_template/\".concat(jobTemplate.id,\"/details\")||workflowJT&&\"/templates/workflow_job_template/\".concat(workflowJT.id,\"/details\");break;case'scheduled':value=schedule.name;link=getScheduleUrl(job);break;case'manual':link=\"/users/\".concat(createdBy.id,\"/details\");value=createdBy.username;break;default:link=createdBy&&\"/users/\".concat(createdBy.id,\"/details\");value=createdBy&&createdBy.username;break;}return{link:link,value:value};};export default function LaunchedByDetail(_ref){var job=_ref.job,_ref$dataCy=_ref.dataCy,dataCy=_ref$dataCy===void 0?null:_ref$dataCy;var _ref2=getLaunchedByDetails(job)||{},launchedByValue=_ref2.value,launchedByLink=_ref2.link;return/*#__PURE__*/_jsx(Detail,{dataCy:dataCy,label:/*i18n*/i18n._(\"Launched By\"),value:launchedByLink?/*#__PURE__*/_jsx(Link,{to:\"\".concat(launchedByLink),children:launchedByValue}):launchedByValue});}","map":{"version":3,"sources":["/awx_devel/awx/ui/src/components/DetailList/LaunchedByDetail.js"],"names":["React","Link","getScheduleUrl","Detail","getLaunchedByDetails","job","summary_fields","createdBy","created_by","jobTemplate","job_template","workflowJT","workflow_job_template","schedule","link","value","launch_type","id","name","username","LaunchedByDetail","dataCy","launchedByValue","launchedByLink"],"mappings":"+BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,MAAOC,CAAAA,cAAP,KAA2B,qBAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,2CAEA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,GAAD,CAAS,CACpC,wBAKIA,GAAG,CAACC,cALR,CACcC,SADd,qBACEC,UADF,CAEgBC,WAFhB,qBAEEC,YAFF,CAGyBC,UAHzB,qBAGEC,qBAHF,CAIEC,QAJF,qBAIEA,QAJF,CAOA,GAAI,CAACN,SAAD,EAAc,CAACM,QAAnB,CAA6B,CAC3B,MAAO,EAAP,CACD,CAED,GAAIC,CAAAA,IAAJ,CACA,GAAIC,CAAAA,KAAJ,CAEA,OAAQV,GAAG,CAACW,WAAZ,EACE,IAAK,SAAL,CACED,KAAK,SAAG,iBAAR,CACAD,IAAI,CACDL,WAAW,oCAA+BA,WAAW,CAACQ,EAA3C,YAAZ,EACCN,UAAU,6CAC2BA,UAAU,CAACM,EADtC,YAFb,CAIA,MACF,IAAK,WAAL,CACEF,KAAK,CAAGF,QAAQ,CAACK,IAAjB,CACAJ,IAAI,CAAGZ,cAAc,CAACG,GAAD,CAArB,CACA,MACF,IAAK,QAAL,CACES,IAAI,kBAAaP,SAAS,CAACU,EAAvB,YAAJ,CACAF,KAAK,CAAGR,SAAS,CAACY,QAAlB,CACA,MACF,QACEL,IAAI,CAAGP,SAAS,mBAAcA,SAAS,CAACU,EAAxB,YAAhB,CACAF,KAAK,CAAGR,SAAS,EAAIA,SAAS,CAACY,QAA/B,CACA,MAnBJ,CAsBA,MAAO,CAAEL,IAAI,CAAJA,IAAF,CAAQC,KAAK,CAALA,KAAR,CAAP,CACD,CAtCD,CAwCA,cAAe,SAASK,CAAAA,gBAAT,MAAkD,IAAtBf,CAAAA,GAAsB,MAAtBA,GAAsB,kBAAjBgB,MAAiB,CAAjBA,MAAiB,sBAAR,IAAQ,aAC/D,UACEjB,oBAAoB,CAACC,GAAD,CAApB,EAA6B,EAD/B,CAAeiB,eAAf,OAAQP,KAAR,CAAsCQ,cAAtC,OAAgCT,IAAhC,CAGA,mBACE,KAAC,MAAD,EACE,MAAM,CAAEO,MADV,CAEE,KAAK,SAAE,qBAFT,CAGE,KAAK,CACHE,cAAc,cACZ,KAAC,IAAD,EAAM,EAAE,WAAKA,cAAL,CAAR,UAAgCD,eAAhC,EADY,CAGZA,eAPN,EADF,CAaD","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { t } from '@lingui/macro';\nimport getScheduleUrl from 'util/getScheduleUrl';\nimport Detail from './Detail';\n\nconst getLaunchedByDetails = (job) => {\n  const {\n    created_by: createdBy,\n    job_template: jobTemplate,\n    workflow_job_template: workflowJT,\n    schedule,\n  } = job.summary_fields;\n\n  if (!createdBy && !schedule) {\n    return {};\n  }\n\n  let link;\n  let value;\n\n  switch (job.launch_type) {\n    case 'webhook':\n      value = t`Webhook`;\n      link =\n        (jobTemplate && `/templates/job_template/${jobTemplate.id}/details`) ||\n        (workflowJT &&\n          `/templates/workflow_job_template/${workflowJT.id}/details`);\n      break;\n    case 'scheduled':\n      value = schedule.name;\n      link = getScheduleUrl(job);\n      break;\n    case 'manual':\n      link = `/users/${createdBy.id}/details`;\n      value = createdBy.username;\n      break;\n    default:\n      link = createdBy && `/users/${createdBy.id}/details`;\n      value = createdBy && createdBy.username;\n      break;\n  }\n\n  return { link, value };\n};\n\nexport default function LaunchedByDetail({ job, dataCy = null }) {\n  const { value: launchedByValue, link: launchedByLink } =\n    getLaunchedByDetails(job) || {};\n\n  return (\n    <Detail\n      dataCy={dataCy}\n      label={t`Launched By`}\n      value={\n        launchedByLink ? (\n          <Link to={`${launchedByLink}`}>{launchedByValue}</Link>\n        ) : (\n          launchedByValue\n        )\n      }\n    />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}