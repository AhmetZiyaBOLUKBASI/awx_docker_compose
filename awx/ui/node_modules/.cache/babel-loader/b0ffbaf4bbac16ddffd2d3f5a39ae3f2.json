{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import{i18n}from\"@lingui/core\";import React,{useState}from'react';import{useField}from'formik';import{Button,FileUpload,FormGroup as PFFormGroup,InputGroup,Switch,TextArea,TextInput,Tooltip,ButtonVariant}from'@patternfly/react-core';import FileUploadIcon from'@patternfly/react-icons/dist/js/icons/file-upload-icon';import{ExclamationCircleIcon as PFExclamationCircleIcon}from'@patternfly/react-icons';import styled from'styled-components';import AnsibleSelect from'components/AnsibleSelect';import{ExecutionEnvironmentLookup}from'components/Lookup';import CodeEditor from'components/CodeEditor';import{PasswordInput}from'components/FormField';import{FormFullWidthLayout}from'components/FormLayout';import Popover from'components/Popover';import{combine,minMaxValue,required,url,number}from'util/validators';import AlertModal from'components/AlertModal';import RevertButton from'./RevertButton';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ExclamationCircleIcon=styled(PFExclamationCircleIcon)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  && {\\n    color: var(--pf-global--danger-color--100);\\n  }\\n\"])));var FormGroup=styled(PFFormGroup)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  .pf-c-form__group-label {\\n    display: inline-flex;\\n    align-items: center;\\n    width: 100%;\\n  }\\n\"])));var Selected=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  background-color: white;\\n  border-bottom-color: var(--pf-global--BorderColor--200);\\n\"])));var SettingGroup=function SettingGroup(_ref){var children=_ref.children,defaultValue=_ref.defaultValue,fieldId=_ref.fieldId,helperTextInvalid=_ref.helperTextInvalid,isDisabled=_ref.isDisabled,isRequired=_ref.isRequired,label=_ref.label,onRevertCallback=_ref.onRevertCallback,popoverContent=_ref.popoverContent,validated=_ref.validated;return/*#__PURE__*/_jsx(FormGroup,{fieldId:fieldId,helperTextInvalid:helperTextInvalid,id:\"\".concat(fieldId,\"-field\"),isRequired:isRequired,label:label,validated:validated,labelIcon:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Popover,{content:popoverContent,ariaLabel:\"\".concat(/*i18n*/i18n._(\"More information for\"),\" \").concat(label)}),/*#__PURE__*/_jsx(RevertButton,{id:fieldId,defaultValue:defaultValue,isDisabled:isDisabled,onRevertCallback:onRevertCallback})]}),children:children});};var BooleanField=function BooleanField(_ref2){var _config$default;var _ref2$ariaLabel=_ref2.ariaLabel,ariaLabel=_ref2$ariaLabel===void 0?'':_ref2$ariaLabel,name=_ref2.name,config=_ref2.config,_ref2$disabled=_ref2.disabled,disabled=_ref2$disabled===void 0?false:_ref2$disabled,needsConfirmationModal=_ref2.needsConfirmationModal,modalTitle=_ref2.modalTitle;var _useField=useField(name),_useField2=_slicedToArray(_useField,3),field=_useField2[0],meta=_useField2[1],helpers=_useField2[2];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isModalOpen=_useState2[0],setIsModalOpen=_useState2[1];return config?/*#__PURE__*/_jsxs(SettingGroup,{defaultValue:(_config$default=config.default)!==null&&_config$default!==void 0?_config$default:false,fieldId:name,helperTextInvalid:meta.error,isDisabled:disabled,label:config.label,popoverContent:config.help_text,children:[isModalOpen&&/*#__PURE__*/_jsx(AlertModal,{isOpen:true,title:modalTitle,variant:\"danger\",\"aria-label\":modalTitle,onClose:function onClose(){setIsModalOpen(false);},actions:[/*#__PURE__*/_jsx(Button,{ouiaId:\"confirm-misc-settings-modal\",variant:\"danger\",\"aria-label\":/*i18n*/i18n._(\"Confirm\"),onClick:function onClick(){helpers.setValue(true);setIsModalOpen(false);},children:/*i18n*/i18n._(\"Confirm\")},\"confirm\"),/*#__PURE__*/_jsx(Button,{ouiaId:\"cancel-misc-settings-modal\",variant:\"link\",\"aria-label\":/*i18n*/i18n._(\"Cancel\"),onClick:function onClick(){helpers.setValue(false);setIsModalOpen(false);},children:/*i18n*/i18n._(\"Cancel\")},\"cancel\")],children:/*i18n*/i18n._(\"Are you sure you want to disable local authentication?  Doing so could impact users' ability to log in and the system administrator's ability to reverse this change.\")}),/*#__PURE__*/_jsx(Switch,{id:name,ouiaId:name,isChecked:field.value,isDisabled:disabled,label:/*i18n*/i18n._(\"On\"),labelOff:/*i18n*/i18n._(\"Off\"),onChange:function onChange(isOn){if(needsConfirmationModal&&isOn){setIsModalOpen(true);}helpers.setValue(!field.value);},\"aria-label\":ariaLabel||config.label})]}):null;};var ChoiceField=function ChoiceField(_ref3){var _config$default2;var name=_ref3.name,config=_ref3.config,_ref3$isRequired=_ref3.isRequired,isRequired=_ref3$isRequired===void 0?false:_ref3$isRequired;var validate=isRequired?required(null):null;var _useField3=useField({name:name,validate:validate}),_useField4=_slicedToArray(_useField3,2),field=_useField4[0],meta=_useField4[1];var isValid=!meta.error||!meta.touched;return config?/*#__PURE__*/_jsx(SettingGroup,{defaultValue:(_config$default2=config.default)!==null&&_config$default2!==void 0?_config$default2:'',fieldId:name,helperTextInvalid:meta.error,isRequired:isRequired,label:config.label,popoverContent:config.help_text,validated:isValid?'default':'error',children:/*#__PURE__*/_jsx(AnsibleSelect,_objectSpread(_objectSpread({id:name},field),{},{data:_toConsumableArray(config.choices.map(function(_ref4,index){var _ref5=_slicedToArray(_ref4,2),value=_ref5[0],label=_ref5[1];return{label:label,value:value!==null&&value!==void 0?value:'',key:value!==null&&value!==void 0?value:index};}))}))}):null;};var EncryptedField=function EncryptedField(_ref6){var _config$default3;var name=_ref6.name,config=_ref6.config,_ref6$isRequired=_ref6.isRequired,isRequired=_ref6$isRequired===void 0?false:_ref6$isRequired;var validate=isRequired?required(null):null;var _useField5=useField({name:name,validate:validate}),_useField6=_slicedToArray(_useField5,2),meta=_useField6[1];var isValid=!(meta.touched&&meta.error);return config?/*#__PURE__*/_jsx(SettingGroup,{defaultValue:(_config$default3=config.default)!==null&&_config$default3!==void 0?_config$default3:'',fieldId:name,helperTextInvalid:meta.error,isRequired:isRequired,label:config.label,popoverContent:config.help_text,validated:isValid?'default':'error',children:/*#__PURE__*/_jsx(InputGroup,{children:/*#__PURE__*/_jsx(PasswordInput,{id:name,name:name,label:config.label,validate:validate,isRequired:isRequired})})}):null;};var ExecutionEnvField=function ExecutionEnvField(_ref7){var _config$default4;var name=_ref7.name,config=_ref7.config,_ref7$isRequired=_ref7.isRequired,isRequired=_ref7$isRequired===void 0?false:_ref7$isRequired;var _useField7=useField({name:name}),_useField8=_slicedToArray(_useField7,3),field=_useField8[0],meta=_useField8[1],helpers=_useField8[2];return config?/*#__PURE__*/_jsx(SettingGroup,{defaultValue:(_config$default4=config.default)!==null&&_config$default4!==void 0?_config$default4:'',fieldId:name,helperTextInvalid:meta.error,isRequired:isRequired,label:config.label,popoverContent:config.help_text,isDisabled:field.value===null,onRevertCallback:function onRevertCallback(){return helpers.setValue(config.default);},children:/*#__PURE__*/_jsx(ExecutionEnvironmentLookup,{value:field.value,onChange:function onChange(value){helpers.setValue(value,false);},overrideLabel:true,fieldName:name})}):null;};var InputAlertField=function InputAlertField(_ref8){var _config$default5;var name=_ref8.name,config=_ref8.config;var _useField9=useField({name:name}),_useField10=_slicedToArray(_useField9,2),field=_useField10[0],meta=_useField10[1];var isValid=!(meta.touched&&meta.error);var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isModalOpen=_useState4[0],setIsModalOpen=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isDisable=_useState6[0],setIsDisable=_useState6[1];var handleSetIsOpen=function handleSetIsOpen(){setIsModalOpen(true);};var handleEnableTextInput=function handleEnableTextInput(){setIsDisable(false);};return config?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SettingGroup,{defaultValue:(_config$default5=config.default)!==null&&_config$default5!==void 0?_config$default5:'',fieldId:name,helperTextInvalid:meta.error,label:config.label,popoverContent:config.help_text,validated:isValid?'default':'error',isDisabled:isDisable,children:/*#__PURE__*/_jsxs(Selected,{children:[isDisable&&/*#__PURE__*/_jsx(Tooltip,{content:/*i18n*/i18n._(\"Edit Login redirect override URL\"),position:\"top\",children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){handleSetIsOpen();},ouiaId:\"confirm-edit-login-redirect\",variant:ButtonVariant.control,children:/*#__PURE__*/_jsx(ExclamationCircleIcon,{})})}),/*#__PURE__*/_jsx(TextInput,{id:name,placeholder:config.placeholder,validated:isValid?'default':'error',value:field.value,onBlur:field.onBlur,onChange:function onChange(value,event){field.onChange(event);},isDisabled:isDisable})]})}),isModalOpen&&isDisable&&/*#__PURE__*/_jsx(AlertModal,{isOpen:true,title:/*i18n*/i18n._(\"Edit login redirect override URL\"),variant:\"danger\",\"aria-label\":/*i18n*/i18n._(\"Edit login redirect override URL\"),onClose:function onClose(){setIsModalOpen(false);},actions:[/*#__PURE__*/_jsx(Button,{variant:\"danger\",\"aria-label\":/*i18n*/i18n._(\"confirm edit login redirect\"),onClick:function onClick(){handleEnableTextInput();setIsModalOpen(false);},children:/*i18n*/i18n._(\"Confirm\")},\"confirm\"),/*#__PURE__*/_jsx(Button,{variant:\"link\",\"aria-label\":/*i18n*/i18n._(\"cancel edit login redirect\"),onClick:function onClick(){setIsModalOpen(false);},children:/*i18n*/i18n._(\"Cancel\")},\"cancel\")],children:/*i18n*/i18n._(\"Are you sure you want to edit login redirect override URL?  Doing so could impact users' ability to log in to the system once local authentication is also disabled.\")})]}):null;};var InputField=function InputField(_ref9){var _config$min_value,_config$max_value,_config$default6;var name=_ref9.name,config=_ref9.config,_ref9$type=_ref9.type,type=_ref9$type===void 0?'text':_ref9$type,_ref9$isRequired=_ref9.isRequired,isRequired=_ref9$isRequired===void 0?false:_ref9$isRequired;var min_value=(_config$min_value=config===null||config===void 0?void 0:config.min_value)!==null&&_config$min_value!==void 0?_config$min_value:Number.MIN_SAFE_INTEGER;var max_value=(_config$max_value=config===null||config===void 0?void 0:config.max_value)!==null&&_config$max_value!==void 0?_config$max_value:Number.MAX_SAFE_INTEGER;var validators=[].concat(_toConsumableArray(isRequired?[required(null)]:[]),_toConsumableArray(type==='url'?[url()]:[]),_toConsumableArray(type==='number'?[number(),minMaxValue(min_value,max_value)]:[]));var _useField11=useField({name:name,validate:combine(validators)}),_useField12=_slicedToArray(_useField11,2),field=_useField12[0],meta=_useField12[1];var isValid=!(meta.touched&&meta.error);return config?/*#__PURE__*/_jsx(SettingGroup,{defaultValue:(_config$default6=config.default)!==null&&_config$default6!==void 0?_config$default6:'',fieldId:name,helperTextInvalid:meta.error,isRequired:isRequired,label:config.label,popoverContent:config.help_text,validated:isValid?'default':'error',children:/*#__PURE__*/_jsx(TextInput,{type:type,id:name,isRequired:isRequired,placeholder:config.placeholder,validated:isValid?'default':'error',value:field.value,onBlur:field.onBlur,onChange:function onChange(value,event){field.onChange(event);}})}):null;};var TextAreaField=function TextAreaField(_ref10){var name=_ref10.name,config=_ref10.config,_ref10$isRequired=_ref10.isRequired,isRequired=_ref10$isRequired===void 0?false:_ref10$isRequired;var validate=isRequired?required(null):null;var _useField13=useField({name:name,validate:validate}),_useField14=_slicedToArray(_useField13,2),field=_useField14[0],meta=_useField14[1];var isValid=!(meta.touched&&meta.error);return config?/*#__PURE__*/_jsx(SettingGroup,{defaultValue:config.default||'',fieldId:name,helperTextInvalid:meta.error,isRequired:isRequired,label:config.label,popoverContent:config.help_text,validated:isValid?'default':'error',children:/*#__PURE__*/_jsx(TextArea,{id:name,isRequired:isRequired,placeholder:config.placeholder,validated:isValid?'default':'error',value:field.value,onBlur:field.onBlur,onChange:function onChange(value,event){field.onChange(event);},resizeOrientation:\"vertical\"})}):null;};var ObjectField=function ObjectField(_ref11){var name=_ref11.name,config=_ref11.config,revertValue=_ref11.revertValue,_ref11$isRequired=_ref11.isRequired,isRequired=_ref11$isRequired===void 0?false:_ref11$isRequired;var validate=isRequired?required(null):null;var _useField15=useField({name:name,validate:validate}),_useField16=_slicedToArray(_useField15,3),field=_useField16[0],meta=_useField16[1],helpers=_useField16[2];var isValid=!(meta.touched&&meta.error);var defaultRevertValue=(config===null||config===void 0?void 0:config.default)!==null?JSON.stringify(config.default,null,2):null;return config?/*#__PURE__*/_jsx(FormFullWidthLayout,{children:/*#__PURE__*/_jsx(SettingGroup,{defaultValue:revertValue!==null&&revertValue!==void 0?revertValue:defaultRevertValue,fieldId:name,helperTextInvalid:meta.error,isRequired:isRequired,label:config.label,popoverContent:config.help_text,validated:isValid?'default':'error',children:/*#__PURE__*/_jsx(CodeEditor,_objectSpread(_objectSpread({},field),{},{value:field.value===null?JSON.stringify(field.value,null,2):field.value,rows:field.value!==null?'auto':1,id:name,mode:\"javascript\",onChange:function onChange(value){helpers.setValue(value);},placeholder:JSON.stringify(config===null||config===void 0?void 0:config.placeholder,null,2)}))})}):null;};var FileUploadIconWrapper=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  margin: var(--pf-global--spacer--md);\\n\"])));var FileUploadField=function FileUploadField(_ref12){var _config$default7;var name=_ref12.name,config=_ref12.config,_ref12$type=_ref12.type,type=_ref12$type===void 0?'text':_ref12$type,_ref12$isRequired=_ref12.isRequired,isRequired=_ref12$isRequired===void 0?false:_ref12$isRequired;var validate=isRequired?required(null):null;var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),filename=_useState8[0],setFilename=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),fileIsUploading=_useState10[0],setFileIsUploading=_useState10[1];var _useField17=useField({name:name,validate:validate}),_useField18=_slicedToArray(_useField17,3),field=_useField18[0],meta=_useField18[1],helpers=_useField18[2];var isValid=!(meta.touched&&meta.error);return config?/*#__PURE__*/_jsx(FormFullWidthLayout,{children:/*#__PURE__*/_jsx(SettingGroup,{defaultValue:(_config$default7=config.default)!==null&&_config$default7!==void 0?_config$default7:'',fieldId:name,helperTextInvalid:meta.error,isRequired:isRequired,label:config.label,popoverContent:config.help_text,validated:isValid?'default':'error',onRevertCallback:function onRevertCallback(){return setFilename('');},children:/*#__PURE__*/_jsx(FileUpload,_objectSpread(_objectSpread({},field),{},{id:name,type:type,filename:filename,onChange:function onChange(value,title){helpers.setValue(value);setFilename(title);},onReadStarted:function onReadStarted(){return setFileIsUploading(true);},onReadFinished:function onReadFinished(){return setFileIsUploading(false);},isLoading:fileIsUploading,allowEditingUploadedText:true,validated:isValid?'default':'error',hideDefaultPreview:type==='dataURL',children:type==='dataURL'&&/*#__PURE__*/_jsx(FileUploadIconWrapper,{children:field.value?/*#__PURE__*/_jsx(\"img\",{src:field.value,alt:filename,height:\"200px\",width:\"200px\"}):/*#__PURE__*/_jsx(FileUploadIcon,{size:\"lg\"})})}))})}):null;};export{BooleanField,ChoiceField,EncryptedField,ExecutionEnvField,FileUploadField,InputField,ObjectField,TextAreaField,InputAlertField};","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/Setting/shared/SharedFields.js"],"names":["React","useState","useField","Button","FileUpload","FormGroup","PFFormGroup","InputGroup","Switch","TextArea","TextInput","Tooltip","ButtonVariant","FileUploadIcon","ExclamationCircleIcon","PFExclamationCircleIcon","styled","AnsibleSelect","ExecutionEnvironmentLookup","CodeEditor","PasswordInput","FormFullWidthLayout","Popover","combine","minMaxValue","required","url","number","AlertModal","RevertButton","Selected","div","SettingGroup","children","defaultValue","fieldId","helperTextInvalid","isDisabled","isRequired","label","onRevertCallback","popoverContent","validated","BooleanField","ariaLabel","name","config","disabled","needsConfirmationModal","modalTitle","field","meta","helpers","isModalOpen","setIsModalOpen","default","error","help_text","setValue","value","isOn","ChoiceField","validate","isValid","touched","choices","map","index","key","EncryptedField","ExecutionEnvField","InputAlertField","isDisable","setIsDisable","handleSetIsOpen","handleEnableTextInput","control","placeholder","onBlur","event","onChange","InputField","type","min_value","Number","MIN_SAFE_INTEGER","max_value","MAX_SAFE_INTEGER","validators","TextAreaField","ObjectField","revertValue","defaultRevertValue","JSON","stringify","FileUploadIconWrapper","FileUploadField","filename","setFilename","fileIsUploading","setFileIsUploading","title"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { shape, string } from 'prop-types';\nimport { t } from '@lingui/macro';\nimport { useField } from 'formik';\nimport {\n  Button,\n  FileUpload,\n  FormGroup as PFFormGroup,\n  InputGroup,\n  Switch,\n  TextArea,\n  TextInput,\n  Tooltip,\n  ButtonVariant,\n} from '@patternfly/react-core';\nimport FileUploadIcon from '@patternfly/react-icons/dist/js/icons/file-upload-icon';\nimport { ExclamationCircleIcon as PFExclamationCircleIcon } from '@patternfly/react-icons';\nimport styled from 'styled-components';\nimport AnsibleSelect from 'components/AnsibleSelect';\nimport { ExecutionEnvironmentLookup } from 'components/Lookup';\nimport CodeEditor from 'components/CodeEditor';\nimport { PasswordInput } from 'components/FormField';\nimport { FormFullWidthLayout } from 'components/FormLayout';\nimport Popover from 'components/Popover';\nimport { combine, minMaxValue, required, url, number } from 'util/validators';\nimport AlertModal from 'components/AlertModal';\nimport RevertButton from './RevertButton';\n\nconst ExclamationCircleIcon = styled(PFExclamationCircleIcon)`\n  && {\n    color: var(--pf-global--danger-color--100);\n  }\n`;\n\nconst FormGroup = styled(PFFormGroup)`\n  .pf-c-form__group-label {\n    display: inline-flex;\n    align-items: center;\n    width: 100%;\n  }\n`;\n\nconst Selected = styled.div`\n  display: flex;\n  justify-content: space-between;\n  background-color: white;\n  border-bottom-color: var(--pf-global--BorderColor--200);\n`;\n\nconst SettingGroup = ({\n  children,\n  defaultValue,\n  fieldId,\n  helperTextInvalid,\n  isDisabled,\n  isRequired,\n  label,\n  onRevertCallback,\n  popoverContent,\n  validated,\n}) => (\n  <FormGroup\n    fieldId={fieldId}\n    helperTextInvalid={helperTextInvalid}\n    id={`${fieldId}-field`}\n    isRequired={isRequired}\n    label={label}\n    validated={validated}\n    labelIcon={\n      <>\n        <Popover\n          content={popoverContent}\n          ariaLabel={`${t`More information for`} ${label}`}\n        />\n        <RevertButton\n          id={fieldId}\n          defaultValue={defaultValue}\n          isDisabled={isDisabled}\n          onRevertCallback={onRevertCallback}\n        />\n      </>\n    }\n  >\n    {children}\n  </FormGroup>\n);\nconst BooleanField = ({\n  ariaLabel = '',\n  name,\n  config,\n  disabled = false,\n  needsConfirmationModal,\n  modalTitle,\n}) => {\n  const [field, meta, helpers] = useField(name);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  return config ? (\n    <SettingGroup\n      defaultValue={config.default ?? false}\n      fieldId={name}\n      helperTextInvalid={meta.error}\n      isDisabled={disabled}\n      label={config.label}\n      popoverContent={config.help_text}\n    >\n      {isModalOpen && (\n        <AlertModal\n          isOpen\n          title={modalTitle}\n          variant=\"danger\"\n          aria-label={modalTitle}\n          onClose={() => {\n            setIsModalOpen(false);\n          }}\n          actions={[\n            <Button\n              ouiaId=\"confirm-misc-settings-modal\"\n              key=\"confirm\"\n              variant=\"danger\"\n              aria-label={t`Confirm`}\n              onClick={() => {\n                helpers.setValue(true);\n                setIsModalOpen(false);\n              }}\n            >\n              {t`Confirm`}\n            </Button>,\n            <Button\n              ouiaId=\"cancel-misc-settings-modal\"\n              key=\"cancel\"\n              variant=\"link\"\n              aria-label={t`Cancel`}\n              onClick={() => {\n                helpers.setValue(false);\n                setIsModalOpen(false);\n              }}\n            >\n              {t`Cancel`}\n            </Button>,\n          ]}\n        >{t`Are you sure you want to disable local authentication?  Doing so could impact users' ability to log in and the system administrator's ability to reverse this change.`}</AlertModal>\n      )}\n      <Switch\n        id={name}\n        ouiaId={name}\n        isChecked={field.value}\n        isDisabled={disabled}\n        label={t`On`}\n        labelOff={t`Off`}\n        onChange={(isOn) => {\n          if (needsConfirmationModal && isOn) {\n            setIsModalOpen(true);\n          }\n          helpers.setValue(!field.value);\n        }}\n        aria-label={ariaLabel || config.label}\n      />\n    </SettingGroup>\n  ) : null;\n};\nBooleanField.propTypes = {\n  name: string.isRequired,\n  config: shape({}).isRequired,\n};\n\nconst ChoiceField = ({ name, config, isRequired = false }) => {\n  const validate = isRequired ? required(null) : null;\n  const [field, meta] = useField({ name, validate });\n  const isValid = !meta.error || !meta.touched;\n\n  return config ? (\n    <SettingGroup\n      defaultValue={config.default ?? ''}\n      fieldId={name}\n      helperTextInvalid={meta.error}\n      isRequired={isRequired}\n      label={config.label}\n      popoverContent={config.help_text}\n      validated={isValid ? 'default' : 'error'}\n    >\n      <AnsibleSelect\n        id={name}\n        {...field}\n        data={[\n          ...config.choices.map(([value, label], index) => ({\n            label,\n            value: value ?? '',\n            key: value ?? index,\n          })),\n        ]}\n      />\n    </SettingGroup>\n  ) : null;\n};\nChoiceField.propTypes = {\n  name: string.isRequired,\n  config: shape({}).isRequired,\n};\n\nconst EncryptedField = ({ name, config, isRequired = false }) => {\n  const validate = isRequired ? required(null) : null;\n  const [, meta] = useField({ name, validate });\n  const isValid = !(meta.touched && meta.error);\n\n  return config ? (\n    <SettingGroup\n      defaultValue={config.default ?? ''}\n      fieldId={name}\n      helperTextInvalid={meta.error}\n      isRequired={isRequired}\n      label={config.label}\n      popoverContent={config.help_text}\n      validated={isValid ? 'default' : 'error'}\n    >\n      <InputGroup>\n        <PasswordInput\n          id={name}\n          name={name}\n          label={config.label}\n          validate={validate}\n          isRequired={isRequired}\n        />\n      </InputGroup>\n    </SettingGroup>\n  ) : null;\n};\nEncryptedField.propTypes = {\n  name: string.isRequired,\n  config: shape({}).isRequired,\n};\n\nconst ExecutionEnvField = ({ name, config, isRequired = false }) => {\n  const [field, meta, helpers] = useField({ name });\n  return config ? (\n    <SettingGroup\n      defaultValue={config.default ?? ''}\n      fieldId={name}\n      helperTextInvalid={meta.error}\n      isRequired={isRequired}\n      label={config.label}\n      popoverContent={config.help_text}\n      isDisabled={field.value === null}\n      onRevertCallback={() => helpers.setValue(config.default)}\n    >\n      <ExecutionEnvironmentLookup\n        value={field.value}\n        onChange={(value) => {\n          helpers.setValue(value, false);\n        }}\n        overrideLabel\n        fieldName={name}\n      />\n    </SettingGroup>\n  ) : null;\n};\nExecutionEnvField.propTypes = {\n  name: string.isRequired,\n  config: shape({}).isRequired,\n};\n\nconst InputAlertField = ({ name, config }) => {\n  const [field, meta] = useField({ name });\n  const isValid = !(meta.touched && meta.error);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isDisable, setIsDisable] = useState(true);\n\n  const handleSetIsOpen = () => {\n    setIsModalOpen(true);\n  };\n\n  const handleEnableTextInput = () => {\n    setIsDisable(false);\n  };\n\n  return config ? (\n    <>\n      <SettingGroup\n        defaultValue={config.default ?? ''}\n        fieldId={name}\n        helperTextInvalid={meta.error}\n        label={config.label}\n        popoverContent={config.help_text}\n        validated={isValid ? 'default' : 'error'}\n        isDisabled={isDisable}\n      >\n        <Selected>\n          {isDisable && (\n            <Tooltip\n              content={t`Edit Login redirect override URL`}\n              position=\"top\"\n            >\n              <Button\n                onClick={() => {\n                  handleSetIsOpen();\n                }}\n                ouiaId=\"confirm-edit-login-redirect\"\n                variant={ButtonVariant.control}\n              >\n                <ExclamationCircleIcon />\n              </Button>\n            </Tooltip>\n          )}\n          <TextInput\n            id={name}\n            placeholder={config.placeholder}\n            validated={isValid ? 'default' : 'error'}\n            value={field.value}\n            onBlur={field.onBlur}\n            onChange={(value, event) => {\n              field.onChange(event);\n            }}\n            isDisabled={isDisable}\n          />\n        </Selected>\n      </SettingGroup>\n      {isModalOpen && isDisable && (\n        <AlertModal\n          isOpen\n          title={t`Edit login redirect override URL`}\n          variant=\"danger\"\n          aria-label={t`Edit login redirect override URL`}\n          onClose={() => {\n            setIsModalOpen(false);\n          }}\n          actions={[\n            <Button\n              key=\"confirm\"\n              variant=\"danger\"\n              aria-label={t`confirm edit login redirect`}\n              onClick={() => {\n                handleEnableTextInput();\n                setIsModalOpen(false);\n              }}\n            >\n              {t`Confirm`}\n            </Button>,\n            <Button\n              key=\"cancel\"\n              variant=\"link\"\n              aria-label={t`cancel edit login redirect`}\n              onClick={() => {\n                setIsModalOpen(false);\n              }}\n            >\n              {t`Cancel`}\n            </Button>,\n          ]}\n        >\n          {t`Are you sure you want to edit login redirect override URL?  Doing so could impact users' ability to log in to the system once local authentication is also disabled.`}\n        </AlertModal>\n      )}\n    </>\n  ) : null;\n};\n\nInputAlertField.propTypes = {\n  name: string.isRequired,\n  config: shape({}).isRequired,\n};\n\nconst InputField = ({ name, config, type = 'text', isRequired = false }) => {\n  const min_value = config?.min_value ?? Number.MIN_SAFE_INTEGER;\n  const max_value = config?.max_value ?? Number.MAX_SAFE_INTEGER;\n  const validators = [\n    ...(isRequired ? [required(null)] : []),\n    ...(type === 'url' ? [url()] : []),\n    ...(type === 'number' ? [number(), minMaxValue(min_value, max_value)] : []),\n  ];\n  const [field, meta] = useField({ name, validate: combine(validators) });\n  const isValid = !(meta.touched && meta.error);\n\n  return config ? (\n    <SettingGroup\n      defaultValue={config.default ?? ''}\n      fieldId={name}\n      helperTextInvalid={meta.error}\n      isRequired={isRequired}\n      label={config.label}\n      popoverContent={config.help_text}\n      validated={isValid ? 'default' : 'error'}\n    >\n      <TextInput\n        type={type}\n        id={name}\n        isRequired={isRequired}\n        placeholder={config.placeholder}\n        validated={isValid ? 'default' : 'error'}\n        value={field.value}\n        onBlur={field.onBlur}\n        onChange={(value, event) => {\n          field.onChange(event);\n        }}\n      />\n    </SettingGroup>\n  ) : null;\n};\nInputField.propTypes = {\n  name: string.isRequired,\n  config: shape({}).isRequired,\n};\n\nconst TextAreaField = ({ name, config, isRequired = false }) => {\n  const validate = isRequired ? required(null) : null;\n  const [field, meta] = useField({ name, validate });\n  const isValid = !(meta.touched && meta.error);\n\n  return config ? (\n    <SettingGroup\n      defaultValue={config.default || ''}\n      fieldId={name}\n      helperTextInvalid={meta.error}\n      isRequired={isRequired}\n      label={config.label}\n      popoverContent={config.help_text}\n      validated={isValid ? 'default' : 'error'}\n    >\n      <TextArea\n        id={name}\n        isRequired={isRequired}\n        placeholder={config.placeholder}\n        validated={isValid ? 'default' : 'error'}\n        value={field.value}\n        onBlur={field.onBlur}\n        onChange={(value, event) => {\n          field.onChange(event);\n        }}\n        resizeOrientation=\"vertical\"\n      />\n    </SettingGroup>\n  ) : null;\n};\nTextAreaField.propTypes = {\n  name: string.isRequired,\n  config: shape({}).isRequired,\n};\n\nconst ObjectField = ({ name, config, revertValue, isRequired = false }) => {\n  const validate = isRequired ? required(null) : null;\n  const [field, meta, helpers] = useField({ name, validate });\n  const isValid = !(meta.touched && meta.error);\n\n  const defaultRevertValue =\n    config?.default !== null ? JSON.stringify(config.default, null, 2) : null;\n\n  return config ? (\n    <FormFullWidthLayout>\n      <SettingGroup\n        defaultValue={revertValue ?? defaultRevertValue}\n        fieldId={name}\n        helperTextInvalid={meta.error}\n        isRequired={isRequired}\n        label={config.label}\n        popoverContent={config.help_text}\n        validated={isValid ? 'default' : 'error'}\n      >\n        <CodeEditor\n          {...field}\n          value={\n            field.value === null\n              ? JSON.stringify(field.value, null, 2)\n              : field.value\n          }\n          rows={field.value !== null ? 'auto' : 1}\n          id={name}\n          mode=\"javascript\"\n          onChange={(value) => {\n            helpers.setValue(value);\n          }}\n          placeholder={JSON.stringify(config?.placeholder, null, 2)}\n        />\n      </SettingGroup>\n    </FormFullWidthLayout>\n  ) : null;\n};\nObjectField.propTypes = {\n  name: string.isRequired,\n  config: shape({}).isRequired,\n};\n\nconst FileUploadIconWrapper = styled.div`\n  margin: var(--pf-global--spacer--md);\n`;\nconst FileUploadField = ({\n  name,\n  config,\n  type = 'text',\n  isRequired = false,\n}) => {\n  const validate = isRequired ? required(null) : null;\n  const [filename, setFilename] = useState('');\n  const [fileIsUploading, setFileIsUploading] = useState(false);\n  const [field, meta, helpers] = useField({ name, validate });\n  const isValid = !(meta.touched && meta.error);\n\n  return config ? (\n    <FormFullWidthLayout>\n      <SettingGroup\n        defaultValue={config.default ?? ''}\n        fieldId={name}\n        helperTextInvalid={meta.error}\n        isRequired={isRequired}\n        label={config.label}\n        popoverContent={config.help_text}\n        validated={isValid ? 'default' : 'error'}\n        onRevertCallback={() => setFilename('')}\n      >\n        <FileUpload\n          {...field}\n          id={name}\n          type={type}\n          filename={filename}\n          onChange={(value, title) => {\n            helpers.setValue(value);\n            setFilename(title);\n          }}\n          onReadStarted={() => setFileIsUploading(true)}\n          onReadFinished={() => setFileIsUploading(false)}\n          isLoading={fileIsUploading}\n          allowEditingUploadedText\n          validated={isValid ? 'default' : 'error'}\n          hideDefaultPreview={type === 'dataURL'}\n        >\n          {type === 'dataURL' && (\n            <FileUploadIconWrapper>\n              {field.value ? (\n                <img\n                  src={field.value}\n                  alt={filename}\n                  height=\"200px\"\n                  width=\"200px\"\n                />\n              ) : (\n                <FileUploadIcon size=\"lg\" />\n              )}\n            </FileUploadIconWrapper>\n          )}\n        </FileUpload>\n      </SettingGroup>\n    </FormFullWidthLayout>\n  ) : null;\n};\nFileUploadField.propTypes = {\n  name: string.isRequired,\n  config: shape({}).isRequired,\n};\n\nexport {\n  BooleanField,\n  ChoiceField,\n  EncryptedField,\n  ExecutionEnvField,\n  FileUploadField,\n  InputField,\n  ObjectField,\n  TextAreaField,\n  InputAlertField,\n};\n"]},"metadata":{},"sourceType":"module"}