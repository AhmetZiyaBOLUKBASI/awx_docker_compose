{"ast":null,"code":"import _defineProperty from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import{i18n}from\"@lingui/core\";import React,{useState,useCallback}from'react';import styled from'styled-components';import{Route,Switch}from'react-router-dom';import{Alert,ClipboardCopy,ClipboardCopyVariant,Modal}from'@patternfly/react-core';import ScreenHeader from'components/ScreenHeader';import{Detail,DetailList}from'components/DetailList';import PersistentFilters from'components/PersistentFilters';import ApplicationsList from'./ApplicationsList';import ApplicationAdd from'./ApplicationAdd';import Application from'./Application';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ApplicationAlert=styled(Alert)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  margin-bottom: 20px;\\n\"])));function Applications(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),applicationModalSource=_useState2[0],setApplicationModalSource=_useState2[1];var _useState3=useState({'/applications':/*i18n*/i18n._(\"Applications\"),'/applications/add':/*i18n*/i18n._(\"Create New Application\")}),_useState4=_slicedToArray(_useState3,2),breadcrumbConfig=_useState4[0],setBreadcrumbConfig=_useState4[1];var buildBreadcrumbConfig=useCallback(function(application){var _setBreadcrumbConfig;if(!application){return;}setBreadcrumbConfig((_setBreadcrumbConfig={'/applications':/*i18n*/i18n._(\"Applications\"),'/applications/add':/*i18n*/i18n._(\"Create New Application\")},_defineProperty(_setBreadcrumbConfig,\"/applications/\".concat(application.id),\"\".concat(application.name)),_defineProperty(_setBreadcrumbConfig,\"/applications/\".concat(application.id,\"/edit\"),/*i18n*/i18n._(\"Edit Details\")),_defineProperty(_setBreadcrumbConfig,\"/applications/\".concat(application.id,\"/details\"),/*i18n*/i18n._(\"Details\")),_defineProperty(_setBreadcrumbConfig,\"/applications/\".concat(application.id,\"/tokens\"),/*i18n*/i18n._(\"Tokens\")),_setBreadcrumbConfig));},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ScreenHeader,{streamType:\"o_auth2_application,o_auth2_access_token\",breadcrumbConfig:breadcrumbConfig}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/applications/add\",children:/*#__PURE__*/_jsx(ApplicationAdd,{onSuccessfulAdd:function onSuccessfulAdd(app){return setApplicationModalSource(app);}})}),/*#__PURE__*/_jsx(Route,{path:\"/applications/:id\",children:/*#__PURE__*/_jsx(Application,{setBreadcrumb:buildBreadcrumbConfig})}),/*#__PURE__*/_jsx(Route,{path:\"/applications\",children:/*#__PURE__*/_jsx(PersistentFilters,{pageKey:\"applications\",children:/*#__PURE__*/_jsx(ApplicationsList,{})})})]}),applicationModalSource&&/*#__PURE__*/_jsxs(Modal,{\"aria-label\":/*i18n*/i18n._(\"Application information\"),isOpen:true,variant:\"medium\",title:/*i18n*/i18n._(\"Application information\"),onClose:function onClose(){return setApplicationModalSource(null);},children:[applicationModalSource.client_secret&&/*#__PURE__*/_jsx(ApplicationAlert,{variant:\"info\",isInline:true,title:/*i18n*/i18n._(\"This is the only time the client secret will be shown.\")}),/*#__PURE__*/_jsxs(DetailList,{stacked:true,children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Name\"),value:applicationModalSource.name}),applicationModalSource.client_id&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Client ID\"),value:/*#__PURE__*/_jsx(ClipboardCopy,{isReadOnly:true,variant:ClipboardCopyVariant.expansion,children:applicationModalSource.client_id})}),applicationModalSource.client_secret&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Client secret\"),value:/*#__PURE__*/_jsx(ClipboardCopy,{isReadOnly:true,variant:ClipboardCopyVariant.expansion,children:applicationModalSource.client_secret})})]})]})]});}export default Applications;","map":{"version":3,"sources":["/awx_devel/awx/ui/src/screens/Application/Applications.js"],"names":["React","useState","useCallback","styled","Route","Switch","Alert","ClipboardCopy","ClipboardCopyVariant","Modal","ScreenHeader","Detail","DetailList","PersistentFilters","ApplicationsList","ApplicationAdd","Application","ApplicationAlert","Applications","applicationModalSource","setApplicationModalSource","breadcrumbConfig","setBreadcrumbConfig","buildBreadcrumbConfig","application","id","name","app","client_secret","client_id","expansion"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from 'react';\n\nimport { t } from '@lingui/macro';\nimport styled from 'styled-components';\nimport { Route, Switch } from 'react-router-dom';\nimport {\n  Alert,\n  ClipboardCopy,\n  ClipboardCopyVariant,\n  Modal,\n} from '@patternfly/react-core';\nimport ScreenHeader from 'components/ScreenHeader';\nimport { Detail, DetailList } from 'components/DetailList';\nimport PersistentFilters from 'components/PersistentFilters';\nimport ApplicationsList from './ApplicationsList';\nimport ApplicationAdd from './ApplicationAdd';\nimport Application from './Application';\n\nconst ApplicationAlert = styled(Alert)`\n  margin-bottom: 20px;\n`;\n\nfunction Applications() {\n  const [applicationModalSource, setApplicationModalSource] = useState(null);\n  const [breadcrumbConfig, setBreadcrumbConfig] = useState({\n    '/applications': t`Applications`,\n    '/applications/add': t`Create New Application`,\n  });\n\n  const buildBreadcrumbConfig = useCallback((application) => {\n    if (!application) {\n      return;\n    }\n    setBreadcrumbConfig({\n      '/applications': t`Applications`,\n      '/applications/add': t`Create New Application`,\n      [`/applications/${application.id}`]: `${application.name}`,\n      [`/applications/${application.id}/edit`]: t`Edit Details`,\n      [`/applications/${application.id}/details`]: t`Details`,\n      [`/applications/${application.id}/tokens`]: t`Tokens`,\n    });\n  }, []);\n\n  return (\n    <>\n      <ScreenHeader\n        streamType=\"o_auth2_application,o_auth2_access_token\"\n        breadcrumbConfig={breadcrumbConfig}\n      />\n      <Switch>\n        <Route path=\"/applications/add\">\n          <ApplicationAdd\n            onSuccessfulAdd={(app) => setApplicationModalSource(app)}\n          />\n        </Route>\n        <Route path=\"/applications/:id\">\n          <Application setBreadcrumb={buildBreadcrumbConfig} />\n        </Route>\n        <Route path=\"/applications\">\n          <PersistentFilters pageKey=\"applications\">\n            <ApplicationsList />\n          </PersistentFilters>\n        </Route>\n      </Switch>\n      {applicationModalSource && (\n        <Modal\n          aria-label={t`Application information`}\n          isOpen\n          variant=\"medium\"\n          title={t`Application information`}\n          onClose={() => setApplicationModalSource(null)}\n        >\n          {applicationModalSource.client_secret && (\n            <ApplicationAlert\n              variant=\"info\"\n              isInline\n              title={t`This is the only time the client secret will be shown.`}\n            />\n          )}\n          <DetailList stacked>\n            <Detail label={t`Name`} value={applicationModalSource.name} />\n            {applicationModalSource.client_id && (\n              <Detail\n                label={t`Client ID`}\n                value={\n                  <ClipboardCopy\n                    isReadOnly\n                    variant={ClipboardCopyVariant.expansion}\n                  >\n                    {applicationModalSource.client_id}\n                  </ClipboardCopy>\n                }\n              />\n            )}\n            {applicationModalSource.client_secret && (\n              <Detail\n                label={t`Client secret`}\n                value={\n                  <ClipboardCopy\n                    isReadOnly\n                    variant={ClipboardCopyVariant.expansion}\n                  >\n                    {applicationModalSource.client_secret}\n                  </ClipboardCopy>\n                }\n              />\n            )}\n          </DetailList>\n        </Modal>\n      )}\n    </>\n  );\n}\n\nexport default Applications;\n"]},"metadata":{},"sourceType":"module"}